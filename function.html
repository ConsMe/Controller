<!DOCTYPE html>
<html lang="ru">
<head>
	<meta charset="utf-8">
	<title>Главная</title>
	<meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no"/>
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/>
	<meta name="HandheldFriendly" content="true"/>

	<link href="https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap" rel="stylesheet">
	<link rel="stylesheet" type="text/css" href="/css/reset_new.css">
	<link rel="stylesheet" type="text/css" href="/css/style_new.css">
		  <script src="/js/jquery-3.1.1.min.js"></script>
	    <script src="/js/jquery.js"></script>

	<style>
	.aside__link_active4 {
		background-color: #24C1EA;
	}
	.function-dis {
		display: none;
	}
	.function-act {
		display: block;
	}
	.header__right {
    	display: block;
	}
</style>

</head>
<script>
	function close_add_div() {
		$(".popup1").hide();
	}
</script>
<body>
<input type="hidden" id="stop_div_listener" value="0">
<input type="hidden" id="current_function_pos_hidden" value="0">
	<div class="popup"> <!--Выполнить действие?-->
		<div class="popup__modal">
			<div class="popup__hed">Удалить данную функцию?</div>
			<div class="popup__flex">
				<div class="popup__button1" onClick="close_del_function()">Нет</div>
				<div class="popup__button2" onClick="accept_del_function()">Да</div>
			</div>
		</div>
	</div>

	<div class="popup1">
		<div class="popup__modal1">
			<div class="popup__hed1">Добавить функцию</div>
			<div class="popup__flex1">
				<input type="text" class="popup__input1 input" id="function_naim" placeholder="Введите название функции">
				<div class="popup__butt1 button1" onClick="add_new_function()">Добавить</div> 
				<div class="popup__butt1 button1" onClick="close_add_div()" style="margin-left:5px;background-color:red">Отмена</div>
			</div>
		</div>
	</div>
	
	
	
	<aside class="aside">
	<div class="aside__top">
		<a class="aside__link aside__link_active1" href="/user.html">
			<svg width="25" height="25" viewBox="0 0 25 25" fill="none" xmlns="http://www.w3.org/2000/svg">
			<path opacity="0.5" d="M12.5002 11.4583C10.199 11.4583 8.3335 9.59285 8.3335 7.29167C8.3335 4.99048 10.199 3.125 12.5002 3.125C14.8013 3.125 16.6668 4.99048 16.6668 7.29167C16.6668 9.59285 14.8013 11.4583 12.5002 11.4583Z" fill="#90CEDE"/>
			<path d="M3.12568 21.0421C3.52944 16.0706 7.56449 13.543 12.4826 13.543C17.47 13.543 21.5676 15.9317 21.8728 21.043C21.885 21.2466 21.8728 21.8763 21.0903 21.8763C17.2303 21.8763 11.4945 21.8763 3.88281 21.8763C3.62158 21.8763 3.10369 21.3129 3.12568 21.0421Z" fill="#90CEDE"/>
			</svg>
		</a>
	</div>
	<div class="aside__center">
		<div class="aside__line">
			<a class="aside__link aside__link_active2" href="/home.html">
				<svg width="21" height="20" viewBox="0 0 21 20" fill="none" xmlns="http://www.w3.org/2000/svg">
				<path fill-rule="evenodd" clip-rule="evenodd" d="M1.00391 6.26571C0.382903 6.62238 0 7.28387 0 8.00001V18.0001C0 19.1047 0.895428 20.0001 2 20.0001H19C20.1045 20.0001 21 19.1047 21 18.0001V8.00001C21 7.28387 20.6171 6.62238 19.9961 6.26571L10.998 1.09769C10.6896 0.92056 10.3103 0.920561 10.0019 1.09769L1.00391 6.26571ZM8 11.0003C7.44771 11.0003 7 11.448 7 12.0003V16.0003C7 16.5526 7.44771 17.0003 8 17.0003H13C13.5523 17.0003 14 16.5526 14 16.0003V12.0003C14 11.448 13.5523 11.0003 13 11.0003H8Z" fill="#90CEDE"/>
				</svg>

			</a>
		</div>
		<div class="aside__line">
			<a class="aside__link aside__link_active3" href="/panel.html">

				<svg class="panel-dis" width="25" height="25" viewBox="0 0 25 25" fill="none" xmlns="http://www.w3.org/2000/svg">
				<rect opacity="0.5" x="17.7085" y="4.16797" width="3.125" height="13.5417" rx="1.5" fill="#90CEDE"/>
				<rect opacity="0.5" x="12.5" y="9.375" width="3.125" height="8.33333" rx="1.5" fill="#90CEDE"/>
				<path d="M5.20833 19.7917H20.8333C21.4086 19.7917 21.875 20.258 21.875 20.8333C21.875 21.4086 21.4086 21.875 20.8333 21.875H4.16667C3.59137 21.875 3.125 21.4086 3.125 20.8333V4.16667C3.125 3.59137 3.59137 3.125 4.16667 3.125C4.74196 3.125 5.20833 3.59137 5.20833 4.16667V19.7917Z" fill="#90CEDE"/>
				<rect opacity="0.5" x="7.2915" y="11.457" width="3.125" height="6.25" rx="1.5" fill="#90CEDE"/>
				</svg>

				<svg class="panel-act" width="25" height="25" viewBox="0 0 25 25" fill="none" xmlns="http://www.w3.org/2000/svg">
				<rect opacity="0.5" x="17.7083" y="4.16797" width="3.125" height="13.5417" rx="1.5" fill="white"/>
				<rect opacity="0.5" x="12.5" y="9.375" width="3.125" height="8.33333" rx="1.5" fill="white"/>
				<path d="M5.20833 19.7917H20.8333C21.4086 19.7917 21.875 20.258 21.875 20.8333C21.875 21.4086 21.4086 21.875 20.8333 21.875H4.16667C3.59137 21.875 3.125 21.4086 3.125 20.8333V4.16667C3.125 3.59137 3.59137 3.125 4.16667 3.125C4.74196 3.125 5.20833 3.59137 5.20833 4.16667V19.7917Z" fill="white"/>
				<rect opacity="0.5" x="7.29169" y="11.457" width="3.125" height="6.25" rx="1.5" fill="white"/>
				</svg>

			</a>
		</div>
		<div class="aside__line">
			<a class="aside__link aside__link_active4" href="/function.html">
				<svg class="function-dis" width="25" height="25" viewBox="0 0 25 25" fill="none" xmlns="http://www.w3.org/2000/svg">
				<path fill-rule="evenodd" clip-rule="evenodd" d="M7.68536 7.92655C8.08753 8.28121 8.10671 8.87421 7.7282 9.25104L4.37325 12.591L7.7282 15.931C8.10671 16.3079 8.08753 16.9009 7.68536 17.2555C7.28319 17.6102 6.65031 17.5922 6.2718 17.2154L2.2718 13.2332C1.9094 12.8724 1.9094 12.3097 2.2718 11.9489L6.2718 7.96669C6.65031 7.58986 7.28319 7.57189 7.68536 7.92655ZM17.3146 7.92655C16.9125 8.28121 16.8933 8.87421 17.2718 9.25104L20.6268 12.591L17.2718 15.931C16.8933 16.3079 16.9125 16.9009 17.3146 17.2555C17.7168 17.6102 18.3497 17.5922 18.7282 17.2154L22.7282 13.2332C23.0906 12.8724 23.0906 12.3097 22.7282 11.9489L18.7282 7.96669C18.3497 7.58986 17.7168 7.57189 17.3146 7.92655Z" fill="#90CEDE"/>
				<rect opacity="0.5" width="1.90705" height="15.0425" rx="0.953523" transform="matrix(0.966965 0.254909 -0.262781 0.964856 13.5547 5)" fill="#90CEDE"/>
				</svg>

				<svg class="function-act" width="25" height="25" viewBox="0 0 25 25" fill="none" xmlns="http://www.w3.org/2000/svg">
				<path fill-rule="evenodd" clip-rule="evenodd" d="M7.68536 7.9246C8.08753 8.27926 8.10671 8.87225 7.7282 9.24908L4.37325 12.5891L7.7282 15.9291C8.10671 16.3059 8.08753 16.8989 7.68536 17.2536C7.28319 17.6082 6.65031 17.5903 6.2718 17.2134L2.2718 13.2313C1.9094 12.8705 1.9094 12.3077 2.2718 11.9469L6.2718 7.96473C6.65031 7.5879 7.28319 7.56993 7.68536 7.9246ZM17.3146 7.9246C16.9125 8.27926 16.8933 8.87225 17.2718 9.24908L20.6268 12.5891L17.2718 15.9291C16.8933 16.3059 16.9125 16.8989 17.3146 17.2536C17.7168 17.6082 18.3497 17.5903 18.7282 17.2134L22.7282 13.2313C23.0906 12.8705 23.0906 12.3077 22.7282 11.9469L18.7282 7.96473C18.3497 7.5879 17.7168 7.56993 17.3146 7.9246Z" fill="white"/>
				<rect opacity="0.5" width="1.90705" height="15.0425" rx="0.953523" transform="matrix(0.966965 0.254909 -0.262781 0.964856 13.5547 5)" fill="white"/>
				
				</svg>


			</a>
		</div>
		<div class="aside__line">
			<a class="aside__link aside__link_active5" href="/network.html">
				<svg width="25" height="25" viewBox="0 0 25 25" fill="none" xmlns="http://www.w3.org/2000/svg">
				<path opacity="0.5" fill-rule="evenodd" clip-rule="evenodd" d="M6.2085 8.33203C5.65621 8.33203 5.2085 8.77975 5.2085 9.33203V15.6654C5.2085 16.2176 5.65621 16.6654 6.2085 16.6654H6.29183C6.84412 16.6654 7.29183 16.2176 7.29183 15.6654L7.29183 13.5404H15.6252C17.9264 13.5404 19.7918 11.6749 19.7918 9.3737V8.33203H17.7085V9.3737C17.7085 10.5243 16.7758 11.457 15.6252 11.457H7.29183L7.29183 9.33203C7.29183 8.77975 6.84412 8.33203 6.29183 8.33203H6.2085Z" fill="#90CEDE"/>
				<path fill-rule="evenodd" clip-rule="evenodd" d="M2.0835 19.7917C2.0835 22.0929 3.94898 23.9583 6.25016 23.9583C8.55135 23.9583 10.4168 22.0929 10.4168 19.7917C10.4168 17.4905 8.55135 15.625 6.25016 15.625C3.94898 15.625 2.0835 17.4905 2.0835 19.7917ZM8.3335 19.7917C8.3335 20.9423 7.40076 21.875 6.25016 21.875C5.09957 21.875 4.16683 20.9423 4.16683 19.7917C4.16683 18.6411 5.09957 17.7083 6.25016 17.7083C7.40076 17.7083 8.3335 18.6411 8.3335 19.7917Z" fill="#90CEDE"/>
				<path fill-rule="evenodd" clip-rule="evenodd" d="M14.5835 5.20964C14.5835 7.51082 16.449 9.3763 18.7502 9.3763C21.0513 9.3763 22.9168 7.51082 22.9168 5.20964C22.9168 2.90845 21.0513 1.04297 18.7502 1.04297C16.449 1.04297 14.5835 2.90845 14.5835 5.20964ZM20.8335 5.20965C20.8335 6.36024 19.9008 7.29298 18.7502 7.29298C17.5996 7.29298 16.6668 6.36024 16.6668 5.20965C16.6668 4.05905 17.5996 3.12631 18.7502 3.12631C19.9008 3.12631 20.8335 4.05905 20.8335 5.20965Z" fill="#90CEDE"/>
				<path fill-rule="evenodd" clip-rule="evenodd" d="M2.0835 5.20964C2.0835 7.51082 3.94898 9.3763 6.25016 9.3763C8.55135 9.3763 10.4168 7.51082 10.4168 5.20964C10.4168 2.90845 8.55135 1.04297 6.25016 1.04297C3.94898 1.04297 2.0835 2.90845 2.0835 5.20964ZM8.3335 5.20965C8.3335 6.36024 7.40076 7.29298 6.25016 7.29298C5.09957 7.29298 4.16683 6.36024 4.16683 5.20965C4.16683 4.05905 5.09957 3.12631 6.25016 3.12631C7.40076 3.12631 8.3335 4.05905 8.3335 5.20965Z" fill="#90CEDE"/>
				</svg>


			</a>
		</div>
		<div class="aside__line aside__line_bottom">
			<a class="aside__link aside__link_active6" href="/notices.html">
				<svg class="notices-dis" width="25" height="25" viewBox="0 0 25 25" fill="none" xmlns="http://www.w3.org/2000/svg">
				<path fill-rule="evenodd" clip-rule="evenodd" d="M11.9589 3C9.66598 3 7.73969 4.72411 7.48647 7.00306L6.83077 12.9044H5.0293C4.20087 12.9044 3.5293 13.576 3.5293 14.4044V14.7059C3.5293 15.5343 4.20087 16.2059 5.0293 16.2059H19.6371C20.4656 16.2059 21.1371 15.5343 21.1371 14.7059V14.4044C21.1371 13.576 20.4656 12.9044 19.6371 12.9044H17.8357L17.18 7.00306C16.9267 4.72411 15.0005 3 12.7075 3H11.9589Z" fill="#90CEDE"/>
				<rect opacity="0.5" x="10" y="17" width="5" height="5" rx="2.25" fill="#90CEDE"/>
				</svg>

				<svg class="notices-act" width="25" height="25" viewBox="0 0 25 25" fill="none" xmlns="http://www.w3.org/2000/svg">
				<path fill-rule="evenodd" clip-rule="evenodd" d="M11.9589 3C9.66598 3 7.73969 4.72411 7.48647 7.00306L6.83077 12.9044H5.0293C4.20087 12.9044 3.5293 13.576 3.5293 14.4044V14.7059C3.5293 15.5343 4.20087 16.2059 5.0293 16.2059H19.6371C20.4656 16.2059 21.1371 15.5343 21.1371 14.7059V14.4044C21.1371 13.576 20.4656 12.9044 19.6371 12.9044H17.8357L17.18 7.00306C16.9267 4.72411 15.0005 3 12.7075 3H11.9589Z" fill="white"/>
				<rect opacity="0.5" x="10" y="17" width="5" height="5" rx="2.25" fill="white"/>
				</svg>

			</a>
		</div>
	</div>
	<div class="aside__bottom">
		<a class="aside__link aside__link_active7" href="/index.html">
			<svg width="25" height="25" viewBox="0 0 25 25" fill="none" xmlns="http://www.w3.org/2000/svg">
			<path opacity="0.5" d="M14.5842 7.29297C14.5842 7.86826 15.0503 8.33463 15.6254 8.33463C16.2004 8.33463 16.6666 7.86826 16.6666 7.29297V6.2513C16.6666 3.95011 14.8019 2.08463 12.5017 2.08463H6.25535C3.95517 2.08463 2.0905 3.95011 2.0905 6.2513L2.0905 18.7513C2.0905 21.0525 3.95517 22.918 6.25535 22.918H12.509C14.8092 22.918 16.6738 21.0525 16.6738 18.7513V17.7096C16.6738 17.1343 16.2077 16.668 15.6326 16.668C15.0576 16.668 14.5914 17.1343 14.5914 17.7096V18.7513C14.5914 19.9019 13.6591 20.8346 12.509 20.8346H6.25535C5.10526 20.8346 4.17292 19.9019 4.17292 18.7513L4.17292 6.2513C4.17292 5.10071 5.10526 4.16797 6.25535 4.16797H12.5017C13.6518 4.16797 14.5842 5.10071 14.5842 6.2513V7.29297Z" fill="#90CEDE"/>
			<rect opacity="0.5" x="20.8335" y="11.457" width="2.08333" height="12.5" rx="1" transform="rotate(90 20.8335 11.457)" fill="#90CEDE"/>
			<path d="M18.0136 10.1129C17.6068 9.70608 17.6068 9.04653 18.0136 8.63973C18.4204 8.23294 19.0799 8.23294 19.4867 8.63973L22.6117 11.7647C23.0185 12.1715 23.0185 12.8311 22.6117 13.2379L19.4867 16.3629C19.0799 16.7697 18.4204 16.7697 18.0136 16.3629C17.6068 15.9561 17.6068 15.2965 18.0136 14.8897L20.402 12.5013L18.0136 10.1129Z" fill="#90CEDE"/>
			</svg>
		</a>
	</div>

	<div class="aside__bottom aside__mobail">
		<a class="aside__link aside__link_active7" >
			<svg width="25" height="25" viewBox="0 0 25 25" fill="none" xmlns="http://www.w3.org/2000/svg">
			<path opacity="0.5" d="M14.5842 7.29297C14.5842 7.86826 15.0503 8.33463 15.6254 8.33463C16.2004 8.33463 16.6666 7.86826 16.6666 7.29297V6.2513C16.6666 3.95011 14.8019 2.08463 12.5017 2.08463H6.25535C3.95517 2.08463 2.0905 3.95011 2.0905 6.2513L2.0905 18.7513C2.0905 21.0525 3.95517 22.918 6.25535 22.918H12.509C14.8092 22.918 16.6738 21.0525 16.6738 18.7513V17.7096C16.6738 17.1343 16.2077 16.668 15.6326 16.668C15.0576 16.668 14.5914 17.1343 14.5914 17.7096V18.7513C14.5914 19.9019 13.6591 20.8346 12.509 20.8346H6.25535C5.10526 20.8346 4.17292 19.9019 4.17292 18.7513L4.17292 6.2513C4.17292 5.10071 5.10526 4.16797 6.25535 4.16797H12.5017C13.6518 4.16797 14.5842 5.10071 14.5842 6.2513V7.29297Z" fill="#90CEDE"/>
			<rect opacity="0.5" x="20.8335" y="11.457" width="2.08333" height="12.5" rx="1" transform="rotate(90 20.8335 11.457)" fill="#90CEDE"/>
			<path d="M18.0136 10.1129C17.6068 9.70608 17.6068 9.04653 18.0136 8.63973C18.4204 8.23294 19.0799 8.23294 19.4867 8.63973L22.6117 11.7647C23.0185 12.1715 23.0185 12.8311 22.6117 13.2379L19.4867 16.3629C19.0799 16.7697 18.4204 16.7697 18.0136 16.3629C17.6068 15.9561 17.6068 15.2965 18.0136 14.8897L20.402 12.5013L18.0136 10.1129Z" fill="#90CEDE"/>
			</svg>
		</a>
	</div>
	<div class="aside__bottom aside__mobail">
		<a class="aside__link aside__link_active7">
			<svg width="25" height="25" viewBox="0 0 25 25" fill="none" xmlns="http://www.w3.org/2000/svg">
			<path opacity="0.5" d="M14.5842 7.29297C14.5842 7.86826 15.0503 8.33463 15.6254 8.33463C16.2004 8.33463 16.6666 7.86826 16.6666 7.29297V6.2513C16.6666 3.95011 14.8019 2.08463 12.5017 2.08463H6.25535C3.95517 2.08463 2.0905 3.95011 2.0905 6.2513L2.0905 18.7513C2.0905 21.0525 3.95517 22.918 6.25535 22.918H12.509C14.8092 22.918 16.6738 21.0525 16.6738 18.7513V17.7096C16.6738 17.1343 16.2077 16.668 15.6326 16.668C15.0576 16.668 14.5914 17.1343 14.5914 17.7096V18.7513C14.5914 19.9019 13.6591 20.8346 12.509 20.8346H6.25535C5.10526 20.8346 4.17292 19.9019 4.17292 18.7513L4.17292 6.2513C4.17292 5.10071 5.10526 4.16797 6.25535 4.16797H12.5017C13.6518 4.16797 14.5842 5.10071 14.5842 6.2513V7.29297Z" fill="#90CEDE"/>
			<rect opacity="0.5" x="20.8335" y="11.457" width="2.08333" height="12.5" rx="1" transform="rotate(90 20.8335 11.457)" fill="#90CEDE"/>
			<path d="M18.0136 10.1129C17.6068 9.70608 17.6068 9.04653 18.0136 8.63973C18.4204 8.23294 19.0799 8.23294 19.4867 8.63973L22.6117 11.7647C23.0185 12.1715 23.0185 12.8311 22.6117 13.2379L19.4867 16.3629C19.0799 16.7697 18.4204 16.7697 18.0136 16.3629C17.6068 15.9561 17.6068 15.2965 18.0136 14.8897L20.402 12.5013L18.0136 10.1129Z" fill="#90CEDE"/>
			</svg>
		</a>
	</div>
	<div class="aside__bottom aside__mobail">
		<a class="aside__link aside__link_active7">
			<svg width="25" height="25" viewBox="0 0 25 25" fill="none" xmlns="http://www.w3.org/2000/svg">
			<path opacity="0.5" d="M14.5842 7.29297C14.5842 7.86826 15.0503 8.33463 15.6254 8.33463C16.2004 8.33463 16.6666 7.86826 16.6666 7.29297V6.2513C16.6666 3.95011 14.8019 2.08463 12.5017 2.08463H6.25535C3.95517 2.08463 2.0905 3.95011 2.0905 6.2513L2.0905 18.7513C2.0905 21.0525 3.95517 22.918 6.25535 22.918H12.509C14.8092 22.918 16.6738 21.0525 16.6738 18.7513V17.7096C16.6738 17.1343 16.2077 16.668 15.6326 16.668C15.0576 16.668 14.5914 17.1343 14.5914 17.7096V18.7513C14.5914 19.9019 13.6591 20.8346 12.509 20.8346H6.25535C5.10526 20.8346 4.17292 19.9019 4.17292 18.7513L4.17292 6.2513C4.17292 5.10071 5.10526 4.16797 6.25535 4.16797H12.5017C13.6518 4.16797 14.5842 5.10071 14.5842 6.2513V7.29297Z" fill="#90CEDE"/>
			<rect opacity="0.5" x="20.8335" y="11.457" width="2.08333" height="12.5" rx="1" transform="rotate(90 20.8335 11.457)" fill="#90CEDE"/>
			<path d="M18.0136 10.1129C17.6068 9.70608 17.6068 9.04653 18.0136 8.63973C18.4204 8.23294 19.0799 8.23294 19.4867 8.63973L22.6117 11.7647C23.0185 12.1715 23.0185 12.8311 22.6117 13.2379L19.4867 16.3629C19.0799 16.7697 18.4204 16.7697 18.0136 16.3629C17.6068 15.9561 17.6068 15.2965 18.0136 14.8897L20.402 12.5013L18.0136 10.1129Z" fill="#90CEDE"/>
			</svg>
		</a>
	</div>
</aside>

<style>
form * {
  display: none;
  margin: 10px;
}
</style>

<form onsubmit="download(this['name'].value, this['text'].value)">
  <input type="text" name="name" value="test.txt">
  <textarea name="text"></textarea>
  <input type="submit" value="Download">
</form>

<header class="header">
	<div class="header__left">
		<div class="header__date-time">
			<div class="header__time">
				<div class="header__border-numb" id="hour_div"></div>
				<div class="header__second">:</div>
				<div class="header__border-numb" id="minute_div"></div>
			</div>

			<div class="header__date-bl">
				<div class="header__date header__date_weekday" id="day_name"></div>
				<div class="header__date " id="date_day_month"></div>
			</div>
		</div>

		<div class="header__controller">
			<div id="controller_id"></div>
			<div class="header__vercion" id="firmware_version"></div>
		</div>
	</div>
	<div class="header__right">
	<!---	<input type="text" name="name" class="header__serch" placeholder="Федоров Иван Иванович">
		<svg class="header__svg" width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
		<path opacity="0.5" d="M11.912 13.9226C11.5866 13.5972 11.5866 13.0695 11.912 12.7441C12.2375 12.4186 12.7651 12.4186 13.0906 12.7441L16.4239 16.0774C16.7493 16.4028 16.7493 16.9305 16.4239 17.2559C16.0985 17.5814 15.5708 17.5814 15.2454 17.2559L11.912 13.9226Z" fill="#314F57"/>
		<path fill-rule="evenodd" clip-rule="evenodd" d="M3.33203 9.16732C3.33203 12.389 5.9437 15.0007 9.16536 15.0007C12.387 15.0007 14.9987 12.389 14.9987 9.16732C14.9987 5.94566 12.387 3.33398 9.16536 3.33398C5.9437 3.33398 3.33203 5.94566 3.33203 9.16732ZM13.3333 9.16667C13.3333 11.4679 11.4679 13.3333 9.16667 13.3333C6.86548 13.3333 5 11.4679 5 9.16667C5 6.86548 6.86548 5 9.16667 5C11.4679 5 13.3333 6.86548 13.3333 9.16667Z" fill="#314F57"/>
		</svg>
	----->
	</div>
</header>



<script>
//убираем скролл на мобильных устройствах 
let vh = window.innerHeight * 0.01;
// Then we set the value in the --vh custom property to the root of the document
document.documentElement.style.setProperty('--vh', `${vh}px`);
</script>
	
	
	<script>
	
	
function get_info() {

	///////////{"id":"F3EbC34DDDDDDD","fw_ver":"4.56","date":"14.09.2020","time":"15:30"}
	$.ajax({
							type: "POST",
							url: "/api/info.php",
							data: '',
							success: function(msg){
							
								
							
									var json=JSON.parse(msg);
								var id=json.id;
								var fw_ver=json.ver;
								var date=json.date;
								var time=json.time;
								
								document.getElementById('controller_id').innerHTML='ID контроллера: '+id;
								document.getElementById('firmware_version').innerHTML='Версия прошивки: v '+fw_ver;
								
								////разбиваем время
								
							
								var hour_str=time.hour;
								var minute_str=time.min;
								
								document.getElementById('hour_div').innerHTML=hour_str;
								document.getElementById('minute_div').innerHTML=minute_str;
								
								var day=time.day;
								var month=time.mon;
								var year=time.year;
								
								//document.getElementById("day_name").innerHTML=day+"."+month+"."+year;
								
								////получаем день и месяц, дата
								var date_time=new Date(year, month-1, day);
								var month_index=date_time.getMonth();
								var day_index=date_time.getDay();
								
								var day_name="";
								var month_name="";
								
								if(month_index==0) month_name="Января";
								if(month_index==1) month_name="Февраля";
								if(month_index==2) month_name="Марта";
								if(month_index==3) month_name="Апреля";
								if(month_index==4) month_name="Мая";
								if(month_index==5) month_name="Июня";
								if(month_index==6) month_name="Июля";
								if(month_index==7) month_name="Августа";
								if(month_index==8) month_name="Сентября";
								if(month_index==9) month_name="Октября";
								if(month_index==10) month_name="Ноября";
								if(month_index==11) month_name="Декабря";
								
								document.getElementById("date_day_month").innerHTML=day+" "+month_name;
							
								if(day_index==0) day_name="Воскресенье";
								if(day_index==1) day_name="Понедельник";
								if(day_index==2) day_name="Вторник";
								if(day_index==3) day_name="Среда";
								if(day_index==4) day_name="Четверг";
								if(day_index==5) day_name="Пятница";
								if(day_index==6) day_name="Суббота";
								
								document.getElementById("day_name").innerHTML=day_name;
							}
							
						});



}

  $(document).ready(function(){
			get_info();
			setInterval("get_info()",10000);
	});
	
	
	var input_block_list_template="";
	var condition_block_list_template="";
	var action_block_list_template="";
	
	var action1_block_list_template="";
	var action2_block_list_template="";
	var action3_block_list_template="";
	var action4_block_list_template="";
	var action5_block_list_template="";
	
	var condition1_block_list_template="";
	var condition2_block_list_template="";
	var condition3_block_list_template="";
	var condition4_block_list_template="";
	var condition5_block_list_template="";
	
	var input_input_list_template="";
	var condition_input_list_template="";
	
	var condition1_input_list_template="";
	var condition2_input_list_template="";
	var condition3_input_list_template="";
	var condition4_input_list_template="";
	var condition5_input_list_template="";
	
	var input_output_list_template="";
	var condition_output_list_template="";
	var action_output_list_template="";
	
	var action1_output_list_template="";
	var action2_output_list_template="";
	var action3_output_list_template="";
	var action4_output_list_template="";
	var action5_output_list_template="";
	
	var condition1_output_list_template="";
	var condition2_output_list_template="";
	var condition3_output_list_template="";
	var condition4_output_list_template="";
	var condition5_output_list_template="";
	
	var input_address_list_template="";
	var condition_address_list_template="";
	
	var condition1_address_list="";
	
	var condition1_address_list_template="";
	var condition2_address_list_template="";
	var condition3_address_list_template="";
	var condition4_address_list_template="";
	var condition5_address_list_template="";
	
		var input_address_list_template_key="";
		var input_address_list_template_button="";
		var input_address_list_template_temp="";
		
		var condition_address_list_template_key="";
		var condition_address_list_template_button="";
		var condition_address_list_template_temp="";
		
		var condition1_address_list_template_key="";
		var condition1_address_list_template_button="";
		var condition1_address_list_template_temp="";
		
		var condition2_address_list_template_key="";
		var condition2_address_list_template_button="";
		var condition2_address_list_template_temp="";
		
		var condition3_address_list_template_key="";
		var condition3_address_list_template_button="";
		var condition3_address_list_template_temp="";
		
		var condition4_address_list_template_key="";
		var condition4_address_list_template_button="";
		var condition4_address_list_template_temp="";
		
		var condition5_address_list_template_key="";
		var condition5_address_list_template_button="";
		var condition5_address_list_template_temp="";
		
		
	var input_address_list_key="";
	var input_address_list_button="";
	var input_address_list_temp="";
	
	var condition_address_list_key="";
	var condition_address_list_button="";
	var condition_address_list_temp="";
	
	var condition1_address_list_key="";
	var condition1_address_list_button="";
	var condition1_address_list_temp="";
	
	var condition2_address_list_key="";
	var condition2_address_list_button="";
	var condition2_address_list_temp="";
	
	var condition3_address_list_key="";
	var condition3_address_list_button="";
	var condition3_address_list_temp="";
	
	var condition4_address_list_key="";
	var condition4_address_list_button="";
	var condition4_address_list_temp="";
	
	var condition5_address_list_key="";
	var condition5_address_list_button="";
	var condition5_address_list_temp="";
	
	var current_function_pos=0;
	var set_function_to_del="";
	
	////добавление действия////////////////////////////////
	function add_new_action(id_func) {
		var action_pos=1;
		
		if(document.getElementById('row_action2_'+id_func).style.display=="block") {
			action_pos=2;
		} 
		if(document.getElementById('row_action3_'+id_func).style.display=="block") {
			action_pos=3;
		}
		
		if(document.getElementById('row_action4_'+id_func).style.display=="block") {
			action_pos=4;
		}
		if(document.getElementById('row_action5_'+id_func).style.display=="block") {
			action_pos=5;
		}
		
		///alert(action_pos);
		
		if(action_pos<5) {
			action_pos=action_pos+1;
			document.getElementById('row_action'+action_pos+'_'+id_func).style.display="block";
		}
		
		
		if(document.getElementById('row_action2_'+id_func).style.display=="block") {
			document.getElementById('del_action_button_'+id_func).style.display="block";
		} else {
			document.getElementById('del_action_button_'+id_func).style.display="none";
		}
		
		if(document.getElementById('row_action3_'+id_func).style.display=="block") {
			document.getElementById('del_action_button_'+id_func).style.display="block";
		}
		
		if(document.getElementById('row_action4_'+id_func).style.display=="block") {
			document.getElementById('del_action_button_'+id_func).style.display="block";
		}
		if(document.getElementById('row_action5_'+id_func).style.display=="block") {
			document.getElementById('del_action_button_'+id_func).style.display="block";
			document.getElementById('add_action_button_'+id_func).style.display="none";
		}
	}
	
	////////////////////удаление действия////////////////////////////////
	function del_new_action(id_func) {
		
		var action_pos=1;
		
		if(document.getElementById('row_action2_'+id_func).style.display=="block") {
			action_pos=2;
		} 
		if(document.getElementById('row_action3_'+id_func).style.display=="block") {
			action_pos=3;
		}
		
		if(document.getElementById('row_action4_'+id_func).style.display=="block") {
			action_pos=4;
		}
		if(document.getElementById('row_action5_'+id_func).style.display=="block") {
			action_pos=5;
		}
		
		///alert(action_pos);
		
		if(action_pos>1) {
			//action_pos=action_pos;
			//alert(action_pos);
			document.getElementById('row_action'+action_pos+'_'+id_func).style.display="none";
		}
		
		
		if(document.getElementById('row_action2_'+id_func).style.display=="block") {
			document.getElementById('del_action_button_'+id_func).style.display="block";
			document.getElementById('add_action_button_'+id_func).style.display="block";
		} else {
			document.getElementById('del_action_button_'+id_func).style.display="none";
			
		}
		
		if(document.getElementById('row_action3_'+id_func).style.display=="block") {
			document.getElementById('del_action_button_'+id_func).style.display="block";
			document.getElementById('add_action_button_'+id_func).style.display="block";
		}
		
		if(document.getElementById('row_action4_'+id_func).style.display=="block") {
			document.getElementById('del_action_button_'+id_func).style.display="block";
			document.getElementById('add_action_button_'+id_func).style.display="block";
		}
		if(document.getElementById('row_action5_'+id_func).style.display=="block") {
			document.getElementById('del_action_button_'+id_func).style.display="block";
			document.getElementById('add_action_button_'+id_func).style.display="none";
		}	
		
	}
	
	
	////добавление действия////////////////////////////////
	function add_new_condition(id_func) {
		var action_pos=1;
		
		if(document.getElementById('row_condition2_'+id_func).style.display=="block") {
			action_pos=2;
		} 
		if(document.getElementById('row_condition3_'+id_func).style.display=="block") {
			action_pos=3;
		}
		
		if(document.getElementById('row_condition4_'+id_func).style.display=="block") {
			action_pos=4;
		}
		if(document.getElementById('row_condition5_'+id_func).style.display=="block") {
			action_pos=5;
		}
		
		///alert(action_pos);
		
		if(action_pos<5) {
			action_pos=action_pos+1;
			document.getElementById('row_condition'+action_pos+'_'+id_func).style.display="block";
		}
		
		
		if(document.getElementById('row_condition2_'+id_func).style.display=="block") {
			document.getElementById('del_condition_button_'+id_func).style.display="block";
		} else {
			document.getElementById('del_condition_button_'+id_func).style.display="none";
		}
		
		if(document.getElementById('row_condition3_'+id_func).style.display=="block") {
			document.getElementById('del_condition_button_'+id_func).style.display="block";
		}
		
		if(document.getElementById('row_condition4_'+id_func).style.display=="block") {
			document.getElementById('del_condition_button_'+id_func).style.display="block";
		}
		if(document.getElementById('row_condition5_'+id_func).style.display=="block") {
			document.getElementById('del_condition_button_'+id_func).style.display="block";
			document.getElementById('add_condition_button_'+id_func).style.display="none";
		}
	}
	
	////////////////////удаление действия////////////////////////////////
	function del_new_condition(id_func) {
		
		var condition_pos=1;
		
		if(document.getElementById('row_condition2_'+id_func).style.display=="block") {
			condition_pos=2;
		} 
		if(document.getElementById('row_condition3_'+id_func).style.display=="block") {
			condition_pos=3;
		}
		
		if(document.getElementById('row_condition4_'+id_func).style.display=="block") {
			condition_pos=4;
		}
		if(document.getElementById('row_condition5_'+id_func).style.display=="block") {
			condition_pos=5;
		}
		
		///alert(condition_pos);
		
		if(condition_pos>1) {
			//condition_pos=condition_pos;
			//alert(condition_pos);
			document.getElementById('row_condition'+condition_pos+'_'+id_func).style.display="none";
		}
		
		
		if(document.getElementById('row_condition2_'+id_func).style.display=="block") {
			document.getElementById('del_condition_button_'+id_func).style.display="block";
			document.getElementById('add_condition_button_'+id_func).style.display="block";
		} else {
			document.getElementById('del_condition_button_'+id_func).style.display="none";
			
		}
		
		if(document.getElementById('row_condition3_'+id_func).style.display=="block") {
			document.getElementById('del_condition_button_'+id_func).style.display="block";
			document.getElementById('add_condition_button_'+id_func).style.display="block";
		}
		
		if(document.getElementById('row_condition4_'+id_func).style.display=="block") {
			document.getElementById('del_condition_button_'+id_func).style.display="block";
			document.getElementById('add_condition_button_'+id_func).style.display="block";
		}
		if(document.getElementById('row_condition5_'+id_func).style.display=="block") {
			document.getElementById('del_condition_button_'+id_func).style.display="block";
			document.getElementById('add_condition_button_'+id_func).style.display="none";
		}	
		
	}
	
	function generate_block_lists(curfpos) {
		
		///подготовка списка глобальных значений, блоков, выходов, выходов
		
		input_block_list=replaceAll(input_block_list_template,"FUNC","func"+curfpos);
		condition_block_list=replaceAll(condition_block_list_template,"FUNC","func"+curfpos);
		
		condition1_block_list=replaceAll(condition1_block_list_template,"FUNC","func"+curfpos);
		condition2_block_list=replaceAll(condition2_block_list_template,"FUNC","func"+curfpos);
		condition3_block_list=replaceAll(condition3_block_list_template,"FUNC","func"+curfpos);
		condition4_block_list=replaceAll(condition4_block_list_template,"FUNC","func"+curfpos);
		condition5_block_list=replaceAll(condition5_block_list_template,"FUNC","func"+curfpos);
		
		action_block_list=replaceAll(action_block_list_template,"FUNC","func"+curfpos);
		
		action1_block_list=replaceAll(action1_block_list_template,"FUNC","func"+curfpos);
		action2_block_list=replaceAll(action2_block_list_template,"FUNC","func"+curfpos);
		action3_block_list=replaceAll(action3_block_list_template,"FUNC","func"+curfpos);
		action4_block_list=replaceAll(action4_block_list_template,"FUNC","func"+curfpos);
		action5_block_list=replaceAll(action5_block_list_template,"FUNC","func"+curfpos);
		
		input_input_list=replaceAll(input_input_list_template,"FUNC","func"+curfpos);
		condition_input_list=replaceAll(condition_input_list_template,"FUNC","func"+curfpos);
		
		condition1_input_list=replaceAll(condition1_input_list_template,"FUNC","func"+curfpos);
		condition2_input_list=replaceAll(condition2_input_list_template,"FUNC","func"+curfpos);
		condition3_input_list=replaceAll(condition3_input_list_template,"FUNC","func"+curfpos);
		condition4_input_list=replaceAll(condition4_input_list_template,"FUNC","func"+curfpos);
		condition5_input_list=replaceAll(condition5_input_list_template,"FUNC","func"+curfpos);
		
		input_output_list=replaceAll(input_output_list_template,"FUNC","func"+curfpos);
		condition_output_list=replaceAll(condition_output_list_template,"FUNC","func"+curfpos);
		
		condition1_output_list=replaceAll(condition1_output_list_template,"FUNC","func"+curfpos);
		condition2_output_list=replaceAll(condition2_output_list_template,"FUNC","func"+curfpos);
		condition3_output_list=replaceAll(condition3_output_list_template,"FUNC","func"+curfpos);
		condition4_output_list=replaceAll(condition4_output_list_template,"FUNC","func"+curfpos);
		condition5_output_list=replaceAll(condition5_output_list_template,"FUNC","func"+curfpos);
		
		action_output_list=replaceAll(action_output_list_template,"FUNC","func"+curfpos);
		
		action1_output_list=replaceAll(action1_output_list_template,"FUNC","func"+curfpos);
		action2_output_list=replaceAll(action2_output_list_template,"FUNC","func"+curfpos);
		action3_output_list=replaceAll(action3_output_list_template,"FUNC","func"+curfpos);
		action4_output_list=replaceAll(action4_output_list_template,"FUNC","func"+curfpos);
		action5_output_list=replaceAll(action5_output_list_template,"FUNC","func"+curfpos);
		
		input_address_list_key=replaceAll(input_address_list_template_key,"FUNC","func"+curfpos);
		input_address_list_button=replaceAll(input_address_list_template_button,"FUNC","func"+curfpos);
		input_address_list_temp=replaceAll(input_address_list_template_temp,"FUNC","func"+curfpos);
		
		input_address_list=input_address_list_key;
		
		condition_address_list_key=replaceAll(condition_address_list_template_key,"FUNC","func"+curfpos);
		condition_address_list_button=replaceAll(condition_address_list_template_button,"FUNC","func"+curfpos);
		condition_address_list_temp=replaceAll(condition_address_list_template_temp,"FUNC","func"+curfpos);
		
		condition1_address_list_key=replaceAll(condition1_address_list_template_key,"FUNC","func"+curfpos);
		condition1_address_list_button=replaceAll(condition1_address_list_template_button,"FUNC","func"+curfpos);
		condition1_address_list_temp=replaceAll(condition1_address_list_template_temp,"FUNC","func"+curfpos);
		
		condition2_address_list_key=replaceAll(condition2_address_list_template_key,"FUNC","func"+curfpos);
		condition2_address_list_button=replaceAll(condition2_address_list_template_button,"FUNC","func"+curfpos);
		condition2_address_list_temp=replaceAll(condition2_address_list_template_temp,"FUNC","func"+curfpos);
		
		condition3_address_list_key=replaceAll(condition3_address_list_template_key,"FUNC","func"+curfpos);
		condition3_address_list_button=replaceAll(condition3_address_list_template_button,"FUNC","func"+curfpos);
		condition3_address_list_temp=replaceAll(condition3_address_list_template_temp,"FUNC","func"+curfpos);
		
		condition4_address_list_key=replaceAll(condition4_address_list_template_key,"FUNC","func"+curfpos);
		condition4_address_list_button=replaceAll(condition4_address_list_template_button,"FUNC","func"+curfpos);
		condition4_address_list_temp=replaceAll(condition4_address_list_template_temp,"FUNC","func"+curfpos);
		
		condition5_address_list_key=replaceAll(condition5_address_list_template_key,"FUNC","func"+curfpos);
		condition5_address_list_button=replaceAll(condition5_address_list_template_button,"FUNC","func"+curfpos);
		condition5_address_list_temp=replaceAll(condition5_address_list_template_temp,"FUNC","func"+curfpos);
		
		////condition_address_list=condition_address_list_key;
		condition1_address_list=condition1_address_list_key;
		condition2_address_list=condition2_address_list_key;
		condition3_address_list=condition3_address_list_key;
		condition4_address_list=condition4_address_list_key;
		condition5_address_list=condition5_address_list_key;
		
		///console.log(condition_address_list);
		
	}
	
	
	
	function del_function(id_function) {
	
		set_function_to_del=id_function;
		$(".popup").show();
	
	}
	
	function click_div_listener(e) {
	
		
		var id_target=e.target.id;
			if(id_target=="") {
			
				////закрываем все выпадающие списки
				for (i = 0; i < current_function_pos; i++) {
				 
				 	/////перечисляем списки и закрываем их
				 	document.getElementById('select_trigger_func'+i).style.display="none";
					document.getElementById('select_block_func'+i).style.display="none";
					document.getElementById('select_input_func'+i).style.display="none";
					document.getElementById('select_output_func'+i).style.display="none";
					document.getElementById('select_input_address_func'+i).style.display="none";
					document.getElementById('select_event_func'+i).style.display="none";
					document.getElementById('select_condition_func'+i).style.display="none";
					document.getElementById('select_condition_type_func'+i).style.display="none";
					document.getElementById('select_condition_block_func'+i).style.display="none";
					document.getElementById('select_condition_input_func'+i).style.display="none";
					document.getElementById('select_condition_address_func'+i).style.display="none";
					document.getElementById('select_condition_state_func'+i).style.display="none";
					document.getElementById('select_condition_value_func'+i).style.display="none";
					document.getElementById('select_action_func'+i).style.display="none";
					document.getElementById('select_action_block_func'+i).style.display="none";
					document.getElementById('select_action_output_func'+i).style.display="none";
					document.getElementById('select_action_do_func'+i).style.display="none";
				  	
				} 
				
			}

		
	}
	

	////обновление текущего индекса функций
	setInterval(function() {
		
		document.getElementById('current_function_pos_hidden').value=current_function_pos;
		
	},500);


	
	function set_div_listener() {
	
	
	
		$("div").on("click", function(e){
			//your code here..
			var id_target= this.id;
			
			//// e.stopPropagation();
			console.log(  this.id  ); 
			
			///содержит ли селектем
			
			if(((id_target=="")&&(document.getElementById('stop_div_listener').value==0))||(id_target.indexOf("selected")!=-1)) {
			
			
				document.getElementById('stop_div_listener').value=1;
				////закрываем все выпадающие списки
				for (i = 0; i < document.getElementById('current_function_pos_hidden').value; i++) {
				 
				 	/////перечисляем списки и закрываем их
					console.log('sss = select_trigger_func'+i);
				 	document.getElementById('select_trigger_func'+i).style.display="none";
					document.getElementById('select_block_func'+i).style.display="none";
					document.getElementById('select_input_func'+i).style.display="none";
					document.getElementById('select_output_func'+i).style.display="none";
					document.getElementById('select_input_address_func'+i).style.display="none";
					document.getElementById('select_event_func'+i).style.display="none";
					document.getElementById('select_condition_func'+i).style.display="none";
					document.getElementById('select_condition_type_func'+i).style.display="none";
					document.getElementById('select_condition_block_func'+i).style.display="none";
					document.getElementById('select_condition_input_func'+i).style.display="none";
					document.getElementById('select_condition_address_func'+i).style.display="none";
					document.getElementById('select_condition_state_func'+i).style.display="none";
					document.getElementById('select_condition_value_func'+i).style.display="none";
					document.getElementById('select_action_func'+i).style.display="none";
					document.getElementById('select_action_block_func'+i).style.display="none";
					document.getElementById('select_action_output_func'+i).style.display="none";
					document.getElementById('select_action_do_func'+i).style.display="none";
				  	
				} 
				
				setTimeout(function() {
					
					document.getElementById('stop_div_listener').value=0;
					
				},1000);
				
			}

			
		    });
	}
	
		/*
	setInterval(function() {
		
		var div_arr=document.getElementsByTagName("div");
		
		for (var ii = 0; ii < div_arr.length; ii++) {
				
			var div_id=div_arr[ii].id;
				
			if(div_id!="") 
			$(div_id).on("click", function(e){
			//your code here..
			var id_target= this.id;
			
			//// e.stopPropagation();
			console.log(  this.id  ); 
			
			///содержит ли селектем
			
			if(((id_target=="")&&(document.getElementById('stop_div_listener').value==0))||(id_target.indexOf("selected")!=-1)) {
			
			
				document.getElementById('stop_div_listener').value=1;
				////закрываем все выпадающие списки
				for (i = 0; i < document.getElementById('current_function_pos_hidden').value; i++) {
				 
				 	/////перечисляем списки и закрываем их
				 	document.getElementById('select_trigger_func'+i).style.display="none";
					document.getElementById('select_block_func'+i).style.display="none";
					document.getElementById('select_input_func'+i).style.display="none";
					document.getElementById('select_output_func'+i).style.display="none";
					document.getElementById('select_input_address_func'+i).style.display="none";
					document.getElementById('select_event_func'+i).style.display="none";
					document.getElementById('select_condition_func'+i).style.display="none";
					document.getElementById('select_condition_type_func'+i).style.display="none";
					document.getElementById('select_condition_block_func'+i).style.display="none";
					document.getElementById('select_condition_input_func'+i).style.display="none";
					document.getElementById('select_condition_address_func'+i).style.display="none";
					document.getElementById('select_condition_state_func'+i).style.display="none";
					document.getElementById('select_condition_value_func'+i).style.display="none";
					document.getElementById('select_action_func'+i).style.display="none";
					document.getElementById('select_action_block_func'+i).style.display="none";
					document.getElementById('select_action_output_func'+i).style.display="none";
					document.getElementById('select_action_do_func'+i).style.display="none";
				  	
				} 
				
				setTimeout(function() {
					
					document.getElementById('stop_div_listener').value=0;
					
				},1000);
				
			}

			
		    });
			
										
		}
		
	},1000);
	
	*/
	
	  $(document).ready(function(){
			set_div_listener();
		setInterval("set_div_listener()",1000);
	});
	
	function close_del_function() {
	
		$(".popup").hide();
	}
	
	function accept_del_function() {
	
		var json_del='{"function":'+set_function_to_del+'}';
	
		$.ajax({
							type: "POST",
							url: "/api/del_func.php",
							data: json_del,
							success: function(msg){
							
								location.reload();
							
							}
				});
	
	
		$(".popup").hide();
	}
	
	
	
	function get_functions() {
		
		var num_func_index=0;
		current_function_pos=0;
	
		$.ajax({
							type: "POST",
							url: "/api/get_flist.php",
							data: '',
							success: function(msg){
							
								var json=JSON.parse(msg);
								var func_names=json.func_names;
								
								///перебор функций с запросом их содержания
								num_func_index=0;
								
								try {
								func_names.forEach(function(function_naim) {
											
									
									////добавляем функцию в общий список
									
									
									//////обновление содеримого блоков, входов, выходов
																	
		
		var json_req='{"function":'+num_func_index+'}';
		
		
			/////запрос данных по функциям
			$.ajax({
							type: "POST",
							url: "/api/get_func.php",
							data: json_req,
							success: function(msg){
							
								
							
							///current_function_pos=num_func_index;
							
								var json=JSON.parse(msg);
								var function_naim2=json.fname;
								
								var input_address_list="";
								var trigger_var="";
								var trigger_input="display:block";
								var trigger_block="";
								var trigger_time_field="display:none";
								var trigger_clock_hour_value="";
								var trigger_clock_min_value="";
								
								////триггер, тип
								var trigger_object_text="";
								if(json.trigger.object.type=="ibin") {
									trigger_object_text="Дискретный вход";
									trigger_input="display:block";
									trigger_output="display:none";
									trigger_address="display:none";
									trigger_front="display:block";
									trigger_type_event="display:none";
									trigger_var="display:none";
								}
								if(json.trigger.object.type=="iadc") {
									trigger_object_text="Аналоговый вход";
									trigger_input="display:block";
									trigger_output="display:none";
									trigger_address="display:none";
									trigger_front="display:none";
									trigger_type_event="display:block";
									trigger_var="display:none";
								}
								if(json.trigger.object.type=="obin") {
									trigger_object_text="Дискретный выход";
									trigger_input="display:none";
									trigger_output="display:block";
									trigger_address="display:none";
									trigger_front="display:block";
									trigger_type_event="display:none";
									trigger_var="display:none";
								}
								if(json.trigger.object.type=="opwm") {
									trigger_object_text="Аналоговый выход";
									trigger_input="display:none";
									trigger_output="display:block";
									trigger_address="display:none";
									trigger_front="display:none";
									trigger_type_event="display:block";
									trigger_var="display:none";
								}
								if(json.trigger.object.type=="ikey") {
									trigger_object_text="Ключи доступа 1-Wire-1";
									trigger_input="display:none";
									trigger_output="display:none";
									trigger_address="display:block";
									trigger_front="display:none";
									trigger_var="display:none";
									trigger_type_event="display:block";
									input_address_list=input_address_list_key;
									
								}
								if(json.trigger.object.type=="ibtn") {
									trigger_object_text="Кнопки 1-Wire-2";
									trigger_input="display:none";
									trigger_output="display:none";
									trigger_address="display:block";
									trigger_front="display:none";
									trigger_var="display:none";
									trigger_type_event="display:block";
									input_address_list=input_address_list_button;
								}
								if(json.trigger.object.type=="itmp") {
									trigger_object_text="Температура 1-Wire-3";
									trigger_input="display:none";
									trigger_output="display:none";
									trigger_address="display:block";
									trigger_front="display:none";
									trigger_type_event="display:block";
									trigger_var="display:none";
									input_address_list=input_address_list_temp;
								}
								if(json.trigger.object.type=="var") {
									trigger_front="display:none";
									trigger_input="display:none";
									trigger_output="display:none";
									trigger_address="display:none";
									trigger_block="display:none";
									trigger_var="display:block";
									trigger_object_text="Внутренняя переменная";
									trigger_type_event="display:block";
								}
								if(json.trigger.object.type=="time") {
									trigger_front="display:none";
									trigger_input="display:none";
									trigger_output="display:none";
									trigger_address="display:none";
									trigger_block="display:none";
									trigger_var="display:none";
									trigger_object_text="Часы";
									trigger_type_event="display:none";
									trigger_time_field="display:bloc";
								} 
								
							////триггер, блок
								var trigger_object_block=json.trigger.object.device;
								var trigger_object_addr=json.trigger.object.addr;
							////триггер, тип события
								var trigger_event_type="";
								var znach_event="";
								var interval_event="";
								var porog_event="";
								var trigger_var_value=trigger_object_addr;
								var trigger_front_value="";
								
							
							if(json.trigger.event==">") {
									trigger_event_type="Превышение порога";
									trigger_front_value="По переднему фронту";
									znach_event="display:none";
									porog_event="display:block";
									interval_event="display:none";
								}	
							if(json.trigger.event=="<") {
									trigger_event_type="Ниже порогового уровня";
									trigger_front_value="По заднему фронту";
									znach_event="display:none";
									porog_event="display:block";
									interval_event="display:none";
								}		
							if(json.trigger.event=="+-") {
									trigger_event_type="Любое изменение";
									trigger_front_value="Любое изменение";
									znach_event="display:none";
									porog_event="display:none";
									interval_event="display:none";
								}			
							if(json.trigger.event=="><") {
									trigger_event_type="Вход в диапазон";
									znach_event="display:none";
									interval_event="display:block";
									znach_event="display:none";
								}
							if(json.trigger.event=="><") {
									trigger_event_type="Выход из диапазона";
									znach_event="display:none";
									interval_event="display:block";
									znach_event="display:none";
								}
								
							if(json.trigger.event=="==") {
									trigger_event_type="По достижении значения";
									znach_event="display:block";
									interval_event="display:none";
									znach_event="display:block";
								}
								
							if(json.trigger.event=="at") {
									trigger_event_type="";
									znach_event="display:none";
									interval_event="display:none";
									znach_event="display:none";
								}
								
							//znach_event="display:none";
							//interval_event="display:none";
							//znach_event="display:none";
							//porog_event="display:none";	
							
						
						if((json.trigger.object.type=="iadc")||(json.trigger.object.type=="opwm")||(json.trigger.object.type=="itmp")||(json.trigger.object.type=="var")||(json.trigger.object.type=="time")) {		

							var event_znach="";
							var event_interval_min="";
							var event_interval_max="";
							var event_time="";
							
							event_znach=json.trigger.value;
							event_interval_min=json.trigger.min;
							event_interval_max=json.trigger.max;
							event_time=json.trigger.time/1000;
							
							//if(event_znach>0) porog_event="display:block";	
							
							console.log('trigger_type='+json.trigger.object.type);
							
							if((json.trigger.object.type=="iadc")||(json.trigger.object.type=="opwm")||(json.trigger.object.type=="itmp")) {
												event_znach=event_znach/100;
												event_interval_min=event_interval_min/100;
												event_interval_max=event_interval_max/100;
												porog_event="display:block";	
												
									}
							
							
							if(json.trigger.object.type=="time") {
								var trigger_clock_time=json.trigger.time;
								trigger_clock_time=trigger_clock_time+"";
								
								if(typeof trigger_clock_time!="undefined") {
									trigger_clock_hour_value=trigger_clock_time.substr(0,2);
									trigger_clock_min_value=trigger_clock_time.substr(3,2);
								}
								
									
							}
							
							
						
						} else {
							
							znach_event="display:none";
							interval_event="display:none";
							znach_event="display:none";
							porog_event="display:none";

									
							var event_znach="";
							var event_interval_min="";
							var event_interval_max="";
							var event_time="";
						
							
						}
						console.log('selected_event_func'+current_function_pos);
						
						
							
							///условие
						var selected_condition_func='';
						if(json.logic=="and") {
							selected_condition_func='Весь список условий';
						} else
						
						if(json.logic=="or") {
							selected_condition_func='Любое из условий';
						} else 
						
						{
							selected_condition_func='Нет условий';
						}
							
						
					
						var condition2_display="display:none";
						var condition3_display="display:none";
						var condition4_display="display:none";
						var condition5_display="display:none";
							
						//////////////////////выбор условия/////////////////////////
						//////////////////////условие 1/////////////////////////////
						var condition1_condition_input_display="";
						var condition1_condition_object_text="";
						var condition1_condition_address_value="";
						var condition1_condition_address="display:none";
						var condition1_condition_uslovie_display="display:none";
						var condition1_condition_state_display="display:none";
						var condition1_condition_state_value="";
						
						
						var condition1_condition_znach_value="";
						var condition1_condition_interval_min="";
						var condition1_condition_interval_max="";
						var condition1_condition_znach_display="";
						var condition1_condition_interval_display ="";
						
						var condition1_condition_block_display="";
						var condition1_condition_var_display="display:block";
						var condition1_condition_var_value="";
						//var condition1_address_list="";
						
						if(typeof json.conditions[0] !="undefined") {
								if(json.conditions[0].object.type=="ibin") {
									condition1_condition_object_text="Дискретный вход";
									condition1_condition_input_display="display:block";
									condition1_condition_output="display:none";
									condition1_condition_address="display:none";
									condition1_condition_state_display="display:block";
									condition1_condition_uslovie_display="display:none";
									condition1_condition_znach_display="display:none";
									condition1_condition_interval_display="display:none";
									condition1_condition_var_display="display:none";
								
								}
								if(json.conditions[0].object.type=="iadc") {
									condition1_condition_object_text="Аналоговый вход";
									condition1_condition_input_display="display:block";
									condition1_condition_output="display:none";
									condition1_condition_address="display:none";
									condition1_condition_state_display="display:none";
									condition1_condition_uslovie_display="display:block";
									condition1_condition_var_display="display:none";
								}
								if(json.conditions[0].object.type=="obin") {
									condition1_condition_object_text="Дискретный выход";
									condition1_condition_input_display="display:none";
									condition1_condition_output="display:block";
									condition1_condition_address="display:none";
									condition1_condition_state_display="display:block";
									condition1_condition_uslovie_display="display:none";
									condition1_condition_znach_display="display:none";
									condition1_condition_interval_display="display:none";
									condition1_condition_var_display="display:none";
								}
								if(json.conditions[0].object.type=="opwm") {
									condition1_condition_object_text="Аналоговый выход";
									condition1_condition_input_display="display:none";
									condition1_condition_output="display:block";
									condition1_condition_address="display:none";
									condition1_condition_state_display="display:none";
									condition1_condition_uslovie_display="display:block";
									condition1_condition_var_display="display:none";
								}
								if(json.conditions[0].object.type=="ikey") {
									condition1_condition_object_text="Ключи доступа 1-Wire-1";
									condition1_condition_input_display="display:none";
									condition1_condition_output="display:none";
									condition1_condition_address="display:block";
									condition1_condition_state_display="display:block";
									condition1_condition_uslovie_display="display:none";
									condition1_condition_znach_display="display:none";
									condition1_condition_interval_display="display:none";
									condition1_condition_var_display="display:none";
									
									condition1_address_list=condition1_address_list_key;
									
								}
								if(json.conditions[0].object.type=="ibtn") {
									condition1_condition_object_text="Кнопки 1-Wire-2";
									condition1_condition_input_display="display:none";
									condition1_condition_output="display:none";
									condition1_condition_address="display:block";
									condition1_condition_state_display="display:block";
									condition1_condition_uslovie_display="display:none";
									condition1_condition_znach_display="display:none";
									condition1_condition_interval_display="display:none";
									condition1_condition_var_display="display:none";
									
									condition1_address_list=condition1_address_list_button;
									
								}
								if(json.conditions[0].object.type=="itmp") {
									condition1_condition_object_text="Температура 1-Wire-3";
									condition1_condition_input_display="display:none";
									condition1_condition_output="display:none";
									condition1_condition_address="display:block";
									condition1_condition_state_display="display:none";
									condition1_condition_uslovie_display="display:block";
									condition1_condition_var_display="display:none";
									
									condition1_address_list=condition1_address_list_temp;
								}
								if(json.conditions[0].object.type=="var") {
									
									condition1_condition_input_display="display:none";
									condition1_condition_output="display:none";
									condition1_condition_address="display:none";
									condition1_condition_state_display="display:none";
									condition1_condition_block_display="display:none";
									
									condition1_condition_object_text="Внутренняя переменная";
									condition1_condition_uslovie_display="display:block";
									condition1_condition_var_display="display:block";
								}
								if(json.conditions[0].object.type=="time") {
									condition1_condition_object_text="Часы";
									condition1_condition_state_display="display:none";
									condition1_condition_uslovie_display="display:block";
								}
								
								var condition1_condition_block=json.conditions[0].object.device;
								var condition1_condition_input=json.conditions[0].object.addr;
								var condition1_condition_address_value=json.conditions[0].object.addr;
								var condition1_condition_state_value="";
								condition1_condition_var_value=condition1_condition_address_value;
								
								
								/////////подробное условие
								var condition1_condition_value="";
								
								if(json.conditions[0].cond==1) {
									condition1_condition_state_value="Активен";
									
								}
								
								if(json.conditions[0].cond==0) {
									condition1_condition_state_value="Не активен";
								}
								
								if(json.conditions[0].cond=="+-") {
									condition1_condition_value="Любое изменение";
									condition1_condition_znach_display="display:block";
									condition1_condition_interval_display="display:none";
									var condition1_condition_znach_value=json.conditions[0].value*1;
									
								}
								
								if(json.conditions[0].cond=="==") {
									condition1_condition_value="Равно";
									condition1_condition_znach_display="display:block";
									condition1_condition_interval_display="display:none";
									var condition1_condition_znach_value=json.conditions[0].value*1;
					
								
								}
								if(json.conditions[0].cond==">") {
									condition1_condition_value="Больше";
									condition1_condition_znach_display="display:block";
									condition1_condition_interval_display="display:none";
									var condition1_condition_znach_value=json.conditions[0].value*1;
								}
								if(json.conditions[0].cond=="<") {
									condition1_condition_value="Меньше";
									condition1_condition_znach_display="display:block";
									condition1_condition_interval_display="display:none";
									var condition1_condition_znach_value=json.conditions[0].value*1;
								
								}
								if(json.conditions[0].cond==">=") {
									condition1_condition_value="Больше либо равно";
									condition1_condition_znach_display="display:block";
									condition1_condition_interval_display="display:none";
									var condition1_condition_znach_value=json.conditions[0].value*1;
								
								}
								
								if(json.conditions[0].cond=="<=") {
									condition1_condition_value="Меньше либо равно";
									condition1_condition_znach_display="display:block";
									condition1_condition_interval_display="display:none";
									var condition1_condition_znach_value=json.conditions[0].value*1;
								
								}
								
								
								if(json.conditions[0].cond=="!=") {
									condition1_condition_value="Не равно";
									condition1_condition_znach_display="display:block";
									condition1_condition_interval_display="display:none";
									var condition1_condition_znach_value=json.conditions[0].value*1;
								
								}
								
								if(json.conditions[0].cond=="><") {
									condition1_condition_value="В диапазоне";
									condition1_condition_znach_display="display:none";
									condition1_condition_interval_display="display:block";
									var condition1_condition_interval_min=json.conditions[0].min*1;
									var condition1_condition_interval_max=json.conditions[0].max*1;
								
								}
								
								if(json.conditions[0].cond=="<>") {
									condition1_condition_value="Вне диапазона";
									condition1_condition_znach_display="display:none";
									condition1_condition_interval_display="display:block";
									var condition1_condition_interval_min=json.conditions[0].min*1;
									var condition1_condition_interval_max=json.conditions[0].max*1;
								
								}
								
								if((json.conditions[0].object.type=="iadc")||(json.conditions[0].object.type=="opwm")||(json.conditions[0].object.type=="itmp")) {
											condition1_condition_znach_value=condition1_condition_znach_value/100;
											condition1_condition_interval_min=condition1_condition_interval_min/100;
											condition1_condition_interval_max=condition1_condition_interval_max/100;
								}
						
						} else {
						
							var condition1_condition_znach_value="";
							var condition1_condition_interval_min="";
							var condition1_condition_interval_max="";
							
							condition1_condition_value="";
							condition1_condition_znach_display="display:none";
							condition1_condition_interval_display="display:none";
							condition1_condition_object_text="Нет условий";
							
							var condition1_condition_block="";
							var condition1_condition_input="";
						
						}
						
						//////////////////////////////////////////////////////////////////////////////
						
						//////////////////////условие 2/////////////////////////////
						var condition2_condition_input_display="";
						var condition2_condition_object_text="";
						var condition2_condition_address_value="";
						var condition2_condition_address="display:none";
						var condition2_condition_uslovie_display="display:none";
						var condition2_condition_state_display="display:none";
						var condition2_condition_state_value="";
						
						
						var condition2_condition_znach_value="";
						var condition2_condition_interval_min="";
						var condition2_condition_interval_max="";
						var condition2_condition_znach_display="";
						var condition2_condition_interval_display ="";
						
						var condition2_condition_block_display="";
						var condition2_condition_var_display="display:block";
						var condition2_condition_var_value="";
						//var condition2_address_list="";
						
						if(typeof json.conditions[1] !="undefined") {
							
							condition2_display="display:block";
							
								if(json.conditions[1].object.type=="ibin") {
									condition2_condition_object_text="Дискретный вход";
									condition2_condition_input_display="display:block";
									condition2_condition_output="display:none";
									condition2_condition_address="display:none";
									condition2_condition_state_display="display:block";
									condition2_condition_uslovie_display="display:none";
									condition2_condition_znach_display="display:none";
									condition2_condition_interval_display="display:none";
									condition2_condition_var_display="display:none";
								
								}
								if(json.conditions[1].object.type=="iadc") {
									condition2_condition_object_text="Аналоговый вход";
									condition2_condition_input_display="display:block";
									condition2_condition_output="display:none";
									condition2_condition_address="display:none";
									condition2_condition_state_display="display:none";
									condition2_condition_uslovie_display="display:block";
									condition2_condition_var_display="display:none";
								}
								if(json.conditions[1].object.type=="obin") {
									condition2_condition_object_text="Дискретный выход";
									condition2_condition_input_display="display:none";
									condition2_condition_output="display:block";
									condition2_condition_address="display:none";
									condition2_condition_state_display="display:block";
									condition2_condition_uslovie_display="display:none";
									condition2_condition_znach_display="display:none";
									condition2_condition_interval_display="display:none";
									condition2_condition_var_display="display:none";
								}
								if(json.conditions[1].object.type=="opwm") {
									condition2_condition_object_text="Аналоговый выход";
									condition2_condition_input_display="display:none";
									condition2_condition_output="display:block";
									condition2_condition_address="display:none";
									condition2_condition_state_display="display:none";
									condition2_condition_uslovie_display="display:block";
									condition2_condition_var_display="display:none";
								}
								if(json.conditions[1].object.type=="ikey") {
									condition2_condition_object_text="Ключи доступа 1-Wire-1";
									condition2_condition_input_display="display:none";
									condition2_condition_output="display:none";
									condition2_condition_address="display:block";
									condition2_condition_state_display="display:block";
									condition2_condition_uslovie_display="display:none";
									condition2_condition_znach_display="display:none";
									condition2_condition_interval_display="display:none";
									condition2_condition_var_display="display:none";
									
									condition2_address_list=condition2_address_list_key;
									
								}
								if(json.conditions[1].object.type=="ibtn") {
									condition2_condition_object_text="Кнопки 1-Wire-2";
									condition2_condition_input_display="display:none";
									condition2_condition_output="display:none";
									condition2_condition_address="display:block";
									condition2_condition_state_display="display:block";
									condition2_condition_uslovie_display="display:none";
									condition2_condition_znach_display="display:none";
									condition2_condition_interval_display="display:none";
									condition2_condition_var_display="display:none";
									
									condition2_address_list=condition2_address_list_button;
									
								}
								if(json.conditions[1].object.type=="itmp") {
									condition2_condition_object_text="Температура 1-Wire-3";
									condition2_condition_input_display="display:none";
									condition2_condition_output="display:none";
									condition2_condition_address="display:block";
									condition2_condition_state_display="display:none";
									condition2_condition_uslovie_display="display:block";
									condition2_condition_var_display="display:none";
									
									condition2_address_list=condition2_address_list_temp;
								}
								if(json.conditions[1].object.type=="var") {
									
									condition2_condition_input_display="display:none";
									condition2_condition_output="display:none";
									condition2_condition_address="display:none";
									condition2_condition_state_display="display:none";
									condition2_condition_block_display="display:none";
									
									condition2_condition_object_text="Внутренняя переменная";
									condition2_condition_uslovie_display="display:block";
									condition2_condition_var_display="display:block";
								}
								if(json.conditions[1].object.type=="time") {
									condition2_condition_object_text="Часы";
									condition2_condition_state_display="display:none";
									condition2_condition_uslovie_display="display:block";
								}
								
								var condition2_condition_block=json.conditions[1].object.device;
								var condition2_condition_input=json.conditions[1].object.addr;
								var condition2_condition_address_value=json.conditions[1].object.addr;
								var condition2_condition_state_value="";
								condition2_condition_var_value=condition2_condition_address_value;
								
								
								/////////подробное условие
								var condition2_condition_value="";
								
								if(json.conditions[1].cond==1) {
									condition2_condition_state_value="Активен";
									
								}
								
								if(json.conditions[1].cond==0) {
									condition2_condition_state_value="Не активен";
								}
								
								if(json.conditions[1].cond=="+-") {
									condition2_condition_value="Любое изменение";
									condition2_condition_znach_display="display:block";
									condition2_condition_interval_display="display:none";
									var condition2_condition_znach_value=json.conditions[1].value*1;
								
								}
								
								if(json.conditions[1].cond=="==") {
									condition2_condition_value="Равно";
									condition2_condition_znach_display="display:block";
									condition2_condition_interval_display="display:none";
									var condition2_condition_znach_value=json.conditions[1].value*1;
					
								
								}
								if(json.conditions[1].cond==">") {
									condition2_condition_value="Больше";
									condition2_condition_znach_display="display:block";
									condition2_condition_interval_display="display:none";
									var condition2_condition_znach_value=json.conditions[1].value*1;
								}
								if(json.conditions[1].cond=="<") {
									condition2_condition_value="Меньше";
									condition2_condition_znach_display="display:block";
									condition2_condition_interval_display="display:none";
									var condition2_condition_znach_value=json.conditions[1].value*1;
								
								}
								if(json.conditions[1].cond==">=") {
									condition2_condition_value="Больше либо равно";
									condition2_condition_znach_display="display:block";
									condition2_condition_interval_display="display:none";
									var condition2_condition_znach_value=json.conditions[1].value*1;
								
								}
								
								if(json.conditions[1].cond=="<=") {
									condition2_condition_value="Меньше либо равно";
									condition2_condition_znach_display="display:block";
									condition2_condition_interval_display="display:none";
									var condition2_condition_znach_value=json.conditions[1].value*1;
								
								}
								
								
								if(json.conditions[1].cond=="!=") {
									condition2_condition_value="Не равно";
									condition2_condition_znach_display="display:block";
									condition2_condition_interval_display="display:none";
									var condition2_condition_znach_value=json.conditions[1].value*1;
								
								}
								
								if(json.conditions[1].cond=="><") {
									condition2_condition_value="В диапазоне";
									condition2_condition_znach_display="display:none";
									condition2_condition_interval_display="display:block";
									var condition2_condition_interval_min=json.conditions[1].min*1;
									var condition2_condition_interval_max=json.conditions[1].max*1;
								
								}
								
								if(json.conditions[1].cond=="<>") {
									condition2_condition_value="Вне диапазона";
									condition2_condition_znach_display="display:none";
									condition2_condition_interval_display="display:block";
									var condition2_condition_interval_min=json.conditions[1].min*1;
									var condition2_condition_interval_max=json.conditions[1].max*1;
								
								}
								if((json.conditions[1].object.type=="iadc")||(json.conditions[1].object.type=="opwm")||(json.conditions[1].object.type=="itmp")) {
											condition2_condition_znach_value=condition2_condition_znach_value/100;
											condition2_condition_interval_min=condition2_condition_interval_min/100;
											condition2_condition_interval_max=condition2_condition_interval_max/100;
								}
						
						
						} else {
						
							var condition2_condition_znach_value="";
							var condition2_condition_interval_min="";
							var condition2_condition_interval_max="";
							
							condition2_condition_value="";
							condition2_condition_znach_display="display:none";
							condition2_condition_interval_display="display:none";
							condition2_condition_object_text="Нет условий";
							
							var condition2_condition_block="";
							var condition2_condition_input="";
						
						}
						/////////////////////////////////////////////////////////////////////////////////////////
						
						//////////////////////условие 3/////////////////////////////
						var condition3_condition_input_display="";
						var condition3_condition_object_text="";
						var condition3_condition_address_value="";
						var condition3_condition_address="display:none";
						var condition3_condition_uslovie_display="display:none";
						var condition3_condition_state_display="display:none";
						var condition3_condition_state_value="";
						
						
						var condition3_condition_znach_value="";
						var condition3_condition_interval_min="";
						var condition3_condition_interval_max="";
						var condition3_condition_znach_display="";
						var condition3_condition_interval_display ="";
						
						var condition3_condition_block_display="";
						var condition3_condition_var_display="display:block";
						var condition3_condition_var_value="";
						//var condition3_address_list="";
						
						if(typeof json.conditions[2] !="undefined") {
							
							condition3_display="display:block";
							
								if(json.conditions[2].object.type=="ibin") {
									condition3_condition_object_text="Дискретный вход";
									condition3_condition_input_display="display:block";
									condition3_condition_output="display:none";
									condition3_condition_address="display:none";
									condition3_condition_state_display="display:block";
									condition3_condition_uslovie_display="display:none";
									condition3_condition_znach_display="display:none";
									condition3_condition_interval_display="display:none";
									condition3_condition_var_display="display:none";
								
								}
								if(json.conditions[2].object.type=="iadc") {
									condition3_condition_object_text="Аналоговый вход";
									condition3_condition_input_display="display:block";
									condition3_condition_output="display:none";
									condition3_condition_address="display:none";
									condition3_condition_state_display="display:none";
									condition3_condition_uslovie_display="display:block";
									condition3_condition_var_display="display:none";
								}
								if(json.conditions[2].object.type=="obin") {
									condition3_condition_object_text="Дискретный выход";
									condition3_condition_input_display="display:none";
									condition3_condition_output="display:block";
									condition3_condition_address="display:none";
									condition3_condition_state_display="display:block";
									condition3_condition_uslovie_display="display:none";
									condition3_condition_znach_display="display:none";
									condition3_condition_interval_display="display:none";
									condition3_condition_var_display="display:none";
								}
								if(json.conditions[2].object.type=="opwm") {
									condition3_condition_object_text="Аналоговый выход";
									condition3_condition_input_display="display:none";
									condition3_condition_output="display:block";
									condition3_condition_address="display:none";
									condition3_condition_state_display="display:none";
									condition3_condition_uslovie_display="display:block";
									condition3_condition_var_display="display:none";
								}
								if(json.conditions[2].object.type=="ikey") {
									condition3_condition_object_text="Ключи доступа 1-Wire-1";
									condition3_condition_input_display="display:none";
									condition3_condition_output="display:none";
									condition3_condition_address="display:block";
									condition3_condition_state_display="display:block";
									condition3_condition_uslovie_display="display:none";
									condition3_condition_znach_display="display:none";
									condition3_condition_interval_display="display:none";
									condition3_condition_var_display="display:none";
									
									condition3_address_list=condition3_address_list_key;
									
								}
								if(json.conditions[2].object.type=="ibtn") {
									condition3_condition_object_text="Кнопки 1-Wire-2";
									condition3_condition_input_display="display:none";
									condition3_condition_output="display:none";
									condition3_condition_address="display:block";
									condition3_condition_state_display="display:block";
									condition3_condition_uslovie_display="display:none";
									condition3_condition_znach_display="display:none";
									condition3_condition_interval_display="display:none";
									condition3_condition_var_display="display:none";
									
									condition3_address_list=condition3_address_list_button;
									
								}
								if(json.conditions[2].object.type=="itmp") {
									condition3_condition_object_text="Температура 1-Wire-3";
									condition3_condition_input_display="display:none";
									condition3_condition_output="display:none";
									condition3_condition_address="display:block";
									condition3_condition_state_display="display:none";
									condition3_condition_uslovie_display="display:block";
									condition3_condition_var_display="display:none";
									
									condition3_address_list=condition3_address_list_temp;
								}
								if(json.conditions[2].object.type=="var") {
									
									condition3_condition_input_display="display:none";
									condition3_condition_output="display:none";
									condition3_condition_address="display:none";
									condition3_condition_state_display="display:none";
									condition3_condition_block_display="display:none";
									
									condition3_condition_object_text="Внутренняя переменная";
									condition3_condition_uslovie_display="display:block";
									condition3_condition_var_display="display:block";
								}
								if(json.conditions[2].object.type=="time") {
									condition3_condition_object_text="Часы";
									condition3_condition_state_display="display:none";
									condition3_condition_uslovie_display="display:block";
								}
								
								var condition3_condition_block=json.conditions[2].object.device;
								var condition3_condition_input=json.conditions[2].object.addr;
								var condition3_condition_address_value=json.conditions[2].object.addr;
								var condition3_condition_state_value="";
								condition3_condition_var_value=condition3_condition_address_value;
								
								
								/////////подробное условие
								var condition3_condition_value="";
								
								if(json.conditions[2].cond==1) {
									condition3_condition_state_value="Активен";
									
								}
								
								if(json.conditions[2].cond==0) {
									condition3_condition_state_value="Не активен";
								}
								
								if(json.conditions[2].cond=="+-") {
									condition3_condition_value="Любое изменение";
									condition3_condition_znach_display="display:block";
									condition3_condition_interval_display="display:none";
									var condition3_condition_znach_value=json.conditions[2].value*1;
								
								}
								
								if(json.conditions[2].cond=="==") {
									condition3_condition_value="Равно";
									condition3_condition_znach_display="display:block";
									condition3_condition_interval_display="display:none";
									var condition3_condition_znach_value=json.conditions[2].value*1;
					
								
								}
								if(json.conditions[2].cond==">") {
									condition3_condition_value="Больше";
									condition3_condition_znach_display="display:block";
									condition3_condition_interval_display="display:none";
									var condition3_condition_znach_value=json.conditions[2].value*1;
								}
								if(json.conditions[2].cond=="<") {
									condition3_condition_value="Меньше";
									condition3_condition_znach_display="display:block";
									condition3_condition_interval_display="display:none";
									var condition3_condition_znach_value=json.conditions[2].value*1;
								
								}
								if(json.conditions[2].cond==">=") {
									condition3_condition_value="Больше либо равно";
									condition3_condition_znach_display="display:block";
									condition3_condition_interval_display="display:none";
									var condition3_condition_znach_value=json.conditions[2].value*1;
								
								}
								
								if(json.conditions[2].cond=="<=") {
									condition3_condition_value="Меньше либо равно";
									condition3_condition_znach_display="display:block";
									condition3_condition_interval_display="display:none";
									var condition3_condition_znach_value=json.conditions[2].value*1;
								
								}
								
								
								if(json.conditions[2].cond=="!=") {
									condition3_condition_value="Не равно";
									condition3_condition_znach_display="display:block";
									condition3_condition_interval_display="display:none";
									var condition3_condition_znach_value=json.conditions[2].value*1;
								
								}
								
								if(json.conditions[2].cond=="><") {
									condition3_condition_value="В диапазоне";
									condition3_condition_znach_display="display:none";
									condition3_condition_interval_display="display:block";
									var condition3_condition_interval_min=json.conditions[2].min*1;
									var condition3_condition_interval_max=json.conditions[2].max*1;
								
								}
								
								if(json.conditions[2].cond=="<>") {
									condition3_condition_value="Вне диапазона";
									condition3_condition_znach_display="display:none";
									condition3_condition_interval_display="display:block";
									var condition3_condition_interval_min=json.conditions[2].min*1;
									var condition3_condition_interval_max=json.conditions[2].max*1;
								
								}
								
								
									if((json.conditions[2].object.type=="iadc")||(json.conditions[2].object.type=="opwm")||(json.conditions[2].object.type=="itmp")) {
											condition3_condition_znach_value=condition3_condition_znach_value/100;
											condition3_condition_interval_min=condition3_condition_interval_min/100;
											condition3_condition_interval_max=condition3_condition_interval_max/100;
									}
						
						} else {
						
							var condition3_condition_znach_value="";
							var condition3_condition_interval_min="";
							var condition3_condition_interval_max="";
							
							condition3_condition_value="";
							condition3_condition_znach_display="display:none";
							condition3_condition_interval_display="display:none";
							condition3_condition_object_text="Нет условий";
							
							var condition3_condition_block="";
							var condition3_condition_input="";
						
						}
						/////////////////////////////////////////////////////////////////////////////////////////
						
						//////////////////////условие 4/////////////////////////////
						var condition4_condition_input_display="";
						var condition4_condition_object_text="";
						var condition4_condition_address_value="";
						var condition4_condition_address="display:none";
						var condition4_condition_uslovie_display="display:none";
						var condition4_condition_state_display="display:none";
						var condition4_condition_state_value="";
						
						
						var condition4_condition_znach_value="";
						var condition4_condition_interval_min="";
						var condition4_condition_interval_max="";
						var condition4_condition_znach_display="";
						var condition4_condition_interval_display ="";
						
						var condition4_condition_block_display="";
						var condition4_condition_var_display="display:block";
						var condition4_condition_var_value="";
						//var condition4_address_list="";
						
						if(typeof json.conditions[3] !="undefined") {
							
							condition4_display="display:block";
							
								if(json.conditions[3].object.type=="ibin") {
									condition4_condition_object_text="Дискретный вход";
									condition4_condition_input_display="display:block";
									condition4_condition_output="display:none";
									condition4_condition_address="display:none";
									condition4_condition_state_display="display:block";
									condition4_condition_uslovie_display="display:none";
									condition4_condition_znach_display="display:none";
									condition4_condition_interval_display="display:none";
									condition4_condition_var_display="display:none";
								
								}
								if(json.conditions[3].object.type=="iadc") {
									condition4_condition_object_text="Аналоговый вход";
									condition4_condition_input_display="display:block";
									condition4_condition_output="display:none";
									condition4_condition_address="display:none";
									condition4_condition_state_display="display:none";
									condition4_condition_uslovie_display="display:block";
									condition4_condition_var_display="display:none";
								}
								if(json.conditions[3].object.type=="obin") {
									condition4_condition_object_text="Дискретный выход";
									condition4_condition_input_display="display:none";
									condition4_condition_output="display:block";
									condition4_condition_address="display:none";
									condition4_condition_state_display="display:block";
									condition4_condition_uslovie_display="display:none";
									condition4_condition_znach_display="display:none";
									condition4_condition_interval_display="display:none";
									condition4_condition_var_display="display:none";
								}
								if(json.conditions[3].object.type=="opwm") {
									condition4_condition_object_text="Аналоговый выход";
									condition4_condition_input_display="display:none";
									condition4_condition_output="display:block";
									condition4_condition_address="display:none";
									condition4_condition_state_display="display:none";
									condition4_condition_uslovie_display="display:block";
									condition4_condition_var_display="display:none";
								}
								if(json.conditions[3].object.type=="ikey") {
									condition4_condition_object_text="Ключи доступа 1-Wire-1";
									condition4_condition_input_display="display:none";
									condition4_condition_output="display:none";
									condition4_condition_address="display:block";
									condition4_condition_state_display="display:block";
									condition4_condition_uslovie_display="display:none";
									condition4_condition_znach_display="display:none";
									condition4_condition_interval_display="display:none";
									condition4_condition_var_display="display:none";
									
									condition4_address_list=condition4_address_list_key;
									
								}
								if(json.conditions[3].object.type=="ibtn") {
									condition4_condition_object_text="Кнопки 1-Wire-2";
									condition4_condition_input_display="display:none";
									condition4_condition_output="display:none";
									condition4_condition_address="display:block";
									condition4_condition_state_display="display:block";
									condition4_condition_uslovie_display="display:none";
									condition4_condition_znach_display="display:none";
									condition4_condition_interval_display="display:none";
									condition4_condition_var_display="display:none";
									
									condition4_address_list=condition4_address_list_button;
									
								}
								if(json.conditions[3].object.type=="itmp") {
									condition4_condition_object_text="Температура 1-Wire-3";
									condition4_condition_input_display="display:none";
									condition4_condition_output="display:none";
									condition4_condition_address="display:block";
									condition4_condition_state_display="display:none";
									condition4_condition_uslovie_display="display:block";
									condition4_condition_var_display="display:none";
									
									condition4_address_list=condition4_address_list_temp;
								}
								if(json.conditions[3].object.type=="var") {
									
									condition4_condition_input_display="display:none";
									condition4_condition_output="display:none";
									condition4_condition_address="display:none";
									condition4_condition_state_display="display:none";
									condition4_condition_block_display="display:none";
									
									condition4_condition_object_text="Внутренняя переменная";
									condition4_condition_uslovie_display="display:block";
									condition4_condition_var_display="display:block";
								}
								if(json.conditions[3].object.type=="time") {
									condition4_condition_object_text="Часы";
									condition4_condition_state_display="display:none";
									condition4_condition_uslovie_display="display:block";
								}
								
								var condition4_condition_block=json.conditions[3].object.device;
								var condition4_condition_input=json.conditions[3].object.addr;
								var condition4_condition_address_value=json.conditions[3].object.addr;
								var condition4_condition_state_value="";
								condition4_condition_var_value=condition4_condition_address_value;
								
								
								/////////подробное условие
								var condition4_condition_value="";
								
								if(json.conditions[3].cond==1) {
									condition4_condition_state_value="Активен";
									
								}
								
								if(json.conditions[3].cond==0) {
									condition4_condition_state_value="Не активен";
								}
								
								if(json.conditions[3].cond=="+-") {
									condition4_condition_value="Любое изменение";
									condition4_condition_znach_display="display:block";
									condition4_condition_interval_display="display:none";
									var condition4_condition_znach_value=json.conditions[3].value*1;
								
								}
								
								if(json.conditions[3].cond=="==") {
									condition4_condition_value="Равно";
									condition4_condition_znach_display="display:block";
									condition4_condition_interval_display="display:none";
									var condition4_condition_znach_value=json.conditions[3].value*1;
					
								
								}
								if(json.conditions[3].cond==">") {
									condition4_condition_value="Больше";
									condition4_condition_znach_display="display:block";
									condition4_condition_interval_display="display:none";
									var condition4_condition_znach_value=json.conditions[3].value*1;
								}
								if(json.conditions[3].cond=="<") {
									condition4_condition_value="Меньше";
									condition4_condition_znach_display="display:block";
									condition4_condition_interval_display="display:none";
									var condition4_condition_znach_value=json.conditions[3].value*1;
								
								}
								if(json.conditions[3].cond==">=") {
									condition4_condition_value="Больше либо равно";
									condition4_condition_znach_display="display:block";
									condition4_condition_interval_display="display:none";
									var condition4_condition_znach_value=json.conditions[3].value*1;
								
								}
								
								if(json.conditions[3].cond=="<=") {
									condition4_condition_value="Меньше либо равно";
									condition4_condition_znach_display="display:block";
									condition4_condition_interval_display="display:none";
									var condition4_condition_znach_value=json.conditions[3].value*1;
								
								}
								
								
								if(json.conditions[3].cond=="!=") {
									condition4_condition_value="Не равно";
									condition4_condition_znach_display="display:block";
									condition4_condition_interval_display="display:none";
									var condition4_condition_znach_value=json.conditions[3].value*1;
								
								}
								
								if(json.conditions[3].cond=="><") {
									condition4_condition_value="В диапазоне";
									condition4_condition_znach_display="display:none";
									condition4_condition_interval_display="display:block";
									var condition4_condition_interval_min=json.conditions[3].min*1;
									var condition4_condition_interval_max=json.conditions[3].max*1;
								
								}
								
								if(json.conditions[3].cond=="<>") {
									condition4_condition_value="Вне диапазона";
									condition4_condition_znach_display="display:none";
									condition4_condition_interval_display="display:block";
									var condition4_condition_interval_min=json.conditions[3].min*1;
									var condition4_condition_interval_max=json.conditions[3].max*1;
								
								}
								
								
								if((json.conditions[3].object.type=="iadc")||(json.conditions[3].object.type=="opwm")||(json.conditions[3].object.type=="itmp")) {
											condition4_condition_znach_value=condition4_condition_znach_value/100;
											condition4_condition_interval_min=condition4_condition_interval_min/100;
											condition4_condition_interval_max=condition4_condition_interval_max/100;
									}
						
						
						} else {
						
							var condition4_condition_znach_value="";
							var condition4_condition_interval_min="";
							var condition4_condition_interval_max="";
							
							condition4_condition_value="";
							condition4_condition_znach_display="display:none";
							condition4_condition_interval_display="display:none";
							condition4_condition_object_text="Нет условий";
							
							var condition4_condition_block="";
							var condition4_condition_input="";
						
						}
						/////////////////////////////////////////////////////////////////////////////////////////
						
						
						//////////////////////условие 5/////////////////////////////
						var condition5_condition_input_display="";
						var condition5_condition_object_text="";
						var condition5_condition_address_value="";
						var condition5_condition_address="display:none";
						var condition5_condition_uslovie_display="display:none";
						var condition5_condition_state_display="display:none";
						var condition5_condition_state_value="";
						
						
						var condition5_condition_znach_value="";
						var condition5_condition_interval_min="";
						var condition5_condition_interval_max="";
						var condition5_condition_znach_display="";
						var condition5_condition_interval_display ="";
						
						var condition5_condition_block_display="";
						var condition5_condition_var_display="display:block";
						var condition5_condition_var_value="";
						//var condition5_address_list="";
						
						if(typeof json.conditions[4] !="undefined") {
							
							condition5_display="display:block";
							
								if(json.conditions[4].object.type=="ibin") {
									condition5_condition_object_text="Дискретный вход";
									condition5_condition_input_display="display:block";
									condition5_condition_output="display:none";
									condition5_condition_address="display:none";
									condition5_condition_state_display="display:block";
									condition5_condition_uslovie_display="display:none";
									condition5_condition_znach_display="display:none";
									condition5_condition_interval_display="display:none";
									condition5_condition_var_display="display:none";
								
								}
								if(json.conditions[4].object.type=="iadc") {
									condition5_condition_object_text="Аналоговый вход";
									condition5_condition_input_display="display:block";
									condition5_condition_output="display:none";
									condition5_condition_address="display:none";
									condition5_condition_state_display="display:none";
									condition5_condition_uslovie_display="display:block";
									condition5_condition_var_display="display:none";
								}
								if(json.conditions[4].object.type=="obin") {
									condition5_condition_object_text="Дискретный выход";
									condition5_condition_input_display="display:none";
									condition5_condition_output="display:block";
									condition5_condition_address="display:none";
									condition5_condition_state_display="display:block";
									condition5_condition_uslovie_display="display:none";
									condition5_condition_znach_display="display:none";
									condition5_condition_interval_display="display:none";
									condition5_condition_var_display="display:none";
								}
								if(json.conditions[4].object.type=="opwm") {
									condition5_condition_object_text="Аналоговый выход";
									condition5_condition_input_display="display:none";
									condition5_condition_output="display:block";
									condition5_condition_address="display:none";
									condition5_condition_state_display="display:none";
									condition5_condition_uslovie_display="display:block";
									condition5_condition_var_display="display:none";
								}
								if(json.conditions[4].object.type=="ikey") {
									condition5_condition_object_text="Ключи доступа 1-Wire-1";
									condition5_condition_input_display="display:none";
									condition5_condition_output="display:none";
									condition5_condition_address="display:block";
									condition5_condition_state_display="display:block";
									condition5_condition_uslovie_display="display:none";
									condition5_condition_znach_display="display:none";
									condition5_condition_interval_display="display:none";
									condition5_condition_var_display="display:none";
									
									condition5_address_list=condition5_address_list_key;
									
								}
								if(json.conditions[4].object.type=="ibtn") {
									condition5_condition_object_text="Кнопки 1-Wire-2";
									condition5_condition_input_display="display:none";
									condition5_condition_output="display:none";
									condition5_condition_address="display:block";
									condition5_condition_state_display="display:block";
									condition5_condition_uslovie_display="display:none";
									condition5_condition_znach_display="display:none";
									condition5_condition_interval_display="display:none";
									condition5_condition_var_display="display:none";
									
									condition5_address_list=condition5_address_list_button;
									
								}
								if(json.conditions[4].object.type=="itmp") {
									condition5_condition_object_text="Температура 1-Wire-3";
									condition5_condition_input_display="display:none";
									condition5_condition_output="display:none";
									condition5_condition_address="display:block";
									condition5_condition_state_display="display:none";
									condition5_condition_uslovie_display="display:block";
									condition5_condition_var_display="display:none";
									
									condition5_address_list=condition5_address_list_temp;
								}
								if(json.conditions[4].object.type=="var") {
									
									condition5_condition_input_display="display:none";
									condition5_condition_output="display:none";
									condition5_condition_address="display:none";
									condition5_condition_state_display="display:none";
									condition5_condition_block_display="display:none";
									
									condition5_condition_object_text="Внутренняя переменная";
									condition5_condition_uslovie_display="display:block";
									condition5_condition_var_display="display:block";
								}
								if(json.conditions[4].object.type=="time") {
									condition5_condition_object_text="Часы";
									condition5_condition_state_display="display:none";
									condition5_condition_uslovie_display="display:block";
								}
								
								var condition5_condition_block=json.conditions[4].object.device;
								var condition5_condition_input=json.conditions[4].object.addr;
								var condition5_condition_address_value=json.conditions[4].object.addr;
								var condition5_condition_state_value="";
								condition5_condition_var_value=condition5_condition_address_value;
								
								
								/////////подробное условие
								var condition5_condition_value="";
								
								if(json.conditions[4].cond==1) {
									condition5_condition_state_value="Активен";
									
								}
								
								if(json.conditions[4].cond==0) {
									condition5_condition_state_value="Не активен";
								}
								
								if(json.conditions[4].cond=="+-") {
									condition5_condition_value="Любое изменение";
									condition5_condition_znach_display="display:block";
									condition5_condition_interval_display="display:none";
									var condition5_condition_znach_value=json.conditions[4].value*1;
								
								}
								
								if(json.conditions[4].cond=="==") {
									condition5_condition_value="Равно";
									condition5_condition_znach_display="display:block";
									condition5_condition_interval_display="display:none";
									var condition5_condition_znach_value=json.conditions[4].value*1;
					
								
								}
								if(json.conditions[4].cond==">") {
									condition5_condition_value="Больше";
									condition5_condition_znach_display="display:block";
									condition5_condition_interval_display="display:none";
									var condition5_condition_znach_value=json.conditions[4].value*1;
								}
								if(json.conditions[4].cond=="<") {
									condition5_condition_value="Меньше";
									condition5_condition_znach_display="display:block";
									condition5_condition_interval_display="display:none";
									var condition5_condition_znach_value=json.conditions[4].value*1;
								
								}
								if(json.conditions[4].cond==">=") {
									condition5_condition_value="Больше либо равно";
									condition5_condition_znach_display="display:block";
									condition5_condition_interval_display="display:none";
									var condition5_condition_znach_value=json.conditions[4].value*1;
								
								}
								
								if(json.conditions[4].cond=="<=") {
									condition5_condition_value="Меньше либо равно";
									condition5_condition_znach_display="display:block";
									condition5_condition_interval_display="display:none";
									var condition5_condition_znach_value=json.conditions[4].value*1;
								
								}
								
								
								if(json.conditions[4].cond=="!=") {
									condition5_condition_value="Не равно";
									condition5_condition_znach_display="display:block";
									condition5_condition_interval_display="display:none";
									var condition5_condition_znach_value=json.conditions[4].value*1;
								
								}
								
								if(json.conditions[4].cond=="><") {
									condition5_condition_value="В диапазоне";
									condition5_condition_znach_display="display:none";
									condition5_condition_interval_display="display:block";
									var condition5_condition_interval_min=json.conditions[4].min*1;
									var condition5_condition_interval_max=json.conditions[4].max*1;
								
								}
								
								if(json.conditions[4].cond=="<>") {
									condition5_condition_value="Вне диапазона";
									condition5_condition_znach_display="display:none";
									condition5_condition_interval_display="display:block";
									var condition5_condition_interval_min=json.conditions[4].min*1;
									var condition5_condition_interval_max=json.conditions[4].max*1;
								
								}
								
						
								if((json.conditions[4].object.type=="iadc")||(json.conditions[4].object.type=="opwm")||(json.conditions[4].object.type=="itmp")) {
											condition5_condition_znach_value=condition5_condition_znach_value/100;
											condition5_condition_interval_min=condition5_condition_interval_min/100;
											condition5_condition_interval_max=condition5_condition_interval_max/100;
									}
						
						
						} else {
						
							var condition5_condition_znach_value="";
							var condition5_condition_interval_min="";
							var condition5_condition_interval_max="";
							
							condition5_condition_value="";
							condition5_condition_znach_display="display:none";
							condition5_condition_interval_display="display:none";
							condition5_condition_object_text="Нет условий";
							
							var condition5_condition_block="";
							var condition5_condition_input="";
						
						}
						/////////////////////////////////////////////////////////////////////////////////////////
						
						var action1_action_znach_display_value="display:block";
						var action2_action_znach_display_value="display:block";
						var action3_action_znach_display_value="display:block";
						var action4_action_znach_display_value="display:block";
						var action5_action_znach_display_value="display:block";
						
						
						
						var action2_display="display:none";
						var action3_display="display:none";
						var action4_display="display:none";
						var action5_display="display:none";
						///////////////////////////////////////действие 1/////////////////////////////
						
						var action1_action_type="";
						var action1_action_state_value="";
						var action1_action_var_value="";
						var action1_action_var_display="display:none";
						var action1_action_block_display="display:block";
						var action1_action_output_display="display:block";
							
								if(json.actions[0].object.type=="ibin") {
									action1_action_type="Дискретный вход";
									action1_action_znach_display="display:none";
									action1_action_state_display="display:block";
								
								}
								if(json.actions[0].object.type=="iadc") {
									action1_action_type="Аналоговый вход";
									action1_action_znach_display="display:block";
									action1_action_state_display="display:none";
								}
								if(json.actions[0].object.type=="obin") {
									action1_action_type="Дискретный выход";
									action1_action_znach_display="display:none";
									action1_action_state_display="display:block";
								}
								if(json.actions[0].object.type=="opwm") {
									action1_action_type="Аналоговый выход";
									action1_action_znach_display="display:block";
									action1_action_state_display="display:none";
								}
							
								if(json.actions[0].object.type=="var") {
									action1_action_type="Внутренняя переменная";
									action1_action_znach_display="display:block";
									action1_action_state_display="display:none";
									action1_action_var_display="display:block";
									action1_action_block_display="display:none";
									action1_action_output_display="display:none";
								}
								if(json.actions[0].object.type=="message") {
									action1_action_type="Отправить сообщение";
									action1_action_znach_display="display:block";
									action1_action_state_display="display:none";
								}	
						
						var action1_action_block=json.actions[0].object.device;
						var action1_action_output=json.actions[0].object.addr;
						action1_action_var_value=action1_action_output;
						
						var action1_action_set="";
						
						if(json.actions[0].act=="set") {
									action1_action_set="Установить значение";
									action1_action_state_value="Активировать";
								}
						
						if(json.actions[0].act=="reset") {
									action1_action_set="Установить значение";
									action1_action_state_value="Деактивировать";
								}
								
						if(json.actions[0].act=="change") {
									action1_action_set="Изменить на";
								}
								
						if(json.actions[0].act=="inv") {
									action1_action_set="Инвертировать";
									action1_action_state_value="Инвертировать";
									action1_action_znach_display_value="display:none";
								}
								
						if(json.actions[0].act=="copy") {
									action1_action_set="Повторить за";
								}
						
						var action1_act_set_val=json.actions[0].value;
						
						var action1_action_delay_value=json.actions[0].delay/1000;
						var action1_action_time_value=json.actions[0].time/1000;
						if(action1_action_time_value=="")
						var action1_action_time_value=json.actions[0].intr/1000;
						
						if(isNaN(action1_action_delay_value)) action1_action_delay_value="";
						if(isNaN(action1_action_time_value)) action1_action_time_value="";
						
						
						if((json.actions[0].object.type=="iadc")||(json.actions[0].object.type=="opwm")||(json.actions[0].object.type=="itmp")) {
											action1_act_set_val=action1_act_set_val/100;
						}
						
						
						//////////////////////////////////////////////////////////////////////
						
						///////////////////////////////////////действие 2/////////////////////////////
						
						var action2_action_type="";
						var action2_action_state_value="";
						var action2_action_var_value="";
						var action2_action_var_display="display:none";
						var action2_action_block_display="display:block";
						var action2_action_output_display="display:block";
						action2_action_znach_display="";
						action2_action_state_display="";
						
						var action2_action_block="";
						var action2_action_output="";
						var action2_action_set="";
						var action2_act_set_val="";
						var action2_action_delay_value="";
						var action2_action_time_value="";
						
						if(typeof json.actions[1] !="undefined") {		
						
										action2_display="display:block";
						
										if(json.actions[1].object.type=="ibin") {
											action2_action_type="Дискретный вход";
											action2_action_znach_display="display:none";
											action2_action_state_display="display:block";
										
										}
										if(json.actions[1].object.type=="iadc") {
											action2_action_type="Аналоговый вход";
											action2_action_znach_display="display:block";
											action2_action_state_display="display:none";
										}
										if(json.actions[1].object.type=="obin") {
											action2_action_type="Дискретный выход";
											action2_action_znach_display="display:none";
											action2_action_state_display="display:block";
										}
										if(json.actions[1].object.type=="opwm") {
											action2_action_type="Аналоговый выход";
											action2_action_znach_display="display:block";
											action2_action_state_display="display:none";
										}
									
										if(json.actions[1].object.type=="var") {
											action2_action_type="Внутренняя переменная";
											action2_action_znach_display="display:block";
											action2_action_state_display="display:none";
											action2_action_var_display="display:block";
											action2_action_block_display="display:none";
											action2_action_output_display="display:none";
										}
										if(json.actions[1].object.type=="message") {
											action2_action_type="Отправить сообщение";
											action2_action_znach_display="display:block";
											action2_action_state_display="display:none";
										}	
								
								var action2_action_block=json.actions[1].object.device;
								var action2_action_output=json.actions[1].object.addr;
								action2_action_var_value=action2_action_output;
								
								var action2_action_set="";
								
								if(json.actions[1].act=="set") {
											action2_action_set="Установить значение";
											action2_action_state_value="Активировать";
										}
								
								if(json.actions[1].act=="reset") {
											action2_action_set="Установить значение";
											action2_action_state_value="Деактивировать";
										}
										
								if(json.actions[1].act=="change") {
											action2_action_set="Изменить на";
										}
										
								if(json.actions[1].act=="inv") {
											action2_action_set="Инвертировать";
											action2_action_state_value="Инвертировать";
											action2_action_znach_display_value="display:none";
										}
										
								if(json.actions[1].act=="copy") {
											action2_action_set="Повторить за";
										}
								
								var action2_act_set_val=json.actions[1].value;
								
								var action2_action_delay_value=json.actions[1].delay/1000;
								var action2_action_time_value=json.actions[1].time/1000;
								
								if(action2_action_time_value=="")
								var action2_action_time_value=json.actions[1].intr/1000;
								
								if(isNaN(action2_action_delay_value)) action2_action_delay_value="";
								if(isNaN(action2_action_time_value)) action2_action_time_value="";
								
								if((json.actions[1].object.type=="iadc")||(json.actions[1].object.type=="opwm")||(json.actions[1].object.type=="itmp")) {
									action2_act_set_val=action2_act_set_val/100;
								}
								
						}
						
						//////////////////////////////////////////////////////////////////////
						
						///////////////////////////////////////действие 3/////////////////////////////
						
						var action3_action_type="";
						var action3_action_state_value="";
						var action3_action_var_value="";
						var action3_action_var_display="display:none";
						var action3_action_block_display="display:block";
						var action3_action_output_display="display:block";
						action3_action_znach_display="";
						action3_action_state_display="";
						
						var action3_action_block="";
						var action3_action_output="";
						var action3_action_set="";
						var action3_act_set_val="";
						var action3_action_delay_value="";
						var action3_action_time_value="";
						
						if(typeof json.actions[2] !="undefined") {		
						
										action3_display="display:block";
						
										if(json.actions[2].object.type=="ibin") {
											action3_action_type="Дискретный вход";
											action3_action_znach_display="display:none";
											action3_action_state_display="display:block";
										
										}
										if(json.actions[2].object.type=="iadc") {
											action3_action_type="Аналоговый вход";
											action3_action_znach_display="display:block";
											action3_action_state_display="display:none";
										}
										if(json.actions[2].object.type=="obin") {
											action3_action_type="Дискретный выход";
											action3_action_znach_display="display:none";
											action3_action_state_display="display:block";
										}
										if(json.actions[2].object.type=="opwm") {
											action3_action_type="Аналоговый выход";
											action3_action_znach_display="display:block";
											action3_action_state_display="display:none";
										}
									
										if(json.actions[2].object.type=="var") {
											action3_action_type="Внутренняя переменная";
											action3_action_znach_display="display:block";
											action3_action_state_display="display:none";
											action3_action_var_display="display:block";
											action3_action_block_display="display:none";
											action3_action_output_display="display:none";
										}
										if(json.actions[2].object.type=="message") {
											action3_action_type="Отправить сообщение";
											action3_action_znach_display="display:block";
											action3_action_state_display="display:none";
										}	
								
								var action3_action_block=json.actions[2].object.device;
								var action3_action_output=json.actions[2].object.addr;
								action3_action_var_value=action3_action_output;
								
								var action3_action_set="";
								
								if(json.actions[2].act=="set") {
											action3_action_set="Установить значение";
											action3_action_state_value="Активировать";
										}
								
								if(json.actions[2].act=="reset") {
											action3_action_set="Установить значение";
											action3_action_state_value="Деактивировать";
										}
										
								if(json.actions[2].act=="change") {
											action3_action_set="Изменить на";
										}
										
								if(json.actions[2].act=="inv") {
											action3_action_set="Инвертировать";
											action3_action_state_value="Инвертировать";
											action3_action_znach_display_value="display:none";
										}
										
								if(json.actions[2].act=="copy") {
											action3_action_set="Повторить за";
										}
								
								var action3_act_set_val=json.actions[2].value;
								
								var action3_action_delay_value=json.actions[2].delay/1000;
								var action3_action_time_value=json.actions[2].time/1000;
								
								if(action3_action_time_value=="")
								var action3_action_time_value=json.actions[2].intr/1000;
								
								if(isNaN(action3_action_delay_value)) action3_action_delay_value="";
								if(isNaN(action3_action_time_value)) action3_action_time_value="";
								
								if((json.actions[2].object.type=="iadc")||(json.actions[2].object.type=="opwm")||(json.actions[2].object.type=="itmp")) {
									action3_act_set_val=action3_act_set_val/100;
								}
								
						}
						
						//////////////////////////////////////////////////////////////////////
						///////////////////////////////////////действие 4/////////////////////////////
						
						var action4_action_type="";
						var action4_action_state_value="";
						var action4_action_var_value="";
						var action4_action_var_display="display:none";
						var action4_action_block_display="display:block";
						var action4_action_output_display="display:block";
						action4_action_znach_display="";
						action4_action_state_display="";
						
						var action4_action_block="";
						var action4_action_output="";
						var action4_action_set="";
						var action4_act_set_val="";
						var action4_action_delay_value="";
						var action4_action_time_value="";
						
						if(typeof json.actions[3] !="undefined") {		
						
										action4_display="display:block";
						
										if(json.actions[3].object.type=="ibin") {
											action4_action_type="Дискретный вход";
											action4_action_znach_display="display:none";
											action4_action_state_display="display:block";
										
										}
										if(json.actions[3].object.type=="iadc") {
											action4_action_type="Аналоговый вход";
											action4_action_znach_display="display:block";
											action4_action_state_display="display:none";
										}
										if(json.actions[3].object.type=="obin") {
											action4_action_type="Дискретный выход";
											action4_action_znach_display="display:none";
											action4_action_state_display="display:block";
										}
										if(json.actions[3].object.type=="opwm") {
											action4_action_type="Аналоговый выход";
											action4_action_znach_display="display:block";
											action4_action_state_display="display:none";
										}
									
										if(json.actions[3].object.type=="var") {
											action4_action_type="Внутренняя переменная";
											action4_action_znach_display="display:block";
											action4_action_state_display="display:none";
											action4_action_var_display="display:block";
											action4_action_block_display="display:none";
											action4_action_output_display="display:none";
										}
										if(json.actions[3].object.type=="message") {
											action4_action_type="Отправить сообщение";
											action4_action_znach_display="display:block";
											action4_action_state_display="display:none";
										}	
								
								var action4_action_block=json.actions[3].object.device;
								var action4_action_output=json.actions[3].object.addr;
								action4_action_var_value=action4_action_output;
								
								var action4_action_set="";
								
								if(json.actions[3].act=="set") {
											action4_action_set="Установить значение";
											action4_action_state_value="Активировать";
										}
								
								if(json.actions[3].act=="reset") {
											action4_action_set="Установить значение";
											action4_action_state_value="Деактивировать";
										}
										
								if(json.actions[3].act=="change") {
											action4_action_set="Изменить на";
										}
										
								if(json.actions[3].act=="inv") {
											action4_action_set="Инвертировать";
											action4_action_state_value="Инвертировать";
											action4_action_znach_display_value="display:none";
										}
										
								if(json.actions[3].act=="copy") {
											action4_action_set="Повторить за";
										}
								
								var action4_act_set_val=json.actions[3].value;
								
								var action4_action_delay_value=json.actions[3].delay/1000;
								var action4_action_time_value=json.actions[3].time/1000;
								
									if(action4_action_delay_value=="")
								var action4_action_delay_value=json.actions[3].intr/1000;
								
								if(isNaN(action4_action_delay_value)) action4_action_delay_value="0";
								if(isNaN(action4_action_time_value)) action4_action_time_value="0";
								
								if((json.actions[3].object.type=="iadc")||(json.actions[3].object.type=="opwm")||(json.actions[3].object.type=="itmp")) {
									action4_act_set_val=action4_act_set_val/100;
								}
								
						}
						
						//////////////////////////////////////////////////////////////////////
						///////////////////////////////////////действие 5/////////////////////////////
						
						var action5_action_type="";
						var action5_action_state_value="";
						var action5_action_var_value="";
						var action5_action_var_display="display:none";
						var action5_action_block_display="display:block";
						var action5_action_output_display="display:block";
						action5_action_znach_display="";
						action5_action_state_display="";
						
						var action5_action_block="";
						var action5_action_output="";
						var action5_action_set="";
						var action5_act_set_val="";
						var action5_action_delay_value="";
						var action5_action_time_value="";
						
						if(typeof json.actions[4] !="undefined") {		
						
										action5_display="display:block";
						
										if(json.actions[4].object.type=="ibin") {
											action5_action_type="Дискретный вход";
											action5_action_znach_display="display:none";
											action5_action_state_display="display:block";
										
										}
										if(json.actions[4].object.type=="iadc") {
											action5_action_type="Аналоговый вход";
											action5_action_znach_display="display:block";
											action5_action_state_display="display:none";
										}
										if(json.actions[4].object.type=="obin") {
											action5_action_type="Дискретный выход";
											action5_action_znach_display="display:none";
											action5_action_state_display="display:block";
										}
										if(json.actions[4].object.type=="opwm") {
											action5_action_type="Аналоговый выход";
											action5_action_znach_display="display:block";
											action5_action_state_display="display:none";
										}
									
										if(json.actions[4].object.type=="var") {
											action5_action_type="Внутренняя переменная";
											action5_action_znach_display="display:block";
											action5_action_state_display="display:none";
											action5_action_var_display="display:block";
											action5_action_block_display="display:none";
											action5_action_output_display="display:none";
										}
										if(json.actions[4].object.type=="message") {
											action5_action_type="Отправить сообщение";
											action5_action_znach_display="display:block";
											action5_action_state_display="display:none";
										}	
								
								var action5_action_block=json.actions[4].object.device;
								var action5_action_output=json.actions[4].object.addr;
								action5_action_var_value=action5_action_output;
								
								var action5_action_set="";
								
								if(json.actions[4].act=="set") {
											action5_action_set="Установить значение";
											action5_action_state_value="Активировать";
										}
								
								if(json.actions[4].act=="reset") {
											action5_action_set="Установить значение";
											action5_action_state_value="Деактивировать";
										}
										
								if(json.actions[4].act=="change") {
											action5_action_set="Изменить на";
										}
										
								if(json.actions[4].act=="inv") {
											action5_action_set="Инвертировать";
											action5_action_state_value="Инвертировать";
											action5_action_znach_display_value="display:none";
										}
										
								if(json.actions[4].act=="copy") {
											action5_action_set="Повторить за";
										}
								
								var action5_act_set_val=json.actions[4].value;
								
								var action5_action_delay_value=json.actions[4].delay/1000;
								var action5_action_time_value=json.actions[4].time/1000;
								
								if(action5_action_time_value=="")
								var action5_action_time_value=json.actions[4].intr/1000;
								
								if(isNaN(action5_action_delay_value)) action5_action_delay_value="";
								if(isNaN(action5_action_time_value)) action5_action_time_value="";
								
								if((json.actions[4].object.type=="iadc")||(json.actions[4].object.type=="opwm")||(json.actions[4].object.type=="itmp")) {
									action5_act_set_val=action5_act_set_val/100;
								}
								
						}
						
						if(typeof action1_act_set_val =="undefined") {	
								action1_act_set_val="";
						}
						if(typeof action2_act_set_val =="undefined") {	
								action2_act_set_val="";
						}
						if(typeof action3_act_set_val =="undefined") {	
								action3_act_set_val="";
						}
						if(typeof action4_act_set_val =="undefined") {	
								action4_act_set_val="";
						}
						if(typeof action5_act_set_val =="undefined") {	
								action5_act_set_val="";
						}
						
						//////////////////////////////////////////////////////////////////////
						
						
					
			generate_block_lists(current_function_pos);					
									
		var function_str=`
		<div class="function__row" style="margin-top: 0;">
				<div class="function__hed" onClick="show_function('function_setting_`+current_function_pos+`')">
					<div class="function__name" id="function_naim_str_`+current_function_pos+`">`+function_naim2+`</div>
					<input type="text" name="name" id="function_naim_func`+current_function_pos+`" class="function__rename" value="`+function_naim+`">
					<div class="function__btt">
						<div class="function__svg function__svg_dis">
							<svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
							<path d="M15.7151 3.50826C16.2801 4.09782 16.2893 5.05067 15.7359 5.65205L9.77623 12.1282C9.50686 12.4209 9.13717 12.5901 8.74834 12.5986L6.24384 12.6535L6.2967 10.0245C6.30467 9.62803 6.45973 9.25021 6.72925 8.97058L12.822 2.64921C13.3957 2.05402 14.3227 2.05541 14.8948 2.65231L15.7151 3.50826Z" fill="#314F57"/>
							<path opacity="0.4" d="M9.675 1.5C10.0892 1.5 10.425 1.83579 10.425 2.25C10.425 2.66421 10.0892 3 9.675 3H4.5C3.67157 3 3 3.67157 3 4.5V13.5C3 14.3284 3.67157 15 4.5 15H13.5C14.3284 15 15 14.3284 15 13.5V9.75C15 9.33579 15.3358 9 15.75 9C16.1642 9 16.5 9.33579 16.5 9.75V13.5C16.5 15.1569 15.1569 16.5 13.5 16.5H4.5C2.84315 16.5 1.5 15.1569 1.5 13.5V4.5C1.5 2.84315 2.84315 1.5 4.5 1.5H9.675Z" fill="#314F57"/>
							</svg>
						</div>
						<div class="function__svg function__svg_act" >
							<svg width="16" height="11" viewBox="0 0 16 11" fill="none" xmlns="http://www.w3.org/2000/svg">
							<path d="M14.1206 0.323007C14.5021 -0.0627317 15.1753 -0.109638 15.6241 0.218241C16.073 0.546119 16.1276 1.12462 15.746 1.51036L6.6794 10.677C6.29188 11.0688 5.60523 11.1101 5.15801 10.7684L0.358023 7.10179C-0.0822773 6.76545 -0.121937 6.18605 0.269441 5.80767C0.660819 5.42928 1.33503 5.3952 1.77533 5.73154L5.76023 8.77556L14.1206 0.323007Z" fill="#65DB3B"/>
							</svg>

						</div>
						<div class="function__svg" onclick="del_function('`+current_function_pos+`')">
							<svg width="29" height="29" viewBox="0 0 29 29" fill="none" xmlns="http://www.w3.org/2000/svg">
							<rect width="19.6682" height="2.45853" rx="1.22926" transform="matrix(0.691886 -0.722007 0.691925 0.72197 6.50098 20.3086)" fill="#314F57"/>
							<rect opacity="0.3" width="19.6682" height="2.45853" rx="1.22926" transform="matrix(0.691886 0.722006 -0.691925 0.72197 8.20117 6.10742)" fill="#314F57"/>
							</svg>
						</div>
						<div class="function__svg">
							<svg width="16" height="8" viewBox="0 0 16 8" fill="none" xmlns="http://www.w3.org/2000/svg">
							<path d="M8.00002 5.62586L1.73312 0.177181C1.41628 -0.0896287 0.943143 -0.0490732 0.676333 0.267763C0.409524 0.5846 0.450078 1.05774 0.766915 1.32455L7.25433 7.16716C7.69112 7.53499 8.33419 7.51723 8.75002 7.12586L15.264 1.29701C15.5657 1.01313 15.5801 0.538472 15.2962 0.236841C15.0123 -0.0647888 14.5376 -0.0791721 14.236 0.204715L8.00002 5.62586Z" fill="#314F57"/>
							</svg>
						</div>
					</div>
				</div>
				
				
<div class="function__select function__select_mini2 select" style="display: none;">
								Выберите дни
								<div class="select__posit select__posit_checked">
									<div class="select__posit-check">
										<label class="select__option select__option_label">
											<input type="checkbox" name="name" class="select__checkbox">
											<span class="select__border">
												<svg class="select__svg" width="10" height="8" viewBox="0 0 10 8" fill="none" xmlns="http://www.w3.org/2000/svg">
												<path fill-rule="evenodd" clip-rule="evenodd" d="M0.625 5.1147L2.03423 3.64103L3.68526 5.1595L8.22283 0.890625L9.375 2.38202L3.64564 7.69618L0.625 5.1147Z" fill="#24C1EA"/>
												</svg>
											</span>
											<span class="select__txt">Понедельник</span>
										</label>
									
									<label class="select__option select__option_label">
											<input type="checkbox" name="name" class="select__checkbox">
											<span class="select__border">
												<svg class="select__svg" width="10" height="8" viewBox="0 0 10 8" fill="none" xmlns="http://www.w3.org/2000/svg">
												<path fill-rule="evenodd" clip-rule="evenodd" d="M0.625 5.1147L2.03423 3.64103L3.68526 5.1595L8.22283 0.890625L9.375 2.38202L3.64564 7.69618L0.625 5.1147Z" fill="#24C1EA"/>
												</svg>
											</span>
											<span class="select__txt">Вторник</span>
										</label>

										<label class="select__option select__option_label">
											<input type="checkbox" name="name" class="select__checkbox">
											<span class="select__border">
												<svg class="select__svg" width="10" height="8" viewBox="0 0 10 8" fill="none" xmlns="http://www.w3.org/2000/svg">
												<path fill-rule="evenodd" clip-rule="evenodd" d="M0.625 5.1147L2.03423 3.64103L3.68526 5.1595L8.22283 0.890625L9.375 2.38202L3.64564 7.69618L0.625 5.1147Z" fill="#24C1EA"/>
												</svg>
											</span>
											<span class="select__txt">Среда</span>
										</label>

										<label class="select__option select__option_label">
											<input type="checkbox" name="name" class="select__checkbox">
											<span class="select__border">
												<svg class="select__svg" width="10" height="8" viewBox="0 0 10 8" fill="none" xmlns="http://www.w3.org/2000/svg">
												<path fill-rule="evenodd" clip-rule="evenodd" d="M0.625 5.1147L2.03423 3.64103L3.68526 5.1595L8.22283 0.890625L9.375 2.38202L3.64564 7.69618L0.625 5.1147Z" fill="#24C1EA"/>
												</svg>
											</span>
											<span class="select__txt">Четверг</span>
										</label>
										<label class="select__option select__option_label">
											<input type="checkbox" name="name" class="select__checkbox">
											<span class="select__border">
												<svg class="select__svg" width="10" height="8" viewBox="0 0 10 8" fill="none" xmlns="http://www.w3.org/2000/svg">
												<path fill-rule="evenodd" clip-rule="evenodd" d="M0.625 5.1147L2.03423 3.64103L3.68526 5.1595L8.22283 0.890625L9.375 2.38202L3.64564 7.69618L0.625 5.1147Z" fill="#24C1EA"/>
												</svg>
											</span>
											<span class="select__txt">Пятница</span>
										</label>
										<label class="select__option select__option_label">
											<input type="checkbox" name="name" class="select__checkbox">
											<span class="select__border">
												<svg class="select__svg" width="10" height="8" viewBox="0 0 10 8" fill="none" xmlns="http://www.w3.org/2000/svg">
												<path fill-rule="evenodd" clip-rule="evenodd" d="M0.625 5.1147L2.03423 3.64103L3.68526 5.1595L8.22283 0.890625L9.375 2.38202L3.64564 7.69618L0.625 5.1147Z" fill="#24C1EA"/>
												</svg>
											</span>
											<span class="select__txt">Суббота</span>
										</label>
										<label class="select__option select__option_label">
											<input type="checkbox" name="name" class="select__checkbox">
											<span class="select__border">
												<svg class="select__svg" width="10" height="8" viewBox="0 0 10 8" fill="none" xmlns="http://www.w3.org/2000/svg">
												<path fill-rule="evenodd" clip-rule="evenodd" d="M0.625 5.1147L2.03423 3.64103L3.68526 5.1595L8.22283 0.890625L9.375 2.38202L3.64564 7.69618L0.625 5.1147Z" fill="#24C1EA"/>
												</svg>
											</span>
											<span class="select__txt">Воскресенье</span>
										</label>
									</div>
										<div class="select__option select__option_btt button1">
											Сохранить
										</div>
								</div>
							</div>				
				
				
				
				<div class="function__seting" style="display:none" id="function_setting_`+current_function_pos+`" >
					
					
					
					<div class="function__row2">
						<div class="function__row-name">Триггер и тип события</div>
						<div class="function__in">
							<div class="function__select select" onClick="select_trigger('select_trigger_func`+current_function_pos+`')">
								<div id="selected_trigger_func`+current_function_pos+`">`+trigger_object_text+`</div>
								<div class="select__posit" id="select_trigger_func`+current_function_pos+`">
									<div class="select__option" onClick="set_selected_trigger('selected_trigger_func`+current_function_pos+`','Дискретный вход','func`+current_function_pos+`',`+current_function_pos+`)">Дискретный вход</div>
									<div class="select__option" onClick="set_selected_trigger('selected_trigger_func`+current_function_pos+`','Аналоговый вход','func`+current_function_pos+`',`+current_function_pos+`)">Аналоговый вход</div>
									<div class="select__option" onClick="set_selected_trigger('selected_trigger_func`+current_function_pos+`','Дискретный выход','func`+current_function_pos+`',`+current_function_pos+`)">Дискретный выход</div>
									<div class="select__option" onClick="set_selected_trigger('selected_trigger_func`+current_function_pos+`','Аналоговый выход','func`+current_function_pos+`',`+current_function_pos+`)">Аналоговый выход</div>
									<div class="select__option" onClick="set_selected_trigger('selected_trigger_func`+current_function_pos+`','Ключи доступа 1-Wire-1','func`+current_function_pos+`',`+current_function_pos+`)">Ключи доступа 1-Wire-1</div>
									<div class="select__option" onClick="set_selected_trigger('selected_trigger_func`+current_function_pos+`','Кнопки 1-Wire-2','func`+current_function_pos+`',`+current_function_pos+`)">Кнопки 1-Wire-2</div>
									<div class="select__option" onClick="set_selected_trigger('selected_trigger_func`+current_function_pos+`','Температура 1-Wire-3','func`+current_function_pos+`',`+current_function_pos+`)">Температура 1-Wire-3</div>
								
									<div class="select__option" onClick="set_selected_trigger('selected_trigger_func`+current_function_pos+`','Внутренняя переменная','func`+current_function_pos+`',`+current_function_pos+`)">Внутренняя переменная</div>	
									<div class="select__option" onClick="set_selected_trigger('selected_trigger_func`+current_function_pos+`','Часы','func`+current_function_pos+`')">Часы</div>
								</div>
							</div>
							
							
							<div class="function__inputs function__inputs_ort inputs" id="trigger_clock_field_func`+current_function_pos+`" style="`+trigger_time_field+`">
								<div class="function__rel function__rel_mob">
									<div class="inputs__txt">каждые</div>
									<input type="text" name="name" id="trigger_clock_hour_func`+current_function_pos+`" class="inputs__inp-min inputs__inp-min_mar input" placeholder="Ч" value="`+trigger_clock_hour_value+`">
									<input type="text" name="name" id="trigger_clock_min_func`+current_function_pos+`" class="inputs__inp-min  input inputs__inp-min_mar" placeholder="М" value="`+trigger_clock_min_value+`">
								</div>
							<!---	<div class="function__rel">
									<div class="inputs__txt">на</div>
									<input type="text" name="name" id="delay_to_hour_action_func`+current_function_pos+`" class="inputs__inp-min inputs__inp-min_mar input" placeholder="Ч">
									<input type="text" name="name" id="delay_to_min_action_func`+current_function_pos+`" class="inputs__inp-min input" placeholder="М">
								</div>
							---->
							</div>
							
							<div class="function__inputs inputs" style="display: none;">
								<input type="text" name="name" class="inputs__inp-min inputs__inp-min_mr1 input" placeholder="Ч">
								
								<input type="text" name="name" class="inputs__inp-min input" placeholder="М">
							</div>

							<div class="function__select function__select_mini select" style="`+trigger_block+`" onClick="expand_list('select_block_func`+current_function_pos+`')" id="trigger_block_field_func`+current_function_pos+`">
								<div id="selected_block_func`+current_function_pos+`">`+trigger_object_block+`</div>
								<div class="select__posit" id="select_block_func`+current_function_pos+`">
									`+input_block_list+`
									
								</div>
							</div>
							<div class="function__select function__select_mini select" style="`+trigger_input+`" onClick="expand_list('select_input_func`+current_function_pos+`')" id="trigger_input_field_func`+current_function_pos+`">
								<div id="selected_input_func`+current_function_pos+`">`+trigger_object_addr+`</div>
								<div class="select__posit" id="select_input_func`+current_function_pos+`">
									`+input_input_list+`
									
								</div>
							</div>
							<div class="function__select function__select_mini select" onClick="expand_list('select_output_func`+current_function_pos+`')" style="`+trigger_output+`" id="trigger_output_field_func`+current_function_pos+`">
								<div id="selected_output_func`+current_function_pos+`">`+trigger_object_addr+`</div>
								<div class="select__posit" id="select_output_func`+current_function_pos+`">
									`+input_output_list+`
									
								</div>
							</div>
							
								
							
							<div class="function__inputs inputs function__inputs_mar" style="`+trigger_var+`" id="trigger_variable_field_func`+current_function_pos+`">
								<input type="text" name="name" class="inputs__inp input"  id="trigger_select_variable_func`+current_function_pos+`" placeholder="№ перем." value="`+trigger_var_value+`">
							</div>							
								
							<div class="function__select function__select_mini select"  onClick="expand_list('select_input_address_func`+current_function_pos+`')" style="`+trigger_address+`" id="trigger_address_field_func`+current_function_pos+`">
								<div id="selected_input_address_func`+current_function_pos+`">`+trigger_object_addr+`</div>
								<div class="select__posit" id="select_input_address_func`+current_function_pos+`">
								
								
								`+input_address_list+`
								
							</div>		
							</div>
							
							
							<div class="function__select select" style="`+trigger_type_event+`" id="select_type_event_func`+current_function_pos+`" onClick="expand_list('select_event_func`+current_function_pos+`')">
								<div id="selected_event_func`+current_function_pos+`">`+trigger_event_type+`</div>
								<div class="select__posit" id="select_event_func`+current_function_pos+`">
									<div class="select__option" onClick="set_event_trigger('selected_event_func`+current_function_pos+`','Превышение порога','func`+current_function_pos+`')">Превышение порога</div>
									<div class="select__option" onClick="set_event_trigger('selected_event_func`+current_function_pos+`','Ниже порогового уровня','func`+current_function_pos+`')">Ниже порогового уровня</div>
									<div class="select__option" onClick="set_event_trigger('selected_event_func`+current_function_pos+`','Вход в диапазон','func`+current_function_pos+`')">Вход в диапазон</div>
									<div class="select__option" onClick="set_event_trigger('selected_event_func`+current_function_pos+`','Выход из диапазона','func`+current_function_pos+`')">Выход из диапазона</div>
									<div class="select__option" onClick="set_event_trigger('selected_event_func`+current_function_pos+`','По достижении значения','func`+current_function_pos+`')">По достижении значения</div>
									<div class="select__option" onClick="set_event_trigger('selected_event_func`+current_function_pos+`','Любое изменение','func`+current_function_pos+`')">Любое изменение</div>
									
								</div>
							</div>
							
							<div class="function__select select" style="`+trigger_front+`" id="select_front_func`+current_function_pos+`" onClick="expand_list('select_front_option_func`+current_function_pos+`')">
								<div id="selected_front_func`+current_function_pos+`">`+trigger_front_value+`</div>
								<div class="select__posit" id="select_front_option_func`+current_function_pos+`">
									<div class="select__option" onClick="set_front_trigger('selected_front_func`+current_function_pos+`','По переднему фронту','func`+current_function_pos+`')">По переднему фронту</div>
									<div class="select__option" onClick="set_front_trigger('selected_front_func`+current_function_pos+`','По заднему фронту','func`+current_function_pos+`')">По заднему фронту</div>
									<div class="select__option" onClick="set_front_trigger('selected_front_func`+current_function_pos+`','Любое изменение','func`+current_function_pos+`')">Любое изменение</div>
								</div>
							</div>
							
							
							
							
							<div class="function__inputs inputs" style="`+porog_event+`" id="porog_func`+current_function_pos+`">
								<input type="text" name="name" class="inputs__inp input" id="porog_value_func`+current_function_pos+`" placeholder="Порог"  value="`+event_znach+`">
								<div class="inputs__txt">на</div>
								<input type="text" name="name" class="inputs__inp-min input" id="porog_timeout_value_func`+current_function_pos+`" placeholder="Сек" value='`+event_time+`'>
							</div>
							
							<div class="function__inputs inputs" style="`+interval_event+`" id="interval_func`+current_function_pos+`">
								<input type="text" name="name" class="inputs__inp input" id="interval_from_value_func`+current_function_pos+`" placeholder="Ниж. порог" value="`+event_interval_min+`">
								<input type="text" name="name" class="inputs__inp input" id="interval_to_value_func`+current_function_pos+`" placeholder="Верх. порог" value="`+event_interval_max+`">
								<div class="inputs__txt">на</div>
								<input type="text" name="name" class="inputs__inp-min input" id="interval_timeout_value_func`+current_function_pos+`" placeholder="Сек" value='`+event_time+`'>
							</div>
							<div class="function__inputs inputs" style="`+znach_event+`" id="znach_func`+current_function_pos+`">
								<input type="text" name="name" id="znach_value_func`+current_function_pos+`" class="inputs__inp input" placeholder="Значение">
							</div>
							<!--
								ставим класс function__inputs_mar 
								если справа будет какой-то элемент
							-->
							<div class="function__inputs inputs function__inputs_mar" style="display: none;">
								<input type="text" name="name" class="inputs__inp input" placeholder="№ 375">
							</div>
						

							<div class="function__select function__select_mini2 select" style="display: none;">
								Активен
								<div class="select__posit" id="select_state_func`+current_function_pos+`">
									<div class="select__option">Активен</div>
									<div class="select__option">Не активен</div>
								</div>
							</div>
						</div>

					</div>
					
					<!-----------------------условие 1----------------------------------------->
					
					<div class="function__row2" id="row_condition1_`+current_function_pos+`" style="display:block">
						<div class="function__row-name">Условие</div>
						<div class="function__in">
							<div class="function__select select" onClick="expand_list('select_condition_func`+current_function_pos+`')">
								<div id="selected_condition_func`+current_function_pos+`">`+selected_condition_func+`</div>
								<div class="select__posit" id="select_condition_func`+current_function_pos+`">
									<div class="select__option"  onClick="set_condition('selected_condition_func`+current_function_pos+`','Нет условий','func`+current_function_pos+`','condition1')">Нет условий</div>
									<div class="select__option" onClick="set_condition('selected_condition_func`+current_function_pos+`','Любое из условий','func`+current_function_pos+`','condition1')">Любое из условий</div>
									<div class="select__option" onClick="set_condition('selected_condition_func`+current_function_pos+`','Весь список условий','func`+current_function_pos+`','condition1')">Весь список условий</div>
								</div>
							</div>
						</div>
						<div class="function__in">
							<div class="function__select select" style="" onClick="expand_list('condition1_select_condition_type_func`+current_function_pos+`')">
								<div id="condition1_selected_condition_type_func`+current_function_pos+`">`+condition1_condition_object_text+`</div>
								<div class="select__posit" id="condition1_select_condition_type_func`+current_function_pos+`">
									<div class="select__option" onClick="set_condition_type('condition1_selected_condition_type_func`+current_function_pos+`','Дискретный вход','func`+current_function_pos+`',`+current_function_pos+`,'condition1')">Дискретный вход</div>
							<!---		<div class="select__option" onClick="set_condition_type('selected_condition_type_func`+current_function_pos+`','Дискретный выход','func`+current_function_pos+`',`+current_function_pos+`)">Дискретный выход</div> --->
									<div class="select__option" onClick="set_condition_type('condition1_selected_condition_type_func`+current_function_pos+`','Аналоговый вход','func`+current_function_pos+`',`+current_function_pos+`,'condition1')">Аналоговый вход</div>
							<!----		<div class="select__option" onClick="set_condition_type('selected_condition_type_func`+current_function_pos+`','Аналоговый выход','func`+current_function_pos+`',`+current_function_pos+`)">Аналоговый выход</div> --->
									<div class="select__option" onClick="set_condition_type('condition1_selected_condition_type_func`+current_function_pos+`','Внутренняя переменная','func`+current_function_pos+`',`+current_function_pos+`,'condition1')">Внутренняя переменная</div>
									<div class="select__option" onClick="set_condition_type('condition1_selected_condition_type_func`+current_function_pos+`','Ключи доступа 1-Wire-1','func`+current_function_pos+`',`+current_function_pos+`,'condition1')">Ключи доступа 1-Wire-1</div>
									<div class="select__option" onClick="set_condition_type('condition1_selected_condition_type_func`+current_function_pos+`','Кнопки 1-Wire-2','func`+current_function_pos+`',`+current_function_pos+`,'condition1')">Кнопки 1-Wire-2</div>
									<div class="select__option" onClick="set_condition_type('condition1_selected_condition_type_func`+current_function_pos+`','Температура 1-Wire-3','func`+current_function_pos+`',`+current_function_pos+`,'condition1')">Температура 1-Wire-3</div>
								</div>
							</div>
							<div class="function__select select function__select_mini" style="`+condition1_condition_block_display+`" id="condition1_condition_block_field_func`+current_function_pos+`" onClick="expand_list('condition1_select_condition_block_func`+current_function_pos+`')">
								<div id="condition1_selected_condition_block_func`+current_function_pos+`">`+condition1_condition_block+`</div>
								<div class="select__posit" id="condition1_select_condition_block_func`+current_function_pos+`">
									`+condition1_block_list+`
									
									
								</div>
							</div>
							<div class="function__select select function__select_mini" style="`+condition1_condition_input_display+`" id="condition1_condition_input_field_func`+current_function_pos+`" onClick="expand_list('condition1_select_condition_input_func`+current_function_pos+`')">
								<div id="condition1_selected_condition_input_func`+current_function_pos+`">`+condition1_condition_input+`</div>
								<div class="select__posit" id="condition1_select_condition_input_func`+current_function_pos+`">
									`+condition1_input_list+`
									
								</div>
							</div>
							
							
							
							<div class="function__select select function__select_mini" id="condition1_condition_address_field_func`+current_function_pos+`" style="`+condition1_condition_address+`" onClick="expand_list('condition1_select_condition_address_func`+current_function_pos+`')">
								<div id="condition1_selected_condition_address_func`+current_function_pos+`">`+condition1_condition_address_value+`</div>
								<div class="select__posit" id="condition1_select_condition_address_func`+current_function_pos+`">
									`+condition1_address_list+`
								</div>
							</div>
							
							<div class="function__inputs inputs function__inputs_mar" style="`+condition1_condition_var_display+`" id="condition1_condition_variable_field_func`+current_function_pos+`">
								<input type="text" name="name" class="inputs__inp input" value="`+condition1_condition_var_value+`" id="condition1_condition_variable_value_func`+current_function_pos+`" placeholder="№ перем.">
							</div>
							
							
							
							<div class="function__select select function__select_mini2" style="`+condition1_condition_state_display+`" onClick="expand_list('condition1_select_condition_state_func`+current_function_pos+`')" id="condition1_condition_state_field_func`+current_function_pos+`">
								<div id="condition1_selected_condition_state_func`+current_function_pos+`">`+condition1_condition_state_value+`</div>
								<div class="select__posit" id="condition1_select_condition_state_func`+current_function_pos+`">
									<div class="select__option" onClick="set_condition_state('condition1_selected_condition_state_func`+current_function_pos+`','Активен','func`+current_function_pos+`','condition1')">Активен</div>
									<div class="select__option" onClick="set_condition_state('condition1_selected_condition_state_func`+current_function_pos+`','Не активен','func`+current_function_pos+`','condition1')">Не активен</div>
								</div>
							</div>
							
							<div class="function__select select" style="`+condition1_condition_uslovie_display+`" onClick="expand_list('condition1_select_condition_value_func`+current_function_pos+`')" id="condition1_condition_uslovie_field_func`+current_function_pos+`">
								<div id="condition1_selected_condition_value_func`+current_function_pos+`">`+condition1_condition_value+`</div>
								<div class="select__posit" id="condition1_select_condition_value_func`+current_function_pos+`">
									<div class="select__option" onClick="set_condition_value('condition1_selected_condition_value_func`+current_function_pos+`','Равно','func`+current_function_pos+`','condition1')">Равно</div>
									<div class="select__option" onClick="set_condition_value('condition1_selected_condition_value_func`+current_function_pos+`','Больше','func`+current_function_pos+`','condition1')">Больше</div>
									<div class="select__option" onClick="set_condition_value('condition1_selected_condition_value_func`+current_function_pos+`','Меньше','func`+current_function_pos+`','condition1')">Меньше</div>
									<div class="select__option" onClick="set_condition_value('condition1_selected_condition_value_func`+current_function_pos+`','Больше либо равно','func`+current_function_pos+`','condition1')">Больше либо равно</div>
									<div class="select__option" onClick="set_condition_value('condition1_selected_condition_value_func`+current_function_pos+`','Меньше либо равно','func`+current_function_pos+`','condition1')">Меньше либо равно</div>
									<div class="select__option" onClick="set_condition_value('condition1_selected_condition_value_func`+current_function_pos+`','Не равно','func`+current_function_pos+`','condition1')">Не равно</div>
									<div class="select__option" onClick="set_condition_value('condition1_selected_condition_value_func`+current_function_pos+`','В диапазоне','func`+current_function_pos+`','condition1')">В диапазоне</div>
									<div class="select__option" onClick="set_condition_value('condition1_selected_condition_value_func`+current_function_pos+`','Вне диапазона','func`+current_function_pos+`','condition1')">Вне диапазона</div>
									<div class="select__option" onClick="set_condition_value('condition1_selected_condition_value_func`+current_function_pos+`','Любое изменение','func`+current_function_pos+`','condition1')">Любое изменение</div>
								</div>
							</div>
							<!-- если  справа есть элемент то этот инпут -->
							<div class="function__inputs inputs function__inputs_mar" style="`+condition1_condition_znach_display+`" id="condition1_condition_znach_func`+current_function_pos+`">
								<input type="text" name="name" class="inputs__inp input" id="condition1_condition_znach_value_func`+current_function_pos+`" placeholder="Значение" value='`+condition1_condition_znach_value+`'>
							</div>
							<!--  -->

							<!--если нету, этот-->
							<div class="function__inputs inputs" style="display: none;" >
								<input type="text" name="name" class="inputs__inp input" placeholder="Значение">
							</div>
							<!-- -->

							<div class="function__inputs inputs" style="`+condition1_condition_interval_display+`" id="condition1_condition_interval_func`+current_function_pos+`">
								<input type="text" name="name" class="inputs__inp input" id="condition1_condition_interval_from_func`+current_function_pos+`" placeholder="Мин. знач." value="`+condition1_condition_interval_min+`">
								<input type="text" name="name" class="inputs__inp input" id="condition1_condition_interval_to_func`+current_function_pos+`" placeholder="Макс. знач." value="`+condition1_condition_interval_max+`">
							</div>
						</div>
					</div>
					<!--------------------------------------------------------------------------------------------------------->
					
					<!-----------------------условие 2----------------------------------------->
					
					<div class="function__row2" id="row_condition2_`+current_function_pos+`" style="`+condition2_display+`">
						
						<div class="function__in">
							<div class="function__select select" style="" onClick="expand_list('condition2_select_condition_type_func`+current_function_pos+`')">
								<div id="condition2_selected_condition_type_func`+current_function_pos+`">`+condition2_condition_object_text+`</div>
								<div class="select__posit" id="condition2_select_condition_type_func`+current_function_pos+`">
									<div class="select__option" onClick="set_condition_type('condition2_selected_condition_type_func`+current_function_pos+`','Дискретный вход','func`+current_function_pos+`',`+current_function_pos+`,'condition2')">Дискретный вход</div>
							<!---		<div class="select__option" onClick="set_condition_type('selected_condition_type_func`+current_function_pos+`','Дискретный выход','func`+current_function_pos+`',`+current_function_pos+`)">Дискретный выход</div> --->
									<div class="select__option" onClick="set_condition_type('condition2_selected_condition_type_func`+current_function_pos+`','Аналоговый вход','func`+current_function_pos+`',`+current_function_pos+`,'condition2')">Аналоговый вход</div>
							<!----		<div class="select__option" onClick="set_condition_type('selected_condition_type_func`+current_function_pos+`','Аналоговый выход','func`+current_function_pos+`',`+current_function_pos+`)">Аналоговый выход</div> --->
									<div class="select__option" onClick="set_condition_type('condition2_selected_condition_type_func`+current_function_pos+`','Внутренняя переменная','func`+current_function_pos+`',`+current_function_pos+`,'condition2')">Внутренняя переменная</div>
									<div class="select__option" onClick="set_condition_type('condition2_selected_condition_type_func`+current_function_pos+`','Ключи доступа 1-Wire-1','func`+current_function_pos+`',`+current_function_pos+`,'condition2')">Ключи доступа 1-Wire-1</div>
									<div class="select__option" onClick="set_condition_type('condition2_selected_condition_type_func`+current_function_pos+`','Кнопки 1-Wire-2','func`+current_function_pos+`',`+current_function_pos+`,'condition2')">Кнопки 1-Wire-2</div>
									<div class="select__option" onClick="set_condition_type('condition2_selected_condition_type_func`+current_function_pos+`','Температура 1-Wire-3','func`+current_function_pos+`',`+current_function_pos+`,'condition2')">Температура 1-Wire-3</div>
								</div>
							</div>
							<div class="function__select select function__select_mini" style="`+condition2_condition_block_display+`" id="condition2_condition_block_field_func`+current_function_pos+`" onClick="expand_list('condition2_select_condition_block_func`+current_function_pos+`')">
								<div id="condition2_selected_condition_block_func`+current_function_pos+`">`+condition2_condition_block+`</div>
								<div class="select__posit" id="condition2_select_condition_block_func`+current_function_pos+`">
									`+condition2_block_list+`
									
									
								</div>
							</div>
							<div class="function__select select function__select_mini" style="`+condition2_condition_input_display+`" id="condition2_condition_input_field_func`+current_function_pos+`" onClick="expand_list('condition2_select_condition_input_func`+current_function_pos+`')">
								<div id="condition2_selected_condition_input_func`+current_function_pos+`">`+condition2_condition_input+`</div>
								<div class="select__posit" id="condition2_select_condition_input_func`+current_function_pos+`">
									`+condition2_input_list+`
									
								</div>
							</div>
							
							
							
							<div class="function__select select function__select_mini" id="condition2_condition_address_field_func`+current_function_pos+`" style="`+condition2_condition_address+`" onClick="expand_list('condition2_select_condition_address_func`+current_function_pos+`')">
								<div id="condition2_selected_condition_address_func`+current_function_pos+`">`+condition2_condition_address_value+`</div>
								<div class="select__posit" id="condition2_select_condition_address_func`+current_function_pos+`">
									`+condition2_address_list+`
								</div>
							</div>
							
							<div class="function__inputs inputs function__inputs_mar" style="`+condition2_condition_var_display+`" id="condition2_condition_variable_field_func`+current_function_pos+`">
								<input type="text" name="name" class="inputs__inp input" value="`+condition2_condition_var_value+`" id="condition2_condition_variable_value_func`+current_function_pos+`" placeholder="№ перем.">
							</div>
							
							
							
							<div class="function__select select function__select_mini2" style="`+condition2_condition_state_display+`" onClick="expand_list('condition2_select_condition_state_func`+current_function_pos+`')" id="condition2_condition_state_field_func`+current_function_pos+`">
								<div id="condition2_selected_condition_state_func`+current_function_pos+`">`+condition2_condition_state_value+`</div>
								<div class="select__posit" id="condition2_select_condition_state_func`+current_function_pos+`">
									<div class="select__option" onClick="set_condition_state('condition2_selected_condition_state_func`+current_function_pos+`','Активен','func`+current_function_pos+`','condition2')">Активен</div>
									<div class="select__option" onClick="set_condition_state('condition2_selected_condition_state_func`+current_function_pos+`','Не активен','func`+current_function_pos+`','condition2')">Не активен</div>
								</div>
							</div>
							
							<div class="function__select select" style="`+condition2_condition_uslovie_display+`" onClick="expand_list('condition2_select_condition_value_func`+current_function_pos+`')" id="condition2_condition_uslovie_field_func`+current_function_pos+`">
								<div id="condition2_selected_condition_value_func`+current_function_pos+`">`+condition2_condition_value+`</div>
								<div class="select__posit" id="condition2_select_condition_value_func`+current_function_pos+`">
									<div class="select__option" onClick="set_condition_value('condition2_selected_condition_value_func`+current_function_pos+`','Равно','func`+current_function_pos+`','condition2')">Равно</div>
									<div class="select__option" onClick="set_condition_value('condition2_selected_condition_value_func`+current_function_pos+`','Больше','func`+current_function_pos+`','condition2')">Больше</div>
									<div class="select__option" onClick="set_condition_value('condition2_selected_condition_value_func`+current_function_pos+`','Меньше','func`+current_function_pos+`','condition2')">Меньше</div>
									<div class="select__option" onClick="set_condition_value('condition2_selected_condition_value_func`+current_function_pos+`','Больше либо равно','func`+current_function_pos+`','condition2')">Больше либо равно</div>
									<div class="select__option" onClick="set_condition_value('condition2_selected_condition_value_func`+current_function_pos+`','Меньше либо равно','func`+current_function_pos+`','condition2')">Меньше либо равно</div>
									<div class="select__option" onClick="set_condition_value('condition2_selected_condition_value_func`+current_function_pos+`','Не равно','func`+current_function_pos+`','condition2')">Не равно</div>
									<div class="select__option" onClick="set_condition_value('condition2_selected_condition_value_func`+current_function_pos+`','В диапазоне','func`+current_function_pos+`','condition2')">В диапазоне</div>
									<div class="select__option" onClick="set_condition_value('condition2_selected_condition_value_func`+current_function_pos+`','Вне диапазона','func`+current_function_pos+`','condition2')">Вне диапазона</div>
									<div class="select__option" onClick="set_condition_value('condition2_selected_condition_value_func`+current_function_pos+`','Любое изменение','func`+current_function_pos+`','condition2')">Любое изменение</div>
								</div>
							</div>
							<!-- если  справа есть элемент то этот инпут -->
							<div class="function__inputs inputs function__inputs_mar" style="`+condition2_condition_znach_display+`" id="condition2_condition_znach_func`+current_function_pos+`">
								<input type="text" name="name" class="inputs__inp input" id="condition2_condition_znach_value_func`+current_function_pos+`" placeholder="Значение" value='`+condition2_condition_znach_value+`'>
							</div>
							<!--  -->

							<!--если нету, этот-->
							<div class="function__inputs inputs" style="display: none;" >
								<input type="text" name="name" class="inputs__inp input" placeholder="Значение">
							</div>
							<!-- -->

							<div class="function__inputs inputs" style="`+condition2_condition_interval_display+`" id="condition2_condition_interval_func`+current_function_pos+`">
								<input type="text" name="name" class="inputs__inp input" id="condition2_condition_interval_from_func`+current_function_pos+`" placeholder="Мин. знач." value="`+condition2_condition_interval_min+`">
								<input type="text" name="name" class="inputs__inp input" id="condition2_condition_interval_to_func`+current_function_pos+`" placeholder="Макс. знач." value="`+condition2_condition_interval_max+`">
							</div>
						</div>
					</div>
					<!--------------------------------------------------------------------------------------------------------->
					
					
					<!-----------------------условие 3----------------------------------------->
					
					<div class="function__row2" id="row_condition3_`+current_function_pos+`" style="`+condition3_display+`">
						
						<div class="function__in">
							<div class="function__select select" style="" onClick="expand_list('condition3_select_condition_type_func`+current_function_pos+`')">
								<div id="condition3_selected_condition_type_func`+current_function_pos+`">`+condition3_condition_object_text+`</div>
								<div class="select__posit" id="condition3_select_condition_type_func`+current_function_pos+`">
									<div class="select__option" onClick="set_condition_type('condition3_selected_condition_type_func`+current_function_pos+`','Дискретный вход','func`+current_function_pos+`',`+current_function_pos+`,'condition3')">Дискретный вход</div>
							<!---		<div class="select__option" onClick="set_condition_type('selected_condition_type_func`+current_function_pos+`','Дискретный выход','func`+current_function_pos+`',`+current_function_pos+`)">Дискретный выход</div> --->
									<div class="select__option" onClick="set_condition_type('condition3_selected_condition_type_func`+current_function_pos+`','Аналоговый вход','func`+current_function_pos+`',`+current_function_pos+`,'condition3')">Аналоговый вход</div>
							<!----		<div class="select__option" onClick="set_condition_type('selected_condition_type_func`+current_function_pos+`','Аналоговый выход','func`+current_function_pos+`',`+current_function_pos+`)">Аналоговый выход</div> --->
									<div class="select__option" onClick="set_condition_type('condition3_selected_condition_type_func`+current_function_pos+`','Внутренняя переменная','func`+current_function_pos+`',`+current_function_pos+`,'condition3')">Внутренняя переменная</div>
									<div class="select__option" onClick="set_condition_type('condition3_selected_condition_type_func`+current_function_pos+`','Ключи доступа 1-Wire-1','func`+current_function_pos+`',`+current_function_pos+`,'condition3')">Ключи доступа 1-Wire-1</div>
									<div class="select__option" onClick="set_condition_type('condition3_selected_condition_type_func`+current_function_pos+`','Кнопки 1-Wire-2','func`+current_function_pos+`',`+current_function_pos+`,'condition3')">Кнопки 1-Wire-2</div>
									<div class="select__option" onClick="set_condition_type('condition3_selected_condition_type_func`+current_function_pos+`','Температура 1-Wire-3','func`+current_function_pos+`',`+current_function_pos+`,'condition3')">Температура 1-Wire-3</div>
								</div>
							</div>
							<div class="function__select select function__select_mini" style="`+condition3_condition_block_display+`" id="condition3_condition_block_field_func`+current_function_pos+`" onClick="expand_list('condition3_select_condition_block_func`+current_function_pos+`')">
								<div id="condition3_selected_condition_block_func`+current_function_pos+`">`+condition3_condition_block+`</div>
								<div class="select__posit" id="condition3_select_condition_block_func`+current_function_pos+`">
									`+condition3_block_list+`
									
									
								</div>
							</div>
							<div class="function__select select function__select_mini" style="`+condition3_condition_input_display+`" id="condition3_condition_input_field_func`+current_function_pos+`" onClick="expand_list('condition3_select_condition_input_func`+current_function_pos+`')">
								<div id="condition3_selected_condition_input_func`+current_function_pos+`">`+condition3_condition_input+`</div>
								<div class="select__posit" id="condition3_select_condition_input_func`+current_function_pos+`">
									`+condition3_input_list+`
									
								</div>
							</div>
							
							
							
							<div class="function__select select function__select_mini" id="condition3_condition_address_field_func`+current_function_pos+`" style="`+condition3_condition_address+`" onClick="expand_list('condition3_select_condition_address_func`+current_function_pos+`')">
								<div id="condition3_selected_condition_address_func`+current_function_pos+`">`+condition3_condition_address_value+`</div>
								<div class="select__posit" id="condition3_select_condition_address_func`+current_function_pos+`">
									`+condition3_address_list+`
								</div>
							</div>
							
							<div class="function__inputs inputs function__inputs_mar" style="`+condition3_condition_var_display+`" id="condition3_condition_variable_field_func`+current_function_pos+`">
								<input type="text" name="name" class="inputs__inp input" value="`+condition3_condition_var_value+`" id="condition3_condition_variable_value_func`+current_function_pos+`" placeholder="№ перем.">
							</div>
							
							
							
							<div class="function__select select function__select_mini2" style="`+condition3_condition_state_display+`" onClick="expand_list('condition3_select_condition_state_func`+current_function_pos+`')" id="condition3_condition_state_field_func`+current_function_pos+`">
								<div id="condition3_selected_condition_state_func`+current_function_pos+`">`+condition3_condition_state_value+`</div>
								<div class="select__posit" id="condition3_select_condition_state_func`+current_function_pos+`">
									<div class="select__option" onClick="set_condition_state('condition3_selected_condition_state_func`+current_function_pos+`','Активен','func`+current_function_pos+`','condition3')">Активен</div>
									<div class="select__option" onClick="set_condition_state('condition3_selected_condition_state_func`+current_function_pos+`','Не активен','func`+current_function_pos+`','condition3')">Не активен</div>
								</div>
							</div>
							
							<div class="function__select select" style="`+condition3_condition_uslovie_display+`" onClick="expand_list('condition3_select_condition_value_func`+current_function_pos+`')" id="condition3_condition_uslovie_field_func`+current_function_pos+`">
								<div id="condition3_selected_condition_value_func`+current_function_pos+`">`+condition3_condition_value+`</div>
								<div class="select__posit" id="condition3_select_condition_value_func`+current_function_pos+`">
									<div class="select__option" onClick="set_condition_value('condition3_selected_condition_value_func`+current_function_pos+`','Равно','func`+current_function_pos+`','condition3')">Равно</div>
									<div class="select__option" onClick="set_condition_value('condition3_selected_condition_value_func`+current_function_pos+`','Больше','func`+current_function_pos+`','condition3')">Больше</div>
									<div class="select__option" onClick="set_condition_value('condition3_selected_condition_value_func`+current_function_pos+`','Меньше','func`+current_function_pos+`','condition3')">Меньше</div>
									<div class="select__option" onClick="set_condition_value('condition3_selected_condition_value_func`+current_function_pos+`','Больше либо равно','func`+current_function_pos+`','condition3')">Больше либо равно</div>
									<div class="select__option" onClick="set_condition_value('condition3_selected_condition_value_func`+current_function_pos+`','Меньше либо равно','func`+current_function_pos+`','condition3')">Меньше либо равно</div>
									<div class="select__option" onClick="set_condition_value('condition3_selected_condition_value_func`+current_function_pos+`','Не равно','func`+current_function_pos+`','condition3')">Не равно</div>
									<div class="select__option" onClick="set_condition_value('condition3_selected_condition_value_func`+current_function_pos+`','В диапазоне','func`+current_function_pos+`','condition3')">В диапазоне</div>
									<div class="select__option" onClick="set_condition_value('condition3_selected_condition_value_func`+current_function_pos+`','Вне диапазона','func`+current_function_pos+`','condition3')">Вне диапазона</div>
									<div class="select__option" onClick="set_condition_value('condition3_selected_condition_value_func`+current_function_pos+`','Любое изменение','func`+current_function_pos+`','condition3')">Любое изменение</div>
								</div>
							</div>
							<!-- если  справа есть элемент то этот инпут -->
							<div class="function__inputs inputs function__inputs_mar" style="`+condition3_condition_znach_display+`" id="condition3_condition_znach_func`+current_function_pos+`">
								<input type="text" name="name" class="inputs__inp input" id="condition3_condition_znach_value_func`+current_function_pos+`" placeholder="Значение" value='`+condition3_condition_znach_value+`'>
							</div>
							<!--  -->

							<!--если нету, этот-->
							<div class="function__inputs inputs" style="display: none;" >
								<input type="text" name="name" class="inputs__inp input" placeholder="Значение">
							</div>
							<!-- -->

							<div class="function__inputs inputs" style="`+condition3_condition_interval_display+`" id="condition3_condition_interval_func`+current_function_pos+`">
								<input type="text" name="name" class="inputs__inp input" id="condition3_condition_interval_from_func`+current_function_pos+`" placeholder="Мин. знач." value="`+condition3_condition_interval_min+`">
								<input type="text" name="name" class="inputs__inp input" id="condition3_condition_interval_to_func`+current_function_pos+`" placeholder="Макс. знач." value="`+condition3_condition_interval_max+`">
							</div>
						</div>
					</div>
					<!--------------------------------------------------------------------------------------------------------->
					
					<!-----------------------условие 4----------------------------------------->
					
					<div class="function__row2" id="row_condition4_`+current_function_pos+`" style="`+condition4_display+`">
						
						<div class="function__in">
							<div class="function__select select" style="" onClick="expand_list('condition4_select_condition_type_func`+current_function_pos+`')">
								<div id="condition4_selected_condition_type_func`+current_function_pos+`">`+condition4_condition_object_text+`</div>
								<div class="select__posit" id="condition4_select_condition_type_func`+current_function_pos+`">
									<div class="select__option" onClick="set_condition_type('condition4_selected_condition_type_func`+current_function_pos+`','Дискретный вход','func`+current_function_pos+`',`+current_function_pos+`,'condition4')">Дискретный вход</div>
							<!---		<div class="select__option" onClick="set_condition_type('selected_condition_type_func`+current_function_pos+`','Дискретный выход','func`+current_function_pos+`',`+current_function_pos+`)">Дискретный выход</div> --->
									<div class="select__option" onClick="set_condition_type('condition4_selected_condition_type_func`+current_function_pos+`','Аналоговый вход','func`+current_function_pos+`',`+current_function_pos+`,'condition4')">Аналоговый вход</div>
							<!----		<div class="select__option" onClick="set_condition_type('selected_condition_type_func`+current_function_pos+`','Аналоговый выход','func`+current_function_pos+`',`+current_function_pos+`)">Аналоговый выход</div> --->
									<div class="select__option" onClick="set_condition_type('condition4_selected_condition_type_func`+current_function_pos+`','Внутренняя переменная','func`+current_function_pos+`',`+current_function_pos+`,'condition4')">Внутренняя переменная</div>
									<div class="select__option" onClick="set_condition_type('condition4_selected_condition_type_func`+current_function_pos+`','Ключи доступа 1-Wire-1','func`+current_function_pos+`',`+current_function_pos+`,'condition4')">Ключи доступа 1-Wire-1</div>
									<div class="select__option" onClick="set_condition_type('condition4_selected_condition_type_func`+current_function_pos+`','Кнопки 1-Wire-2','func`+current_function_pos+`',`+current_function_pos+`,'condition4')">Кнопки 1-Wire-2</div>
									<div class="select__option" onClick="set_condition_type('condition4_selected_condition_type_func`+current_function_pos+`','Температура 1-Wire-3','func`+current_function_pos+`',`+current_function_pos+`,'condition4')">Температура 1-Wire-3</div>
								</div>
							</div>
							<div class="function__select select function__select_mini" style="`+condition4_condition_block_display+`" id="condition4_condition_block_field_func`+current_function_pos+`" onClick="expand_list('condition4_select_condition_block_func`+current_function_pos+`')">
								<div id="condition4_selected_condition_block_func`+current_function_pos+`">`+condition4_condition_block+`</div>
								<div class="select__posit" id="condition4_select_condition_block_func`+current_function_pos+`">
									`+condition4_block_list+`
									
									
								</div>
							</div>
							<div class="function__select select function__select_mini" style="`+condition4_condition_input_display+`" id="condition4_condition_input_field_func`+current_function_pos+`" onClick="expand_list('condition4_select_condition_input_func`+current_function_pos+`')">
								<div id="condition4_selected_condition_input_func`+current_function_pos+`">`+condition4_condition_input+`</div>
								<div class="select__posit" id="condition4_select_condition_input_func`+current_function_pos+`">
									`+condition4_input_list+`
									
								</div>
							</div>
							
							
							
							<div class="function__select select function__select_mini" id="condition4_condition_address_field_func`+current_function_pos+`" style="`+condition4_condition_address+`" onClick="expand_list('condition4_select_condition_address_func`+current_function_pos+`')">
								<div id="condition4_selected_condition_address_func`+current_function_pos+`">`+condition4_condition_address_value+`</div>
								<div class="select__posit" id="condition4_select_condition_address_func`+current_function_pos+`">
									`+condition4_address_list+`
								</div>
							</div>
							
							<div class="function__inputs inputs function__inputs_mar" style="`+condition4_condition_var_display+`" id="condition4_condition_variable_field_func`+current_function_pos+`">
								<input type="text" name="name" class="inputs__inp input" value="`+condition4_condition_var_value+`" id="condition4_condition_variable_value_func`+current_function_pos+`" placeholder="№ перем.">
							</div>
							
							
							
							<div class="function__select select function__select_mini2" style="`+condition4_condition_state_display+`" onClick="expand_list('condition4_select_condition_state_func`+current_function_pos+`')" id="condition4_condition_state_field_func`+current_function_pos+`">
								<div id="condition4_selected_condition_state_func`+current_function_pos+`">`+condition4_condition_state_value+`</div>
								<div class="select__posit" id="condition4_select_condition_state_func`+current_function_pos+`">
									<div class="select__option" onClick="set_condition_state('condition4_selected_condition_state_func`+current_function_pos+`','Активен','func`+current_function_pos+`','condition4')">Активен</div>
									<div class="select__option" onClick="set_condition_state('condition4_selected_condition_state_func`+current_function_pos+`','Не активен','func`+current_function_pos+`','condition4')">Не активен</div>
								</div>
							</div>
							
							<div class="function__select select" style="`+condition4_condition_uslovie_display+`" onClick="expand_list('condition4_select_condition_value_func`+current_function_pos+`')" id="condition4_condition_uslovie_field_func`+current_function_pos+`">
								<div id="condition4_selected_condition_value_func`+current_function_pos+`">`+condition4_condition_value+`</div>
								<div class="select__posit" id="condition4_select_condition_value_func`+current_function_pos+`">
									<div class="select__option" onClick="set_condition_value('condition4_selected_condition_value_func`+current_function_pos+`','Равно','func`+current_function_pos+`','condition4')">Равно</div>
									<div class="select__option" onClick="set_condition_value('condition4_selected_condition_value_func`+current_function_pos+`','Больше','func`+current_function_pos+`','condition4')">Больше</div>
									<div class="select__option" onClick="set_condition_value('condition4_selected_condition_value_func`+current_function_pos+`','Меньше','func`+current_function_pos+`','condition4')">Меньше</div>
									<div class="select__option" onClick="set_condition_value('condition4_selected_condition_value_func`+current_function_pos+`','Больше либо равно','func`+current_function_pos+`','condition4')">Больше либо равно</div>
									<div class="select__option" onClick="set_condition_value('condition4_selected_condition_value_func`+current_function_pos+`','Меньше либо равно','func`+current_function_pos+`','condition4')">Меньше либо равно</div>
									<div class="select__option" onClick="set_condition_value('condition4_selected_condition_value_func`+current_function_pos+`','Не равно','func`+current_function_pos+`','condition4')">Не равно</div>
									<div class="select__option" onClick="set_condition_value('condition4_selected_condition_value_func`+current_function_pos+`','В диапазоне','func`+current_function_pos+`','condition4')">В диапазоне</div>
									<div class="select__option" onClick="set_condition_value('condition4_selected_condition_value_func`+current_function_pos+`','Вне диапазона','func`+current_function_pos+`','condition4')">Вне диапазона</div>
									<div class="select__option" onClick="set_condition_value('condition4_selected_condition_value_func`+current_function_pos+`','Любое изменение','func`+current_function_pos+`','condition4')">Любое изменение</div>
								</div>
							</div>
							<!-- если  справа есть элемент то этот инпут -->
							<div class="function__inputs inputs function__inputs_mar" style="`+condition4_condition_znach_display+`" id="condition4_condition_znach_func`+current_function_pos+`">
								<input type="text" name="name" class="inputs__inp input" id="condition4_condition_znach_value_func`+current_function_pos+`" placeholder="Значение" value='`+condition4_condition_znach_value+`'>
							</div>
							<!--  -->

							<!--если нету, этот-->
							<div class="function__inputs inputs" style="display: none;" >
								<input type="text" name="name" class="inputs__inp input" placeholder="Значение">
							</div>
							<!-- -->

							<div class="function__inputs inputs" style="`+condition4_condition_interval_display+`" id="condition4_condition_interval_func`+current_function_pos+`">
								<input type="text" name="name" class="inputs__inp input" id="condition4_condition_interval_from_func`+current_function_pos+`" placeholder="Мин. знач." value="`+condition4_condition_interval_min+`">
								<input type="text" name="name" class="inputs__inp input" id="condition4_condition_interval_to_func`+current_function_pos+`" placeholder="Макс. знач." value="`+condition4_condition_interval_max+`">
							</div>
						</div>
					</div>
					<!--------------------------------------------------------------------------------------------------------->	
					
					
					<!-----------------------условие 5----------------------------------------->
					
					<div class="function__row2" id="row_condition5_`+current_function_pos+`" style="`+condition5_display+`">
						
						<div class="function__in">
							<div class="function__select select" style="" onClick="expand_list('condition5_select_condition_type_func`+current_function_pos+`')">
								<div id="condition5_selected_condition_type_func`+current_function_pos+`">`+condition5_condition_object_text+`</div>
								<div class="select__posit" id="condition5_select_condition_type_func`+current_function_pos+`">
									<div class="select__option" onClick="set_condition_type('condition5_selected_condition_type_func`+current_function_pos+`','Дискретный вход','func`+current_function_pos+`',`+current_function_pos+`,'condition5')">Дискретный вход</div>
							<!---		<div class="select__option" onClick="set_condition_type('selected_condition_type_func`+current_function_pos+`','Дискретный выход','func`+current_function_pos+`',`+current_function_pos+`)">Дискретный выход</div> --->
									<div class="select__option" onClick="set_condition_type('condition5_selected_condition_type_func`+current_function_pos+`','Аналоговый вход','func`+current_function_pos+`',`+current_function_pos+`,'condition5')">Аналоговый вход</div>
							<!----		<div class="select__option" onClick="set_condition_type('selected_condition_type_func`+current_function_pos+`','Аналоговый выход','func`+current_function_pos+`',`+current_function_pos+`)">Аналоговый выход</div> --->
									<div class="select__option" onClick="set_condition_type('condition5_selected_condition_type_func`+current_function_pos+`','Внутренняя переменная','func`+current_function_pos+`',`+current_function_pos+`,'condition5')">Внутренняя переменная</div>
									<div class="select__option" onClick="set_condition_type('condition5_selected_condition_type_func`+current_function_pos+`','Ключи доступа 1-Wire-1','func`+current_function_pos+`',`+current_function_pos+`,'condition5')">Ключи доступа 1-Wire-1</div>
									<div class="select__option" onClick="set_condition_type('condition5_selected_condition_type_func`+current_function_pos+`','Кнопки 1-Wire-2','func`+current_function_pos+`',`+current_function_pos+`,'condition5')">Кнопки 1-Wire-2</div>
									<div class="select__option" onClick="set_condition_type('condition5_selected_condition_type_func`+current_function_pos+`','Температура 1-Wire-3','func`+current_function_pos+`',`+current_function_pos+`,'condition5')">Температура 1-Wire-3</div>
								</div>
							</div>
							<div class="function__select select function__select_mini" style="`+condition5_condition_block_display+`" id="condition5_condition_block_field_func`+current_function_pos+`" onClick="expand_list('condition5_select_condition_block_func`+current_function_pos+`')">
								<div id="condition5_selected_condition_block_func`+current_function_pos+`">`+condition5_condition_block+`</div>
								<div class="select__posit" id="condition5_select_condition_block_func`+current_function_pos+`">
									`+condition5_block_list+`
									
									
								</div>
							</div>
							<div class="function__select select function__select_mini" style="`+condition5_condition_input_display+`" id="condition5_condition_input_field_func`+current_function_pos+`" onClick="expand_list('condition5_select_condition_input_func`+current_function_pos+`')">
								<div id="condition5_selected_condition_input_func`+current_function_pos+`">`+condition5_condition_input+`</div>
								<div class="select__posit" id="condition5_select_condition_input_func`+current_function_pos+`">
									`+condition5_input_list+`
									
								</div>
							</div>
							
							
							
							<div class="function__select select function__select_mini" id="condition5_condition_address_field_func`+current_function_pos+`" style="`+condition5_condition_address+`" onClick="expand_list('condition5_select_condition_address_func`+current_function_pos+`')">
								<div id="condition5_selected_condition_address_func`+current_function_pos+`">`+condition5_condition_address_value+`</div>
								<div class="select__posit" id="condition5_select_condition_address_func`+current_function_pos+`">
									`+condition5_address_list+`
								</div>
							</div>
							
							<div class="function__inputs inputs function__inputs_mar" style="`+condition5_condition_var_display+`" id="condition5_condition_variable_field_func`+current_function_pos+`">
								<input type="text" name="name" class="inputs__inp input" value="`+condition5_condition_var_value+`" id="condition5_condition_variable_value_func`+current_function_pos+`" placeholder="№ перем.">
							</div>
							
							
							
							<div class="function__select select function__select_mini2" style="`+condition5_condition_state_display+`" onClick="expand_list('condition5_select_condition_state_func`+current_function_pos+`')" id="condition5_condition_state_field_func`+current_function_pos+`">
								<div id="condition5_selected_condition_state_func`+current_function_pos+`">`+condition5_condition_state_value+`</div>
								<div class="select__posit" id="condition5_select_condition_state_func`+current_function_pos+`">
									<div class="select__option" onClick="set_condition_state('condition5_selected_condition_state_func`+current_function_pos+`','Активен','func`+current_function_pos+`','condition5')">Активен</div>
									<div class="select__option" onClick="set_condition_state('condition5_selected_condition_state_func`+current_function_pos+`','Не активен','func`+current_function_pos+`','condition5')">Не активен</div>
								</div>
							</div>
							
							<div class="function__select select" style="`+condition5_condition_uslovie_display+`" onClick="expand_list('condition5_select_condition_value_func`+current_function_pos+`')" id="condition5_condition_uslovie_field_func`+current_function_pos+`">
								<div id="condition5_selected_condition_value_func`+current_function_pos+`">`+condition5_condition_value+`</div>
								<div class="select__posit" id="condition5_select_condition_value_func`+current_function_pos+`">
									<div class="select__option" onClick="set_condition_value('condition5_selected_condition_value_func`+current_function_pos+`','Равно','func`+current_function_pos+`','condition5')">Равно</div>
									<div class="select__option" onClick="set_condition_value('condition5_selected_condition_value_func`+current_function_pos+`','Больше','func`+current_function_pos+`','condition5')">Больше</div>
									<div class="select__option" onClick="set_condition_value('condition5_selected_condition_value_func`+current_function_pos+`','Меньше','func`+current_function_pos+`','condition5')">Меньше</div>
									<div class="select__option" onClick="set_condition_value('condition5_selected_condition_value_func`+current_function_pos+`','Больше либо равно','func`+current_function_pos+`','condition5')">Больше либо равно</div>
									<div class="select__option" onClick="set_condition_value('condition5_selected_condition_value_func`+current_function_pos+`','Меньше либо равно','func`+current_function_pos+`','condition5')">Меньше либо равно</div>
									<div class="select__option" onClick="set_condition_value('condition5_selected_condition_value_func`+current_function_pos+`','Не равно','func`+current_function_pos+`','condition5')">Не равно</div>
									<div class="select__option" onClick="set_condition_value('condition5_selected_condition_value_func`+current_function_pos+`','В диапазоне','func`+current_function_pos+`','condition5')">В диапазоне</div>
									<div class="select__option" onClick="set_condition_value('condition5_selected_condition_value_func`+current_function_pos+`','Вне диапазона','func`+current_function_pos+`','condition5')">Вне диапазона</div>
									<div class="select__option" onClick="set_condition_value('condition5_selected_condition_value_func`+current_function_pos+`','Любое изменение','func`+current_function_pos+`','condition5')">Любое изменение</div>
								</div>
							</div>
							<!-- если  справа есть элемент то этот инпут -->
							<div class="function__inputs inputs function__inputs_mar" style="`+condition5_condition_znach_display+`" id="condition5_condition_znach_func`+current_function_pos+`">
								<input type="text" name="name" class="inputs__inp input" id="condition5_condition_znach_value_func`+current_function_pos+`" placeholder="Значение" value='`+condition5_condition_znach_value+`'>
							</div>
							<!--  -->

							<!--если нету, этот-->
							<div class="function__inputs inputs" style="display: none;" >
								<input type="text" name="name" class="inputs__inp input" placeholder="Значение">
							</div>
							<!-- -->

							<div class="function__inputs inputs" style="`+condition5_condition_interval_display+`" id="condition5_condition_interval_func`+current_function_pos+`">
								<input type="text" name="name" class="inputs__inp input" id="condition5_condition_interval_from_func`+current_function_pos+`" placeholder="Мин. знач." value="`+condition5_condition_interval_min+`">
								<input type="text" name="name" class="inputs__inp input" id="condition5_condition_interval_to_func`+current_function_pos+`" placeholder="Макс. знач." value="`+condition5_condition_interval_max+`">
							</div>
						</div>
					</div>
					<!--------------------------------------------------------------------------------------------------------->
					
					
					
					<div class="function__btt1 button0" onClick="add_new_condition('`+current_function_pos+`')" id="add_condition_button_`+current_function_pos+`" style="margin-top:15px;padding-top:10px;display:block">Добавить условие</div>
						<div class="function__btt1 button0" onClick="del_new_condition('`+current_function_pos+`')" id="del_condition_button_`+current_function_pos+`" style="margin-top:15px;padding-top:10px;display:none">Удалить условие</div>
					
					
					<!--------------------------------------------Действие 1--------------------------------->
					
					<div class="function__row3">
						<div class="function__row-name">Действие</div>
						<div class="function__in">
							<div class="function__select select" onClick="expand_list('action1_select_action_func`+current_function_pos+`')">
								<div id="action1_selected_action_func`+current_function_pos+`">`+action1_action_type+`</div>
								<div class="select__posit" id="action1_select_action_func`+current_function_pos+`">
									<div class="select__option" onClick="set_action('action1_selected_action_func`+current_function_pos+`','Дискретный выход','func`+current_function_pos+`','action1_')">Дискретный выход</div>
									<div class="select__option" onClick="set_action('action1_selected_action_func`+current_function_pos+`','Аналоговый выход','func`+current_function_pos+`','action1_')">Аналоговый выход</div>
									<div class="select__option" onClick="set_action('action1_selected_action_func`+current_function_pos+`','Внутренняя переменная','func`+current_function_pos+`','action1_')">Внутренняя переменная</div>
									<div class="select__option" onClick="set_action('action1_selected_action_func`+current_function_pos+`','Отправить сообщение','func`+current_function_pos+`','action1_')">Отправить сообщение</div>
								</div>
							</div>
							<div class="function__inputs function__inputs_mar inputs" style="display: none;">
								<input type="text" name="name" class="inputs__inp input" placeholder="№ перем.">
							</div>
							
							<div class="function__select select function__select_mini" id="action1_action_block_field_func`+current_function_pos+`" style="`+action1_action_block_display+`" onClick="expand_list('action1_select_action_block_func`+current_function_pos+`')">
								<div id="action1_selected_action_block_func`+current_function_pos+`">`+action1_action_block+`</div>
								<div class="select__posit" id="action1_select_action_block_func`+current_function_pos+`">
									`+action1_block_list+`
								</div>
							</div>
							
							
							<div class="function__select select function__select_mini" id="action1_action_output_field_func`+current_function_pos+`" style="`+action1_action_output_display+`"  onClick="expand_list('action1_select_action_output_func`+current_function_pos+`')">
								<div id="action1_selected_action_output_func`+current_function_pos+`">`+action1_action_output+`</div>
								<div class="select__posit" id="action1_select_action_output_func`+current_function_pos+`">
									`+action1_output_list+`
								</div>
							</div>
							
							<div class="function__inputs function__inputs_mar inputs" style="`+action1_action_var_display+`" id="action1_action_variable_field_func`+current_function_pos+`">
								<input type="text" name="name" class="inputs__inp input" placeholder="№ перем." id="action1_action_variable_value_func`+current_function_pos+`" value="`+action1_action_var_value+`">
							</div>
							
							
							<div id="action1_action_znach_func`+current_function_pos+`" style="`+action1_action_znach_display+`">
							
							<table><tr><td>
								<div class="function__select function__select_mini4 select" style="" onClick="expand_list('action1_select_action_do_func`+current_function_pos+`')">
								<div id="action1_selected_action_do_func`+current_function_pos+`">`+action1_action_set+`</div>
								<div class="select__posit" id="action1_select_action_do_func`+current_function_pos+`">
									<div class="select__option" onClick="set_action_do('action1_selected_action_do_func`+current_function_pos+`','Установить значение','func`+current_function_pos+`','action1_')">Установить значение</div>
									<div class="select__option" onClick="set_action_do('action1_selected_action_do_func`+current_function_pos+`','Изменить на','func`+current_function_pos+`','action1_')">Изменить на</div>
									<div class="select__option" onClick="set_action_do('action1_selected_action_do_func`+current_function_pos+`','Инвертировать','func`+current_function_pos+`','action1_')">Инвертировать</div>
									<!----<div class="select__option" onClick="set_action_do('selected_action_do_func`+current_function_pos+`','Повторить за','func`+current_function_pos+`')">Повторить за</div>
									---->
								</div>
							</div>
						
						</td><td>
							
								<div class="function__inputs inputs" id="action1_action_znach_display_value_func`+current_function_pos+`" style="`+action1_action_znach_display_value+`">
									<input type="text" name="name" class="inputs__inp input" id="action1_znach_action_do_func`+current_function_pos+`" placeholder="Значение" value='`+action1_act_set_val+`'>
								</div>
								
						</td></tr></table>
							</div>
							
							<div class="function__select select function__select_mini6" style="`+action1_action_state_display+`" id="action1_action_state_func`+current_function_pos+`" onClick="expand_list('action1_select_action_state_func`+current_function_pos+`')">
								<div id="action1_selected_state_func`+current_function_pos+`">`+action1_action_state_value+`</div>
								<div class="select__posit" style="display: none;" id="action1_select_action_state_func`+current_function_pos+`">
									<div class="select__option" onClick="set_action_state('action1_selected_state_func`+current_function_pos+`','Активировать','func`+current_function_pos+`','action1_')">Активировать</div>
									<div class="select__option" onClick="set_action_state('action1_selected_state_func`+current_function_pos+`','Деактивировать','func`+current_function_pos+`','action1_')">Деактивировать</div>
									<div class="select__option" onClick="set_action_state('action1_selected_state_func`+current_function_pos+`','Инвертировать','func`+current_function_pos+`','action1_')">Инвертировать</div>
								</div>
							</div>

							<div class="function__inputs inputs" style="display:block" >
									<input type="text" name="name" class="inputs__inp input" value="`+action1_action_delay_value+`" id="action1_action_delay_func`+current_function_pos+`" placeholder="Задержка">
								</div>
								
							<div class="function__inputs inputs" style="display:block" >
									<input type="text" name="name" class="inputs__inp input" id="action1_action_time_func`+current_function_pos+`" value="`+action1_action_time_value+`" placeholder="Время">
								</div>
							
							
							
							<div class="function__inputs function__inputs_ort inputs" style="display:none">
								<div class="function__rel function__rel_mob">
									<div class="inputs__txt">через</div>
									<input type="text" name="name" id="delay_from_hour_action_func`+current_function_pos+`" class="inputs__inp-min inputs__inp-min_mar input" placeholder="Ч">
									<input type="text" name="name" id="delay_from_min_action_func`+current_function_pos+`" class="inputs__inp-min  input inputs__inp-min_mar" placeholder="М">
								</div>
								<div class="function__rel">
									<div class="inputs__txt">на</div>
									<input type="text" name="name" id="delay_to_hour_action_func`+current_function_pos+`" class="inputs__inp-min inputs__inp-min_mar input" placeholder="Ч">
									<input type="text" name="name" id="delay_to_min_action_func`+current_function_pos+`" class="inputs__inp-min input" placeholder="М">
								</div>
							</div>
 							<div class="function__select select function__select_mini5" style="display: none;">
								Выберите действие
								<div class="select__posit">
									<div class="select__option">Дискретный вход</div>
									<div class="select__option">Дискретный выход</div>
									<div class="select__option">Аналоговый вход</div>
									<div class="select__option">Аналоговый выход</div>
									<div class="select__option">Аналоговый вход</div>
									<div class="select__option">Внутр. переменная</div>
									<div class="select__option">Ключи доступа 1-Wire-1</div>
									<div class="select__option">Кнопки 1-Wire-2</div>
									<div class="select__option">Температура 1-Wire-3</div>
								</div>
							</div>
							<div class="function__select select function__select_mini3" style="display: none;">
								Выберите
								<div class="select__posit">
									<div class="select__option">=</div>
									<div class="select__option">+</div>
									<div class="select__option">-</div>
								</div>
							</div>
							
							
							<div class="function__select select function__select_mini3" style="display: none;">
								Выберите
								<div class="select__posit">
									<div class="select__option">0</div>
									<div class="select__option">100</div>
								</div>
							</div>
							<div class="function__select select function__select_mini" style="display: none;">
								№ блока
								<div class="select__posit">
									<div class="select__option">№ 123</div>
									<div class="select__option">№ 456</div>
									<div class="select__option">№ 789</div>
									<div class="select__option">№ 101</div>
									<div class="select__option">№ 125</div>
									<div class="select__option">№ 456</div>
									<div class="select__option">№ 289</div>
									<div class="select__option">№ 301</div>
								</div>
							</div>
							<!--
								класс function__select_right
								добовляем на крайне правые элементы ( убираем отступ )
							-->
							<div class="function__select select function__select_mini function__select_right" style="display: none;">
								№ входа
								<div class="select__posit">
									<div class="select__option">№ 123</div>
									<div class="select__option">№ 456</div>
									<div class="select__option">№ 789</div>
									<div class="select__option">№ 101</div>
									<div class="select__option">№ 125</div>
									<div class="select__option">№ 456</div>
									<div class="select__option">№ 289</div>
									<div class="select__option">№ 301</div>
								</div>
							</div>
							<div class="function__select select function__select_mini function__select_right" style="display: none;">
								№ выхода
								<div class="select__posit">
									<div class="select__option">№ 123</div>
									<div class="select__option">№ 456</div>
									<div class="select__option">№ 789</div>
									<div class="select__option">№ 101</div>
									<div class="select__option">№ 125</div>
									<div class="select__option">№ 456</div>
									<div class="select__option">№ 289</div>
									<div class="select__option">№ 301</div>
								</div>
							</div>
							<div class="function__select select function__select_mini function__select_right" style="display: none;">
								№ адреса
								<div class="select__posit">
									<div class="select__option">№ 123</div>
									<div class="select__option">№ 456</div>
									<div class="select__option">№ 789</div>
									<div class="select__option">№ 101</div>
									<div class="select__option">№ 125</div>
									<div class="select__option">№ 456</div>
									<div class="select__option">№ 289</div>
									<div class="select__option">№ 301</div>
								</div>
							</div>
						
							<div class="function__select" style="display: none;">
								<input type="text" name="name" class="function__inp-max input" placeholder="Введите текст">
							</div>
							<div class="function__select" style="display: none;">
								<input type="text" name="name" class="function__inp-max input" placeholder="Номер телефона">
							</div>
							<div class="function__select function__message" style="display: none;">
								<div class="function__btt-mess button1">Отправить</div>
								<div class="function__btt-mess button0">Тест-сообщение</div>
							</div>
							<div class="function__select function__message" style="display: none;">
								<div class="function__btt-mess function__btt-mess_gree button1">Отправлено</div>
							</div>
							<div class="function__select function__message" style="display: none;">
								<div class="function__btt-mess function__btt-mess_orange button1">Не отправлено</div>
							</div>
							<div class="function__select function__message" style="display: none;">
								<div class="function__btt-mess button1">Отправить</div>
								<div class="function__btt-mess function__btt-mess_gree1 button0">Отправлено</div>
							</div>
							<div class="function__select function__message" style="display: none;">
								<div class="function__btt-mess button1">Отправить</div>
								<div class="function__btt-mess function__btt-mess_orange1 button0">Не отправлено</div>
							</div>
						</div>
						<div class="function__in" style="display: none;">
							<div class="function__inputs function__inputs_ort inputs">
								<div class="function__rel function__rel_mob">
									<div class="inputs__txt">через</div>
									<input type="text" name="name" class="inputs__inp-min inputs__inp-min_mar input" placeholder="Ч">
									<input type="text" name="name" class="inputs__inp-min  input inputs__inp-min_mar" placeholder="М">
								</div>
								<div class="function__rel">
									<div class="inputs__txt">на</div>
									<input type="text" name="name" class="inputs__inp-min inputs__inp-min_mar input" placeholder="Ч">
									<input type="text" name="name" class="inputs__inp-min input" placeholder="М">
								</div>
							</div>
						</div>
						
						<div class="function__inputs inputs function__inputs_mar" style="display: none;">
							<input type="text" name="name" class="inputs__inp input" placeholder="№ перем.">
						</div>
					</div>
					
					<!-------------------------------------------------------------------------------------------------------->
					
					<!--------------------------------------------Действие 2--------------------------------->
					
					<div class="function__row3" id="row_action2_`+current_function_pos+`" style="`+action2_display+`">
						<div class="function__row-name"></div>
						<div class="function__in">
							<div class="function__select select" onClick="expand_list('action2_select_action_func`+current_function_pos+`')">
								<div id="action2_selected_action_func`+current_function_pos+`">`+action2_action_type+`</div>
								<div class="select__posit" id="action2_select_action_func`+current_function_pos+`">
									<div class="select__option" onClick="set_action('action2_selected_action_func`+current_function_pos+`','Дискретный выход','func`+current_function_pos+`','action2_')">Дискретный выход</div>
									<div class="select__option" onClick="set_action('action2_selected_action_func`+current_function_pos+`','Аналоговый выход','func`+current_function_pos+`','action2_')">Аналоговый выход</div>
									<div class="select__option" onClick="set_action('action2_selected_action_func`+current_function_pos+`','Внутренняя переменная','func`+current_function_pos+`','action2_')">Внутренняя переменная</div>
									<div class="select__option" onClick="set_action('action2_selected_action_func`+current_function_pos+`','Отправить сообщение','func`+current_function_pos+`','action2_')">Отправить сообщение</div>
								</div>
							</div>
							<div class="function__inputs function__inputs_mar inputs" style="display: none;">
								<input type="text" name="name" class="inputs__inp input" placeholder="№ перем.">
							</div>
							
							<div class="function__select select function__select_mini" id="action2_action_block_field_func`+current_function_pos+`" style="`+action2_action_block_display+`" onClick="expand_list('action2_select_action_block_func`+current_function_pos+`')">
								<div id="action2_selected_action_block_func`+current_function_pos+`">`+action2_action_block+`</div>
								<div class="select__posit" id="action2_select_action_block_func`+current_function_pos+`">
									`+action2_block_list+`
								</div>
							</div>
							
							
							<div class="function__select select function__select_mini" id="action2_action_output_field_func`+current_function_pos+`" style="`+action2_action_output_display+`"  onClick="expand_list('action2_select_action_output_func`+current_function_pos+`')">
								<div id="action2_selected_action_output_func`+current_function_pos+`">`+action2_action_output+`</div>
								<div class="select__posit" id="action2_select_action_output_func`+current_function_pos+`">
									`+action2_output_list+`
								</div>
							</div>
							
							<div class="function__inputs function__inputs_mar inputs" style="`+action2_action_var_display+`" id="action2_action_variable_field_func`+current_function_pos+`">
								<input type="text" name="name" class="inputs__inp input" placeholder="№ перем." id="action2_action_variable_value_func`+current_function_pos+`" value="`+action2_action_var_value+`">
							</div>
							
							
							<div id="action2_action_znach_func`+current_function_pos+`" style="`+action2_action_znach_display+`">
							
							<table><tr><td>
								<div class="function__select function__select_mini4 select" style="" onClick="expand_list('action2_select_action_do_func`+current_function_pos+`')">
								<div id="action2_selected_action_do_func`+current_function_pos+`">`+action2_action_set+`</div>
								<div class="select__posit" id="action2_select_action_do_func`+current_function_pos+`">
									<div class="select__option" onClick="set_action_do('action2_selected_action_do_func`+current_function_pos+`','Установить значение','func`+current_function_pos+`','action2_')">Установить значение</div>
									<div class="select__option" onClick="set_action_do('action2_selected_action_do_func`+current_function_pos+`','Изменить на','func`+current_function_pos+`','action2_')">Изменить на</div>
									<div class="select__option" onClick="set_action_do('action2_selected_action_do_func`+current_function_pos+`','Инвертировать','func`+current_function_pos+`','action2_')">Инвертировать</div>
									<!----<div class="select__option" onClick="set_action_do('selected_action_do_func`+current_function_pos+`','Повторить за','func`+current_function_pos+`')">Повторить за</div>
									---->
								</div>
							</div>
						
						</td><td>
							
								<div class="function__inputs inputs" id="action2_action_znach_display_value_func`+current_function_pos+`" style="`+action2_action_znach_display_value+`">
									<input type="text" name="name" class="inputs__inp input" id="action2_znach_action_do_func`+current_function_pos+`" placeholder="Значение" value='`+action2_act_set_val+`'>
								</div>
								
						</td></tr></table>
							</div>
							
							<div class="function__select select function__select_mini6" style="`+action2_action_state_display+`" id="action2_action_state_func`+current_function_pos+`" onClick="expand_list('action2_select_action_state_func`+current_function_pos+`')">
								<div id="action2_selected_state_func`+current_function_pos+`">`+action2_action_state_value+`</div>
								<div class="select__posit" style="display: none;" id="action2_select_action_state_func`+current_function_pos+`">
									<div class="select__option" onClick="set_action_state('action2_selected_state_func`+current_function_pos+`','Активировать','func`+current_function_pos+`','action2_')">Активировать</div>
									<div class="select__option" onClick="set_action_state('action2_selected_state_func`+current_function_pos+`','Деактивировать','func`+current_function_pos+`','action2_')">Деактивировать</div>
									<div class="select__option" onClick="set_action_state('action2_selected_state_func`+current_function_pos+`','Инвертировать','func`+current_function_pos+`','action2_')">Инвертировать</div>
								</div>
							</div>

							<div class="function__inputs inputs" style="display:block" >
									<input type="text" name="name" class="inputs__inp input" value="`+action2_action_delay_value+`" id="action2_action_delay_func`+current_function_pos+`" placeholder="Задержка">
								</div>
								
							<div class="function__inputs inputs" style="display:block" >
									<input type="text" name="name" class="inputs__inp input" id="action2_action_time_func`+current_function_pos+`" value="`+action2_action_time_value+`" placeholder="Время">
								</div>
							
							
							
							<div class="function__inputs function__inputs_ort inputs" style="display:none">
								<div class="function__rel function__rel_mob">
									<div class="inputs__txt">через</div>
									<input type="text" name="name" id="delay_from_hour_action_func`+current_function_pos+`" class="inputs__inp-min inputs__inp-min_mar input" placeholder="Ч">
									<input type="text" name="name" id="delay_from_min_action_func`+current_function_pos+`" class="inputs__inp-min  input inputs__inp-min_mar" placeholder="М">
								</div>
								<div class="function__rel">
									<div class="inputs__txt">на</div>
									<input type="text" name="name" id="delay_to_hour_action_func`+current_function_pos+`" class="inputs__inp-min inputs__inp-min_mar input" placeholder="Ч">
									<input type="text" name="name" id="delay_to_min_action_func`+current_function_pos+`" class="inputs__inp-min input" placeholder="М">
								</div>
							</div>
 							<div class="function__select select function__select_mini5" style="display: none;">
								Выберите действие
								<div class="select__posit">
									<div class="select__option">Дискретный вход</div>
									<div class="select__option">Дискретный выход</div>
									<div class="select__option">Аналоговый вход</div>
									<div class="select__option">Аналоговый выход</div>
									<div class="select__option">Аналоговый вход</div>
									<div class="select__option">Внутр. переменная</div>
									<div class="select__option">Ключи доступа 1-Wire-1</div>
									<div class="select__option">Кнопки 1-Wire-2</div>
									<div class="select__option">Температура 1-Wire-3</div>
								</div>
							</div>
							<div class="function__select select function__select_mini3" style="display: none;">
								Выберите
								<div class="select__posit">
									<div class="select__option">=</div>
									<div class="select__option">+</div>
									<div class="select__option">-</div>
								</div>
							</div>
							
							
							<div class="function__select select function__select_mini3" style="display: none;">
								Выберите
								<div class="select__posit">
									<div class="select__option">0</div>
									<div class="select__option">100</div>
								</div>
							</div>
							<div class="function__select select function__select_mini" style="display: none;">
								№ блока
								<div class="select__posit">
									<div class="select__option">№ 123</div>
									<div class="select__option">№ 456</div>
									<div class="select__option">№ 789</div>
									<div class="select__option">№ 101</div>
									<div class="select__option">№ 125</div>
									<div class="select__option">№ 456</div>
									<div class="select__option">№ 289</div>
									<div class="select__option">№ 301</div>
								</div>
							</div>
							<!--
								класс function__select_right
								добовляем на крайне правые элементы ( убираем отступ )
							-->
							<div class="function__select select function__select_mini function__select_right" style="display: none;">
								№ входа
								<div class="select__posit">
									<div class="select__option">№ 123</div>
									<div class="select__option">№ 456</div>
									<div class="select__option">№ 789</div>
									<div class="select__option">№ 101</div>
									<div class="select__option">№ 125</div>
									<div class="select__option">№ 456</div>
									<div class="select__option">№ 289</div>
									<div class="select__option">№ 301</div>
								</div>
							</div>
							<div class="function__select select function__select_mini function__select_right" style="display: none;">
								№ выхода
								<div class="select__posit">
									<div class="select__option">№ 123</div>
									<div class="select__option">№ 456</div>
									<div class="select__option">№ 789</div>
									<div class="select__option">№ 101</div>
									<div class="select__option">№ 125</div>
									<div class="select__option">№ 456</div>
									<div class="select__option">№ 289</div>
									<div class="select__option">№ 301</div>
								</div>
							</div>
							<div class="function__select select function__select_mini function__select_right" style="display: none;">
								№ адреса
								<div class="select__posit">
									<div class="select__option">№ 123</div>
									<div class="select__option">№ 456</div>
									<div class="select__option">№ 789</div>
									<div class="select__option">№ 101</div>
									<div class="select__option">№ 125</div>
									<div class="select__option">№ 456</div>
									<div class="select__option">№ 289</div>
									<div class="select__option">№ 301</div>
								</div>
							</div>
						
							<div class="function__select" style="display: none;">
								<input type="text" name="name" class="function__inp-max input" placeholder="Введите текст">
							</div>
							<div class="function__select" style="display: none;">
								<input type="text" name="name" class="function__inp-max input" placeholder="Номер телефона">
							</div>
							<div class="function__select function__message" style="display: none;">
								<div class="function__btt-mess button1">Отправить</div>
								<div class="function__btt-mess button0">Тест-сообщение</div>
							</div>
							<div class="function__select function__message" style="display: none;">
								<div class="function__btt-mess function__btt-mess_gree button1">Отправлено</div>
							</div>
							<div class="function__select function__message" style="display: none;">
								<div class="function__btt-mess function__btt-mess_orange button1">Не отправлено</div>
							</div>
							<div class="function__select function__message" style="display: none;">
								<div class="function__btt-mess button1">Отправить</div>
								<div class="function__btt-mess function__btt-mess_gree1 button0">Отправлено</div>
							</div>
							<div class="function__select function__message" style="display: none;">
								<div class="function__btt-mess button1">Отправить</div>
								<div class="function__btt-mess function__btt-mess_orange1 button0">Не отправлено</div>
							</div>
						</div>
						<div class="function__in" style="display: none;">
							<div class="function__inputs function__inputs_ort inputs">
								<div class="function__rel function__rel_mob">
									<div class="inputs__txt">через</div>
									<input type="text" name="name" class="inputs__inp-min inputs__inp-min_mar input" placeholder="Ч">
									<input type="text" name="name" class="inputs__inp-min  input inputs__inp-min_mar" placeholder="М">
								</div>
								<div class="function__rel">
									<div class="inputs__txt">на</div>
									<input type="text" name="name" class="inputs__inp-min inputs__inp-min_mar input" placeholder="Ч">
									<input type="text" name="name" class="inputs__inp-min input" placeholder="М">
								</div>
							</div>
						</div>
						
						<div class="function__inputs inputs function__inputs_mar" style="display: none;">
							<input type="text" name="name" class="inputs__inp input" placeholder="№ перем.">
						</div>
					</div>
					
					<!-------------------------------------------------------------------------------------------------------->
					
						<!--------------------------------------------Действие 3--------------------------------->
					
					<div class="function__row3" id="row_action3_`+current_function_pos+`" style="`+action3_display+`">
						<div class="function__row-name"></div>
						<div class="function__in">
							<div class="function__select select" onClick="expand_list('action3_select_action_func`+current_function_pos+`')">
								<div id="action3_selected_action_func`+current_function_pos+`">`+action3_action_type+`</div>
								<div class="select__posit" id="action3_select_action_func`+current_function_pos+`">
									<div class="select__option" onClick="set_action('action3_selected_action_func`+current_function_pos+`','Дискретный выход','func`+current_function_pos+`','action3_')">Дискретный выход</div>
									<div class="select__option" onClick="set_action('action3_selected_action_func`+current_function_pos+`','Аналоговый выход','func`+current_function_pos+`','action3_')">Аналоговый выход</div>
									<div class="select__option" onClick="set_action('action3_selected_action_func`+current_function_pos+`','Внутренняя переменная','func`+current_function_pos+`','action3_')">Внутренняя переменная</div>
									<div class="select__option" onClick="set_action('action3_selected_action_func`+current_function_pos+`','Отправить сообщение','func`+current_function_pos+`','action3_')">Отправить сообщение</div>
								</div>
							</div>
							<div class="function__inputs function__inputs_mar inputs" style="display: none;">
								<input type="text" name="name" class="inputs__inp input" placeholder="№ перем.">
							</div>
							
							<div class="function__select select function__select_mini" id="action3_action_block_field_func`+current_function_pos+`" style="`+action3_action_block_display+`" onClick="expand_list('action3_select_action_block_func`+current_function_pos+`')">
								<div id="action3_selected_action_block_func`+current_function_pos+`">`+action3_action_block+`</div>
								<div class="select__posit" id="action3_select_action_block_func`+current_function_pos+`">
									`+action3_block_list+`
								</div>
							</div>
							
							
							<div class="function__select select function__select_mini" id="action3_action_output_field_func`+current_function_pos+`" style="`+action3_action_output_display+`"  onClick="expand_list('action3_select_action_output_func`+current_function_pos+`')">
								<div id="action3_selected_action_output_func`+current_function_pos+`">`+action3_action_output+`</div>
								<div class="select__posit" id="action3_select_action_output_func`+current_function_pos+`">
									`+action3_output_list+`
								</div>
							</div>
							
							<div class="function__inputs function__inputs_mar inputs" style="`+action3_action_var_display+`" id="action3_action_variable_field_func`+current_function_pos+`">
								<input type="text" name="name" class="inputs__inp input" placeholder="№ перем." id="action3_action_variable_value_func`+current_function_pos+`" value="`+action3_action_var_value+`">
							</div>
							
							
							<div id="action3_action_znach_func`+current_function_pos+`" style="`+action3_action_znach_display+`">
							
							<table><tr><td>
								<div class="function__select function__select_mini4 select" style="" onClick="expand_list('action3_select_action_do_func`+current_function_pos+`')">
								<div id="action3_selected_action_do_func`+current_function_pos+`">`+action3_action_set+`</div>
								<div class="select__posit" id="action3_select_action_do_func`+current_function_pos+`">
									<div class="select__option" onClick="set_action_do('action3_selected_action_do_func`+current_function_pos+`','Установить значение','func`+current_function_pos+`','action3_')">Установить значение</div>
									<div class="select__option" onClick="set_action_do('action3_selected_action_do_func`+current_function_pos+`','Изменить на','func`+current_function_pos+`','action3_')">Изменить на</div>
									<div class="select__option" onClick="set_action_do('action3_selected_action_do_func`+current_function_pos+`','Инвертировать','func`+current_function_pos+`','action3_')">Инвертировать</div>
									<!----<div class="select__option" onClick="set_action_do('selected_action_do_func`+current_function_pos+`','Повторить за','func`+current_function_pos+`')">Повторить за</div>
									---->
								</div>
							</div>
						
						</td><td>
							
								<div class="function__inputs inputs" id="action3_action_znach_display_value_func`+current_function_pos+`" style="`+action3_action_znach_display_value+`">
									<input type="text" name="name" class="inputs__inp input" id="action3_znach_action_do_func`+current_function_pos+`" placeholder="Значение" value='`+action3_act_set_val+`'>
								</div>
								
						</td></tr></table>
							</div>
							
							<div class="function__select select function__select_mini6" style="`+action3_action_state_display+`" id="action3_action_state_func`+current_function_pos+`" onClick="expand_list('action3_select_action_state_func`+current_function_pos+`')">
								<div id="action3_selected_state_func`+current_function_pos+`">`+action3_action_state_value+`</div>
								<div class="select__posit" style="display: none;" id="action3_select_action_state_func`+current_function_pos+`">
									<div class="select__option" onClick="set_action_state('action3_selected_state_func`+current_function_pos+`','Активировать','func`+current_function_pos+`','action3_')">Активировать</div>
									<div class="select__option" onClick="set_action_state('action3_selected_state_func`+current_function_pos+`','Деактивировать','func`+current_function_pos+`','action3_')">Деактивировать</div>
									<div class="select__option" onClick="set_action_state('action3_selected_state_func`+current_function_pos+`','Инвертировать','func`+current_function_pos+`','action3_')">Инвертировать</div>
								</div>
							</div>

							<div class="function__inputs inputs" style="display:block" >
									<input type="text" name="name" class="inputs__inp input" value="`+action3_action_delay_value+`" id="action3_action_delay_func`+current_function_pos+`" placeholder="Задержка">
								</div>
								
							<div class="function__inputs inputs" style="display:block" >
									<input type="text" name="name" class="inputs__inp input" id="action3_action_time_func`+current_function_pos+`" value="`+action3_action_time_value+`" placeholder="Время">
								</div>
							
							
							
							<div class="function__inputs function__inputs_ort inputs" style="display:none">
								<div class="function__rel function__rel_mob">
									<div class="inputs__txt">через</div>
									<input type="text" name="name" id="delay_from_hour_action_func`+current_function_pos+`" class="inputs__inp-min inputs__inp-min_mar input" placeholder="Ч">
									<input type="text" name="name" id="delay_from_min_action_func`+current_function_pos+`" class="inputs__inp-min  input inputs__inp-min_mar" placeholder="М">
								</div>
								<div class="function__rel">
									<div class="inputs__txt">на</div>
									<input type="text" name="name" id="delay_to_hour_action_func`+current_function_pos+`" class="inputs__inp-min inputs__inp-min_mar input" placeholder="Ч">
									<input type="text" name="name" id="delay_to_min_action_func`+current_function_pos+`" class="inputs__inp-min input" placeholder="М">
								</div>
							</div>
 							<div class="function__select select function__select_mini5" style="display: none;">
								Выберите действие
								<div class="select__posit">
									<div class="select__option">Дискретный вход</div>
									<div class="select__option">Дискретный выход</div>
									<div class="select__option">Аналоговый вход</div>
									<div class="select__option">Аналоговый выход</div>
									<div class="select__option">Аналоговый вход</div>
									<div class="select__option">Внутр. переменная</div>
									<div class="select__option">Ключи доступа 1-Wire-1</div>
									<div class="select__option">Кнопки 1-Wire-2</div>
									<div class="select__option">Температура 1-Wire-3</div>
								</div>
							</div>
							<div class="function__select select function__select_mini3" style="display: none;">
								Выберите
								<div class="select__posit">
									<div class="select__option">=</div>
									<div class="select__option">+</div>
									<div class="select__option">-</div>
								</div>
							</div>
							
							
							<div class="function__select select function__select_mini3" style="display: none;">
								Выберите
								<div class="select__posit">
									<div class="select__option">0</div>
									<div class="select__option">100</div>
								</div>
							</div>
							<div class="function__select select function__select_mini" style="display: none;">
								№ блока
								<div class="select__posit">
									<div class="select__option">№ 123</div>
									<div class="select__option">№ 456</div>
									<div class="select__option">№ 789</div>
									<div class="select__option">№ 101</div>
									<div class="select__option">№ 125</div>
									<div class="select__option">№ 456</div>
									<div class="select__option">№ 289</div>
									<div class="select__option">№ 301</div>
								</div>
							</div>
							<!--
								класс function__select_right
								добовляем на крайне правые элементы ( убираем отступ )
							-->
							<div class="function__select select function__select_mini function__select_right" style="display: none;">
								№ входа
								<div class="select__posit">
									<div class="select__option">№ 123</div>
									<div class="select__option">№ 456</div>
									<div class="select__option">№ 789</div>
									<div class="select__option">№ 101</div>
									<div class="select__option">№ 125</div>
									<div class="select__option">№ 456</div>
									<div class="select__option">№ 289</div>
									<div class="select__option">№ 301</div>
								</div>
							</div>
							<div class="function__select select function__select_mini function__select_right" style="display: none;">
								№ выхода
								<div class="select__posit">
									<div class="select__option">№ 123</div>
									<div class="select__option">№ 456</div>
									<div class="select__option">№ 789</div>
									<div class="select__option">№ 101</div>
									<div class="select__option">№ 125</div>
									<div class="select__option">№ 456</div>
									<div class="select__option">№ 289</div>
									<div class="select__option">№ 301</div>
								</div>
							</div>
							<div class="function__select select function__select_mini function__select_right" style="display: none;">
								№ адреса
								<div class="select__posit">
									<div class="select__option">№ 123</div>
									<div class="select__option">№ 456</div>
									<div class="select__option">№ 789</div>
									<div class="select__option">№ 101</div>
									<div class="select__option">№ 125</div>
									<div class="select__option">№ 456</div>
									<div class="select__option">№ 289</div>
									<div class="select__option">№ 301</div>
								</div>
							</div>
						
							<div class="function__select" style="display: none;">
								<input type="text" name="name" class="function__inp-max input" placeholder="Введите текст">
							</div>
							<div class="function__select" style="display: none;">
								<input type="text" name="name" class="function__inp-max input" placeholder="Номер телефона">
							</div>
							<div class="function__select function__message" style="display: none;">
								<div class="function__btt-mess button1">Отправить</div>
								<div class="function__btt-mess button0">Тест-сообщение</div>
							</div>
							<div class="function__select function__message" style="display: none;">
								<div class="function__btt-mess function__btt-mess_gree button1">Отправлено</div>
							</div>
							<div class="function__select function__message" style="display: none;">
								<div class="function__btt-mess function__btt-mess_orange button1">Не отправлено</div>
							</div>
							<div class="function__select function__message" style="display: none;">
								<div class="function__btt-mess button1">Отправить</div>
								<div class="function__btt-mess function__btt-mess_gree1 button0">Отправлено</div>
							</div>
							<div class="function__select function__message" style="display: none;">
								<div class="function__btt-mess button1">Отправить</div>
								<div class="function__btt-mess function__btt-mess_orange1 button0">Не отправлено</div>
							</div>
						</div>
						<div class="function__in" style="display: none;">
							<div class="function__inputs function__inputs_ort inputs">
								<div class="function__rel function__rel_mob">
									<div class="inputs__txt">через</div>
									<input type="text" name="name" class="inputs__inp-min inputs__inp-min_mar input" placeholder="Ч">
									<input type="text" name="name" class="inputs__inp-min  input inputs__inp-min_mar" placeholder="М">
								</div>
								<div class="function__rel">
									<div class="inputs__txt">на</div>
									<input type="text" name="name" class="inputs__inp-min inputs__inp-min_mar input" placeholder="Ч">
									<input type="text" name="name" class="inputs__inp-min input" placeholder="М">
								</div>
							</div>
						</div>
						
						<div class="function__inputs inputs function__inputs_mar" style="display: none;">
							<input type="text" name="name" class="inputs__inp input" placeholder="№ перем.">
						</div>
					</div>
					
					<!-------------------------------------------------------------------------------------------------------->

					
						<!--------------------------------------------Действие 4--------------------------------->
					
					<div class="function__row3" id="row_action4_`+current_function_pos+`" style="`+action4_display+`">
						<div class="function__row-name"></div>
						<div class="function__in">
							<div class="function__select select" onClick="expand_list('action4_select_action_func`+current_function_pos+`')">
								<div id="action4_selected_action_func`+current_function_pos+`">`+action4_action_type+`</div>
								<div class="select__posit" id="action4_select_action_func`+current_function_pos+`">
									<div class="select__option" onClick="set_action('action4_selected_action_func`+current_function_pos+`','Дискретный выход','func`+current_function_pos+`','action4_')">Дискретный выход</div>
									<div class="select__option" onClick="set_action('action4_selected_action_func`+current_function_pos+`','Аналоговый выход','func`+current_function_pos+`','action4_')">Аналоговый выход</div>
									<div class="select__option" onClick="set_action('action4_selected_action_func`+current_function_pos+`','Внутренняя переменная','func`+current_function_pos+`','action4_')">Внутренняя переменная</div>
									<div class="select__option" onClick="set_action('action4_selected_action_func`+current_function_pos+`','Отправить сообщение','func`+current_function_pos+`','action4_')">Отправить сообщение</div>
								</div>
							</div>
							<div class="function__inputs function__inputs_mar inputs" style="display: none;">
								<input type="text" name="name" class="inputs__inp input" placeholder="№ перем.">
							</div>
							
							<div class="function__select select function__select_mini" id="action4_action_block_field_func`+current_function_pos+`" style="`+action4_action_block_display+`" onClick="expand_list('action4_select_action_block_func`+current_function_pos+`')">
								<div id="action4_selected_action_block_func`+current_function_pos+`">`+action4_action_block+`</div>
								<div class="select__posit" id="action4_select_action_block_func`+current_function_pos+`">
									`+action4_block_list+`
								</div>
							</div>
							
							
							<div class="function__select select function__select_mini" id="action4_action_output_field_func`+current_function_pos+`" style="`+action4_action_output_display+`"  onClick="expand_list('action4_select_action_output_func`+current_function_pos+`')">
								<div id="action4_selected_action_output_func`+current_function_pos+`">`+action4_action_output+`</div>
								<div class="select__posit" id="action4_select_action_output_func`+current_function_pos+`">
									`+action4_output_list+`
								</div>
							</div>
							
							<div class="function__inputs function__inputs_mar inputs" style="`+action4_action_var_display+`" id="action4_action_variable_field_func`+current_function_pos+`">
								<input type="text" name="name" class="inputs__inp input" placeholder="№ перем." id="action4_action_variable_value_func`+current_function_pos+`" value="`+action4_action_var_value+`">
							</div>
							
							
							<div id="action4_action_znach_func`+current_function_pos+`" style="`+action4_action_znach_display+`">
							
							<table><tr><td>
								<div class="function__select function__select_mini4 select" style="" onClick="expand_list('action4_select_action_do_func`+current_function_pos+`')">
								<div id="action4_selected_action_do_func`+current_function_pos+`">`+action4_action_set+`</div>
								<div class="select__posit" id="action4_select_action_do_func`+current_function_pos+`">
									<div class="select__option" onClick="set_action_do('action4_selected_action_do_func`+current_function_pos+`','Установить значение','func`+current_function_pos+`','action4_')">Установить значение</div>
									<div class="select__option" onClick="set_action_do('action4_selected_action_do_func`+current_function_pos+`','Изменить на','func`+current_function_pos+`','action4_')">Изменить на</div>
									<div class="select__option" onClick="set_action_do('action4_selected_action_do_func`+current_function_pos+`','Инвертировать','func`+current_function_pos+`','action4_')">Инвертировать</div>
									<!----<div class="select__option" onClick="set_action_do('selected_action_do_func`+current_function_pos+`','Повторить за','func`+current_function_pos+`')">Повторить за</div>
									---->
								</div>
							</div>
						
						</td><td>
							
								<div class="function__inputs inputs" id="action4_action_znach_display_value_func`+current_function_pos+`" style="`+action4_action_znach_display_value+`">
									<input type="text" name="name" class="inputs__inp input" id="action4_znach_action_do_func`+current_function_pos+`" placeholder="Значение" value='`+action4_act_set_val+`'>
								</div>
								
						</td></tr></table>
							</div>
							
							<div class="function__select select function__select_mini6" style="`+action4_action_state_display+`" id="action4_action_state_func`+current_function_pos+`" onClick="expand_list('action4_select_action_state_func`+current_function_pos+`')">
								<div id="action4_selected_state_func`+current_function_pos+`">`+action4_action_state_value+`</div>
								<div class="select__posit" style="display: none;" id="action4_select_action_state_func`+current_function_pos+`">
									<div class="select__option" onClick="set_action_state('action4_selected_state_func`+current_function_pos+`','Активировать','func`+current_function_pos+`','action4_')">Активировать</div>
									<div class="select__option" onClick="set_action_state('action4_selected_state_func`+current_function_pos+`','Деактивировать','func`+current_function_pos+`','action4_')">Деактивировать</div>
									<div class="select__option" onClick="set_action_state('action4_selected_state_func`+current_function_pos+`','Инвертировать','func`+current_function_pos+`','action4_')">Инвертировать</div>
								</div>
							</div>

							<div class="function__inputs inputs" style="display:block" >
									<input type="text" name="name" class="inputs__inp input" value="`+action4_action_delay_value+`" id="action4_action_delay_func`+current_function_pos+`" placeholder="Задержка">
								</div>
								
							<div class="function__inputs inputs" style="display:block" >
									<input type="text" name="name" class="inputs__inp input" id="action4_action_time_func`+current_function_pos+`" value="`+action4_action_time_value+`" placeholder="Время">
								</div>
							
							
							
							<div class="function__inputs function__inputs_ort inputs" style="display:none">
								<div class="function__rel function__rel_mob">
									<div class="inputs__txt">через</div>
									<input type="text" name="name" id="delay_from_hour_action_func`+current_function_pos+`" class="inputs__inp-min inputs__inp-min_mar input" placeholder="Ч">
									<input type="text" name="name" id="delay_from_min_action_func`+current_function_pos+`" class="inputs__inp-min  input inputs__inp-min_mar" placeholder="М">
								</div>
								<div class="function__rel">
									<div class="inputs__txt">на</div>
									<input type="text" name="name" id="delay_to_hour_action_func`+current_function_pos+`" class="inputs__inp-min inputs__inp-min_mar input" placeholder="Ч">
									<input type="text" name="name" id="delay_to_min_action_func`+current_function_pos+`" class="inputs__inp-min input" placeholder="М">
								</div>
							</div>
 							<div class="function__select select function__select_mini5" style="display: none;">
								Выберите действие
								<div class="select__posit">
									<div class="select__option">Дискретный вход</div>
									<div class="select__option">Дискретный выход</div>
									<div class="select__option">Аналоговый вход</div>
									<div class="select__option">Аналоговый выход</div>
									<div class="select__option">Аналоговый вход</div>
									<div class="select__option">Внутр. переменная</div>
									<div class="select__option">Ключи доступа 1-Wire-1</div>
									<div class="select__option">Кнопки 1-Wire-2</div>
									<div class="select__option">Температура 1-Wire-3</div>
								</div>
							</div>
							<div class="function__select select function__select_mini3" style="display: none;">
								Выберите
								<div class="select__posit">
									<div class="select__option">=</div>
									<div class="select__option">+</div>
									<div class="select__option">-</div>
								</div>
							</div>
							
							
							<div class="function__select select function__select_mini3" style="display: none;">
								Выберите
								<div class="select__posit">
									<div class="select__option">0</div>
									<div class="select__option">100</div>
								</div>
							</div>
							<div class="function__select select function__select_mini" style="display: none;">
								№ блока
								<div class="select__posit">
									<div class="select__option">№ 123</div>
									<div class="select__option">№ 456</div>
									<div class="select__option">№ 789</div>
									<div class="select__option">№ 101</div>
									<div class="select__option">№ 125</div>
									<div class="select__option">№ 456</div>
									<div class="select__option">№ 289</div>
									<div class="select__option">№ 301</div>
								</div>
							</div>
							<!--
								класс function__select_right
								добовляем на крайне правые элементы ( убираем отступ )
							-->
							<div class="function__select select function__select_mini function__select_right" style="display: none;">
								№ входа
								<div class="select__posit">
									<div class="select__option">№ 123</div>
									<div class="select__option">№ 456</div>
									<div class="select__option">№ 789</div>
									<div class="select__option">№ 101</div>
									<div class="select__option">№ 125</div>
									<div class="select__option">№ 456</div>
									<div class="select__option">№ 289</div>
									<div class="select__option">№ 301</div>
								</div>
							</div>
							<div class="function__select select function__select_mini function__select_right" style="display: none;">
								№ выхода
								<div class="select__posit">
									<div class="select__option">№ 123</div>
									<div class="select__option">№ 456</div>
									<div class="select__option">№ 789</div>
									<div class="select__option">№ 101</div>
									<div class="select__option">№ 125</div>
									<div class="select__option">№ 456</div>
									<div class="select__option">№ 289</div>
									<div class="select__option">№ 301</div>
								</div>
							</div>
							<div class="function__select select function__select_mini function__select_right" style="display: none;">
								№ адреса
								<div class="select__posit">
									<div class="select__option">№ 123</div>
									<div class="select__option">№ 456</div>
									<div class="select__option">№ 789</div>
									<div class="select__option">№ 101</div>
									<div class="select__option">№ 125</div>
									<div class="select__option">№ 456</div>
									<div class="select__option">№ 289</div>
									<div class="select__option">№ 301</div>
								</div>
							</div>
						
							<div class="function__select" style="display: none;">
								<input type="text" name="name" class="function__inp-max input" placeholder="Введите текст">
							</div>
							<div class="function__select" style="display: none;">
								<input type="text" name="name" class="function__inp-max input" placeholder="Номер телефона">
							</div>
							<div class="function__select function__message" style="display: none;">
								<div class="function__btt-mess button1">Отправить</div>
								<div class="function__btt-mess button0">Тест-сообщение</div>
							</div>
							<div class="function__select function__message" style="display: none;">
								<div class="function__btt-mess function__btt-mess_gree button1">Отправлено</div>
							</div>
							<div class="function__select function__message" style="display: none;">
								<div class="function__btt-mess function__btt-mess_orange button1">Не отправлено</div>
							</div>
							<div class="function__select function__message" style="display: none;">
								<div class="function__btt-mess button1">Отправить</div>
								<div class="function__btt-mess function__btt-mess_gree1 button0">Отправлено</div>
							</div>
							<div class="function__select function__message" style="display: none;">
								<div class="function__btt-mess button1">Отправить</div>
								<div class="function__btt-mess function__btt-mess_orange1 button0">Не отправлено</div>
							</div>
						</div>
						<div class="function__in" style="display: none;">
							<div class="function__inputs function__inputs_ort inputs">
								<div class="function__rel function__rel_mob">
									<div class="inputs__txt">через</div>
									<input type="text" name="name" class="inputs__inp-min inputs__inp-min_mar input" placeholder="Ч">
									<input type="text" name="name" class="inputs__inp-min  input inputs__inp-min_mar" placeholder="М">
								</div>
								<div class="function__rel">
									<div class="inputs__txt">на</div>
									<input type="text" name="name" class="inputs__inp-min inputs__inp-min_mar input" placeholder="Ч">
									<input type="text" name="name" class="inputs__inp-min input" placeholder="М">
								</div>
							</div>
						</div>
						
						<div class="function__inputs inputs function__inputs_mar" style="display: none;">
							<input type="text" name="name" class="inputs__inp input" placeholder="№ перем.">
						</div>
					</div>
					
					<!-------------------------------------------------------------------------------------------------------->
					
					
						<!--------------------------------------------Действие 3--------------------------------->
					
					<div class="function__row3" id="row_action5_`+current_function_pos+`" style="`+action5_display+`">
						<div class="function__row-name"></div>
						<div class="function__in">
							<div class="function__select select" onClick="expand_list('action5_select_action_func`+current_function_pos+`')">
								<div id="action5_selected_action_func`+current_function_pos+`">`+action5_action_type+`</div>
								<div class="select__posit" id="action5_select_action_func`+current_function_pos+`">
									<div class="select__option" onClick="set_action('action5_selected_action_func`+current_function_pos+`','Дискретный выход','func`+current_function_pos+`','action5_')">Дискретный выход</div>
									<div class="select__option" onClick="set_action('action5_selected_action_func`+current_function_pos+`','Аналоговый выход','func`+current_function_pos+`','action5_')">Аналоговый выход</div>
									<div class="select__option" onClick="set_action('action5_selected_action_func`+current_function_pos+`','Внутренняя переменная','func`+current_function_pos+`','action5_')">Внутренняя переменная</div>
									<div class="select__option" onClick="set_action('action5_selected_action_func`+current_function_pos+`','Отправить сообщение','func`+current_function_pos+`','action5_')">Отправить сообщение</div>
								</div>
							</div>
							<div class="function__inputs function__inputs_mar inputs" style="display: none;">
								<input type="text" name="name" class="inputs__inp input" placeholder="№ перем.">
							</div>
							
							<div class="function__select select function__select_mini" id="action5_action_block_field_func`+current_function_pos+`" style="`+action5_action_block_display+`" onClick="expand_list('action5_select_action_block_func`+current_function_pos+`')">
								<div id="action5_selected_action_block_func`+current_function_pos+`">`+action5_action_block+`</div>
								<div class="select__posit" id="action5_select_action_block_func`+current_function_pos+`">
									`+action5_block_list+`
								</div>
							</div>
							
							
							<div class="function__select select function__select_mini" id="action5_action_output_field_func`+current_function_pos+`" style="`+action5_action_output_display+`"  onClick="expand_list('action5_select_action_output_func`+current_function_pos+`')">
								<div id="action5_selected_action_output_func`+current_function_pos+`">`+action5_action_output+`</div>
								<div class="select__posit" id="action5_select_action_output_func`+current_function_pos+`">
									`+action5_output_list+`
								</div>
							</div>
							
							<div class="function__inputs function__inputs_mar inputs" style="`+action5_action_var_display+`" id="action5_action_variable_field_func`+current_function_pos+`">
								<input type="text" name="name" class="inputs__inp input" placeholder="№ перем." id="action5_action_variable_value_func`+current_function_pos+`" value="`+action5_action_var_value+`">
							</div>
							
							
							<div id="action5_action_znach_func`+current_function_pos+`" style="`+action5_action_znach_display+`">
							
							<table><tr><td>
								<div class="function__select function__select_mini4 select" style="" onClick="expand_list('action5_select_action_do_func`+current_function_pos+`')">
								<div id="action5_selected_action_do_func`+current_function_pos+`">`+action5_action_set+`</div>
								<div class="select__posit" id="action5_select_action_do_func`+current_function_pos+`">
									<div class="select__option" onClick="set_action_do('action5_selected_action_do_func`+current_function_pos+`','Установить значение','func`+current_function_pos+`','action5_')">Установить значение</div>
									<div class="select__option" onClick="set_action_do('action5_selected_action_do_func`+current_function_pos+`','Изменить на','func`+current_function_pos+`','action5_')">Изменить на</div>
									<div class="select__option" onClick="set_action_do('action5_selected_action_do_func`+current_function_pos+`','Инвертировать','func`+current_function_pos+`','action5_')">Инвертировать</div>
									<!----<div class="select__option" onClick="set_action_do('selected_action_do_func`+current_function_pos+`','Повторить за','func`+current_function_pos+`')">Повторить за</div>
									---->
								</div>
							</div>
						
						</td><td>
							
								<div class="function__inputs inputs" id="action5_action_znach_display_value_func`+current_function_pos+`" style="`+action5_action_znach_display_value+`">
									<input type="text" name="name" class="inputs__inp input" id="action5_znach_action_do_func`+current_function_pos+`" placeholder="Значение" value='`+action5_act_set_val+`'>
								</div>
								
						</td></tr></table>
							</div>
							
							<div class="function__select select function__select_mini6" style="`+action5_action_state_display+`" id="action5_action_state_func`+current_function_pos+`" onClick="expand_list('action5_select_action_state_func`+current_function_pos+`')">
								<div id="action5_selected_state_func`+current_function_pos+`">`+action5_action_state_value+`</div>
								<div class="select__posit" style="display: none;" id="action5_select_action_state_func`+current_function_pos+`">
									<div class="select__option" onClick="set_action_state('action5_selected_state_func`+current_function_pos+`','Активировать','func`+current_function_pos+`','action5_')">Активировать</div>
									<div class="select__option" onClick="set_action_state('action5_selected_state_func`+current_function_pos+`','Деактивировать','func`+current_function_pos+`','action5_')">Деактивировать</div>
									<div class="select__option" onClick="set_action_state('action5_selected_state_func`+current_function_pos+`','Инвертировать','func`+current_function_pos+`','action5_')">Инвертировать</div>
								</div>
							</div>

							<div class="function__inputs inputs" style="display:block" >
									<input type="text" name="name" class="inputs__inp input" value="`+action5_action_delay_value+`" id="action5_action_delay_func`+current_function_pos+`" placeholder="Задержка">
								</div>
								
							<div class="function__inputs inputs" style="display:block" >
									<input type="text" name="name" class="inputs__inp input" id="action5_action_time_func`+current_function_pos+`" value="`+action5_action_time_value+`" placeholder="Время">
								</div>
							
							
							
							<div class="function__inputs function__inputs_ort inputs" style="display:none">
								<div class="function__rel function__rel_mob">
									<div class="inputs__txt">через</div>
									<input type="text" name="name" id="delay_from_hour_action_func`+current_function_pos+`" class="inputs__inp-min inputs__inp-min_mar input" placeholder="Ч">
									<input type="text" name="name" id="delay_from_min_action_func`+current_function_pos+`" class="inputs__inp-min  input inputs__inp-min_mar" placeholder="М">
								</div>
								<div class="function__rel">
									<div class="inputs__txt">на</div>
									<input type="text" name="name" id="delay_to_hour_action_func`+current_function_pos+`" class="inputs__inp-min inputs__inp-min_mar input" placeholder="Ч">
									<input type="text" name="name" id="delay_to_min_action_func`+current_function_pos+`" class="inputs__inp-min input" placeholder="М">
								</div>
							</div>
 							<div class="function__select select function__select_mini5" style="display: none;">
								Выберите действие
								<div class="select__posit">
									<div class="select__option">Дискретный вход</div>
									<div class="select__option">Дискретный выход</div>
									<div class="select__option">Аналоговый вход</div>
									<div class="select__option">Аналоговый выход</div>
									<div class="select__option">Аналоговый вход</div>
									<div class="select__option">Внутр. переменная</div>
									<div class="select__option">Ключи доступа 1-Wire-1</div>
									<div class="select__option">Кнопки 1-Wire-2</div>
									<div class="select__option">Температура 1-Wire-3</div>
								</div>
							</div>
							<div class="function__select select function__select_mini3" style="display: none;">
								Выберите
								<div class="select__posit">
									<div class="select__option">=</div>
									<div class="select__option">+</div>
									<div class="select__option">-</div>
								</div>
							</div>
							
							
							<div class="function__select select function__select_mini3" style="display: none;">
								Выберите
								<div class="select__posit">
									<div class="select__option">0</div>
									<div class="select__option">100</div>
								</div>
							</div>
							<div class="function__select select function__select_mini" style="display: none;">
								№ блока
								<div class="select__posit">
									<div class="select__option">№ 123</div>
									<div class="select__option">№ 456</div>
									<div class="select__option">№ 789</div>
									<div class="select__option">№ 101</div>
									<div class="select__option">№ 125</div>
									<div class="select__option">№ 456</div>
									<div class="select__option">№ 289</div>
									<div class="select__option">№ 301</div>
								</div>
							</div>
							<!--
								класс function__select_right
								добовляем на крайне правые элементы ( убираем отступ )
							-->
							<div class="function__select select function__select_mini function__select_right" style="display: none;">
								№ входа
								<div class="select__posit">
									<div class="select__option">№ 123</div>
									<div class="select__option">№ 456</div>
									<div class="select__option">№ 789</div>
									<div class="select__option">№ 101</div>
									<div class="select__option">№ 125</div>
									<div class="select__option">№ 456</div>
									<div class="select__option">№ 289</div>
									<div class="select__option">№ 301</div>
								</div>
							</div>
							<div class="function__select select function__select_mini function__select_right" style="display: none;">
								№ выхода
								<div class="select__posit">
									<div class="select__option">№ 123</div>
									<div class="select__option">№ 456</div>
									<div class="select__option">№ 789</div>
									<div class="select__option">№ 101</div>
									<div class="select__option">№ 125</div>
									<div class="select__option">№ 456</div>
									<div class="select__option">№ 289</div>
									<div class="select__option">№ 301</div>
								</div>
							</div>
							<div class="function__select select function__select_mini function__select_right" style="display: none;">
								№ адреса
								<div class="select__posit">
									<div class="select__option">№ 123</div>
									<div class="select__option">№ 456</div>
									<div class="select__option">№ 789</div>
									<div class="select__option">№ 101</div>
									<div class="select__option">№ 125</div>
									<div class="select__option">№ 456</div>
									<div class="select__option">№ 289</div>
									<div class="select__option">№ 301</div>
								</div>
							</div>
						
							<div class="function__select" style="display: none;">
								<input type="text" name="name" class="function__inp-max input" placeholder="Введите текст">
							</div>
							<div class="function__select" style="display: none;">
								<input type="text" name="name" class="function__inp-max input" placeholder="Номер телефона">
							</div>
							<div class="function__select function__message" style="display: none;">
								<div class="function__btt-mess button1">Отправить</div>
								<div class="function__btt-mess button0">Тест-сообщение</div>
							</div>
							<div class="function__select function__message" style="display: none;">
								<div class="function__btt-mess function__btt-mess_gree button1">Отправлено</div>
							</div>
							<div class="function__select function__message" style="display: none;">
								<div class="function__btt-mess function__btt-mess_orange button1">Не отправлено</div>
							</div>
							<div class="function__select function__message" style="display: none;">
								<div class="function__btt-mess button1">Отправить</div>
								<div class="function__btt-mess function__btt-mess_gree1 button0">Отправлено</div>
							</div>
							<div class="function__select function__message" style="display: none;">
								<div class="function__btt-mess button1">Отправить</div>
								<div class="function__btt-mess function__btt-mess_orange1 button0">Не отправлено</div>
							</div>
						</div>
						<div class="function__in" style="display: none;">
							<div class="function__inputs function__inputs_ort inputs">
								<div class="function__rel function__rel_mob">
									<div class="inputs__txt">через</div>
									<input type="text" name="name" class="inputs__inp-min inputs__inp-min_mar input" placeholder="Ч">
									<input type="text" name="name" class="inputs__inp-min  input inputs__inp-min_mar" placeholder="М">
								</div>
								<div class="function__rel">
									<div class="inputs__txt">на</div>
									<input type="text" name="name" class="inputs__inp-min inputs__inp-min_mar input" placeholder="Ч">
									<input type="text" name="name" class="inputs__inp-min input" placeholder="М">
								</div>
							</div>
						</div>
						
						<div class="function__inputs inputs function__inputs_mar" style="display: none;">
							<input type="text" name="name" class="inputs__inp input" placeholder="№ перем.">
						</div>
					</div>
					
					<!-------------------------------------------------------------------------------------------------------->
					
					<div class="function__btt1 button0" onClick="add_new_action('`+current_function_pos+`')" id="add_action_button_`+current_function_pos+`" style="margin-top:15px;padding-top:10px;display:block">Добавить действие</div>
						<div class="function__btt1 button0" onClick="del_new_action('`+current_function_pos+`')" id="del_action_button_`+current_function_pos+`" style="margin-top:15px;padding-top:10px;display:none">Удалить действие</div>
					
					<div class="function__bottom">
						<div class="function__btt1 button0" onClick="json_export('`+current_function_pos+`')">Экспорт в JSON</div>
						<div class="function__btt2 button1" onClick="update_func('`+current_function_pos+`')">Сохранить параметры</div>
						
					</div>
				</div>
			</div>
		<br>
	
		`;


		
		document.getElementById('functions_list').innerHTML=document.getElementById('functions_list').innerHTML+function_str;
		
		set_event_trigger('selected_event_func'+current_function_pos,trigger_event_type,'func'+current_function_pos);
		
										current_function_pos++;
										
										set_div_listener();
										
									
										}
							
			});			
									
									
							num_func_index=num_func_index+1;		
										
							
										
										
								});
										
								} catch(error) {
										
										
								}
								
							}
							
		});						
								
	
	}
	
	
	
	function get_devices() {
	
	
				$.ajax({
							type: "POST",
							url: "/api/devlist.php",
							data: '',
							success: function(msg){
							
								var json=JSON.parse(msg);
								var devices=json.devices;
								
							
								  
								try {  
								
								devices.forEach(function(device) {
								    
								    /////получаем спиоск устройств, выводим их на страницу
								    
								    input_block_list_template=input_block_list_template+'<div class="select__option" onClick="set_selected_block(\'selected_block_FUNC\',\''+device.addr+'\',\'FUNC\')">№ '+device.addr+'</div>';
								    	
										condition_block_list_template=condition_block_list_template+'<div class="select__option" onClick="set_condition_block(\'selected_condition_block_FUNC\',\''+device.addr+'\',\'FUNC\')">№ '+device.addr+'</div>';
										
										condition1_block_list_template=condition1_block_list_template+'<div class="select__option" onClick="set_condition_block(\'condition1_selected_condition_block_FUNC\',\''+device.addr+'\',\'FUNC\',\'condition1\')">№ '+device.addr+'</div>';
										condition2_block_list_template=condition2_block_list_template+'<div class="select__option" onClick="set_condition_block(\'condition2_selected_condition_block_FUNC\',\''+device.addr+'\',\'FUNC\',\'condition2\')">№ '+device.addr+'</div>';
										condition3_block_list_template=condition3_block_list_template+'<div class="select__option" onClick="set_condition_block(\'condition3_selected_condition_block_FUNC\',\''+device.addr+'\',\'FUNC\',\'condition3\')">№ '+device.addr+'</div>';
										condition4_block_list_template=condition4_block_list_template+'<div class="select__option" onClick="set_condition_block(\'condition4_selected_condition_block_FUNC\',\''+device.addr+'\',\'FUNC\',\'condition4\')">№ '+device.addr+'</div>';
										condition5_block_list_template=condition5_block_list_template+'<div class="select__option" onClick="set_condition_block(\'condition5_selected_condition_block_FUNC\',\''+device.addr+'\',\'FUNC\',\'condition5\')">№ '+device.addr+'</div>';
										
										
								    	action_block_list_template=action_block_list_template+'<div class="select__option" onClick="set_action_block(\'selected_action_block_FUNC\',\''+device.addr+'\',\'FUNC\')">№ '+device.addr+'</div>';
										
								    	action1_block_list_template=action1_block_list_template+'<div class="select__option" onClick="set_action_block(\'action1_selected_action_block_FUNC\',\''+device.addr+'\',\'FUNC\',\'action1_\')">№ '+device.addr+'</div>';
										
										action2_block_list_template=action2_block_list_template+'<div class="select__option" onClick="set_action_block(\'action2_selected_action_block_FUNC\',\''+device.addr+'\',\'FUNC\',\'action2_\')">№ '+device.addr+'</div>';
										
										action3_block_list_template=action3_block_list_template+'<div class="select__option" onClick="set_action_block(\'action3_selected_action_block_FUNC\',\''+device.addr+'\',\'FUNC\',\'action3_\')">№ '+device.addr+'</div>';
										
										action4_block_list_template=action4_block_list_template+'<div class="select__option" onClick="set_action_block(\'action4_selected_action_block_FUNC\',\''+device.addr+'\',\'FUNC\',\'action4_\')">№ '+device.addr+'</div>';
										
										action5_block_list_template=action5_block_list_template+'<div class="select__option" onClick="set_action_block(\'action5_selected_action_block_FUNC\',\''+device.addr+'\',\'FUNC\',\'action5_\')">№ '+device.addr+'</div>';
								    	
								    
								    
								    	////запрос состояний у этого блока
								    	
								    	////создаем json
									var json_api_req = '{'
									       +'"device":'+device.addr+'}';
								    	
								    	
								    	
								    	$.ajax({
										type: "POST",
										url: "/api/state.php",
										data: json_api_req,
										success: function(msg){
										
										
										
										
											var json_state=JSON.parse(msg);
											
											condition1_input_list_template='';
											condition2_input_list_template='';
											condition3_input_list_template='';
											condition4_input_list_template='';
											condition5_input_list_template='';
							
							///дискретные входы, перебор
											var inp_bin=json_state.inp_bin;
											var input_pos=0;
											
											try {  
											
											inp_bin.forEach(function(input) {
											
									
									 input_input_list_template=input_input_list_template+'<div class="select__option" onClick="set_selected_input(\'selected_input_FUNC\',\''+input_pos+'\',\'FUNC\')">№ '+input_pos+'</div>';
								    	
										condition_input_list_template=condition_input_list_template+'<div class="select__option" onClick="set_condition_input(\'selected_condition_input_FUNC\',\''+input_pos+'\',\'FUNC\')">№ '+input_pos+'</div>';
								    	
										condition1_input_list_template=condition1_input_list_template+'<div class="select__option" onClick="set_condition_input(\'condition1_selected_condition_input_FUNC\',\''+input_pos+'\',\'FUNC\',\'condition1\')">№ '+input_pos+'</div>';
										
										condition2_input_list_template=condition2_input_list_template+'<div class="select__option" onClick="set_condition_input(\'condition2_selected_condition_input_FUNC\',\''+input_pos+'\',\'FUNC\',\'condition2\')">№ '+input_pos+'</div>';
										
										condition3_input_list_template=condition3_input_list_template+'<div class="select__option" onClick="set_condition_input(\'condition3_selected_condition_input_FUNC\',\''+input_pos+'\',\'FUNC\',\'condition3\')">№ '+input_pos+'</div>';
										
										condition4_input_list_template=condition4_input_list_template+'<div class="select__option" onClick="set_condition_input(\'condition4_selected_condition_input_FUNC\',\''+input_pos+'\',\'FUNC\',\'condition4\')">№ '+input_pos+'</div>';
										
										condition5_input_list_template=condition5_input_list_template+'<div class="select__option" onClick="set_condition_input(\'condition5_selected_condition_input_FUNC\',\''+input_pos+'\',\'FUNC\',\'condition5\')">№ '+input_pos+'</div>';
									
										
										input_pos++;
										
										
										});
										
										} catch(error) {
										
										
										}
											
							///////////////////////////////////////////	
							
							
							///ключи, перебор
											var inp_key=json_state.inp_key;
											var input_pos=1;
											
											input_address_list_template_key="";
											condition_address_list_template_key="";
											condition1_address_list_template_key="";
											condition2_address_list_template_key="";
											condition3_address_list_template_key="";
											condition4_address_list_template_key="";
											condition5_address_list_template_key="";
											condition6_address_list_template_key="";
											
											try {
											inp_key.forEach(function(input_keys) {
											
									
									
									
											
							input_address_list_template_key=input_address_list_template_key+'<div class="select__option" onClick="set_selected_input_address(\'selected_input_address_FUNC\',\''+input_keys+'\',\'FUNC\')">№ '+input_keys+'</div>';		

							condition_address_list_template_key=condition_address_list_template_key+'<div class="select__option" onClick="set_selected_condition_address(\'selected_condition_address_FUNC\',\''+input_keys+'\',\'FUNC\')">№ '+input_keys+'</div>';		

							condition1_address_list_template_key=condition1_address_list_template_key+'<div class="select__option" onClick="set_selected_condition_address(\'condition1_selected_condition_address_FUNC\',\''+input_keys+'\',\'FUNC\',\'condition1\')">№ '+input_keys+'</div>';		
							
							condition2_address_list_template_key=condition2_address_list_template_key+'<div class="select__option" onClick="set_selected_condition_address(\'condition2_selected_condition_address_FUNC\',\''+input_keys+'\',\'FUNC\',\'condition2\')">№ '+input_keys+'</div>';	
							
							condition3_address_list_template_key=condition3_address_list_template_key+'<div class="select__option" onClick="set_selected_condition_address(\'condition3_selected_condition_address_FUNC\',\''+input_keys+'\',\'FUNC\',\'condition3\')">№ '+input_keys+'</div>';	
							
							condition4_address_list_template_key=condition4_address_list_template_key+'<div class="select__option" onClick="set_selected_condition_address(\'condition4_selected_condition_address_FUNC\',\''+input_keys+'\',\'FUNC\',\'condition4\')">№ '+input_keys+'</div>';		
							
							condition5_address_list_template_key=condition5_address_list_template_key+'<div class="select__option" onClick="set_selected_condition_address(\'condition5_selected_condition_address_FUNC\',\''+input_keys+'\',\'FUNC\',\'condition5\')">№ '+input_keys+'</div>';								
											
											
										
							
										
													
										
										input_pos++;
										
										
										});
										
										} catch(error) {
										
										
										}
											
							///////////////////////////////////////////			
									
									
		///кнопки, перебор
											var inp_btn=json_state.inp_btn;
											var input_pos=1;
											
											input_address_list_template_button="";
											condition_address_list_template_button="";
											condition1_address_list_template_button="";
											condition2_address_list_template_button="";
											condition3_address_list_template_button="";
											condition4_address_list_template_button="";
											condition5_address_list_template_button="";
											condition6_address_list_template_button="";
											
											try { 
											inp_btn.forEach(function(input_keys) {
											
											
											var address_key="";
											var state_key="";
											var pos_key=0;
											
											
											for (var key in input_keys) {
											
												if(pos_key==0) address_key=key;
												
												pos_key++;
												///alert(key);
											
											}
											
											state_key=input_keys[address_key];
											
											
									input_address_list_template_button=input_address_list_template_button+'<div class="select__option" onClick="set_selected_input_address(\'selected_input_address_FUNC\',\''+address_key+'\',\'FUNC\')">№ '+address_key+'</div>';		
									
									condition_address_list_template_button=condition_address_list_template_button+'<div class="select__option" onClick="set_selected_condition_address(\'selected_condition_address_FUNC\',\''+address_key+'\',\'FUNC\')">№ '+address_key+'</div>';
									
									condition1_address_list_template_button=condition1_address_list_template_button+'<div class="select__option" onClick="set_selected_condition_address(\'condition1_selected_condition_address_FUNC\',\''+address_key+'\',\'FUNC\',\'condition1\')">№ '+address_key+'</div>';
									
									condition2_address_list_template_button=condition2_address_list_template_button+'<div class="select__option" onClick="set_selected_condition_address(\'condition2_selected_condition_address_FUNC\',\''+address_key+'\',\'FUNC\',\'condition2\')">№ '+address_key+'</div>';
									
									condition3_address_list_template_button=condition3_address_list_template_button+'<div class="select__option" onClick="set_selected_condition_address(\'condition3_selected_condition_address_FUNC\',\''+address_key+'\',\'FUNC\',\'condition3\')">№ '+address_key+'</div>';
									
									condition4_address_list_template_button=condition4_address_list_template_button+'<div class="select__option" onClick="set_selected_condition_address(\'condition4_selected_condition_address_FUNC\',\''+address_key+'\',\'FUNC\',\'condition4\')">№ '+address_key+'</div>';
									
									condition5_address_list_template_button=condition5_address_list_template_button+'<div class="select__option" onClick="set_selected_condition_address(\'condition5_selected_condition_address_FUNC\',\''+address_key+'\',\'FUNC\',\'condition5\')">№ '+address_key+'</div>';

										
										
										
										
										
										input_pos++;
										
										
										});
											
											
											} catch(error) {
											
											
											}
							///////////////////////////////////////////		
			
			
			
				///температуры, перебор
											var inp_tmp=json_state.inp_tmp;
											var input_pos=1;
											
											input_address_list_template_temp="";
											condition_address_list_template_temp="";
											condition1_address_list_template_temp="";
											condition2_address_list_template_temp="";
											condition3_address_list_template_temp="";
											condition4_address_list_template_temp="";
											condition5_address_list_template_temp="";
											condition6_address_list_template_temp="";
											
											try {
											inp_tmp.forEach(function(input_keys) {
											
											
											var address_key="";
											var value_key="";
											var pos_key=0;
											
											
											for (var key in input_keys) {
											
												if(pos_key==0) address_key=key;
												
												
												pos_key++;
												///alert(key);
											
											}
											
										
											
									input_address_list_template_temp=input_address_list_template_temp+'<div class="select__option" onClick="set_selected_input_address(\'selected_input_address_FUNC\',\''+address_key+'\',\'FUNC\')">№ '+address_key+'</div>';	
	
									condition_address_list_template_temp=condition_address_list_template_temp+'<div class="select__option" onClick="set_selected_condition_address(\'selected_condition_address_FUNC\',\''+address_key+'\',\'FUNC\')">№ '+address_key+'</div>';
									
									condition1_address_list_template_temp=condition1_address_list_template_temp+'<div class="select__option" onClick="set_selected_condition_address(\'condition1_selected_condition_address_FUNC\',\''+address_key+'\',\'FUNC\',\'condition1\')">№ '+address_key+'</div>';
									
									condition2_address_list_template_temp=condition2_address_list_template_temp+'<div class="select__option" onClick="set_selected_condition_address(\'condition2_selected_condition_address_FUNC\',\''+address_key+'\',\'FUNC\',\'condition2\')">№ '+address_key+'</div>';
									
									condition3_address_list_template_temp=condition3_address_list_template_temp+'<div class="select__option" onClick="set_selected_condition_address(\'condition3_selected_condition_address_FUNC\',\''+address_key+'\',\'FUNC\',\'condition3\')">№ '+address_key+'</div>';
									
									condition4_address_list_template_temp=condition4_address_list_template_temp+'<div class="select__option" onClick="set_selected_condition_address(\'condition4_selected_condition_address_FUNC\',\''+address_key+'\',\'FUNC\',\'condition4\')">№ '+address_key+'</div>';
									
									condition5_address_list_template_temp=condition5_address_list_template_temp+'<div class="select__option" onClick="set_selected_condition_address(\'condition5_selected_condition_address_FUNC\',\''+address_key+'\',\'FUNC\',\'condition5\')">№ '+address_key+'</div>';
										
										input_pos++;
										
										
										});
										
										} catch(error) {
										
										
										}
											
							///////////////////////////////////////////	
							
															
											
						
						
						///дискретные выходы, перебор
											var out_bin=json_state.out_bin;
											var input_pos=0;
											
											try {  
											
											out_bin.forEach(function(input) {
											
									
									//////////////////////////////////
									
									 input_output_list_template=input_output_list_template+'<div class="select__option" onClick="set_selected_output(\'selected_output_FUNC\',\''+input_pos+'\',\'FUNC\')">№ '+input_pos+'</div>';
									
									action_output_list_template=action_output_list_template+'<div class="select__option" onClick="set_action_output(\'selected_action_output_FUNC\',\''+input_pos+'\',\'FUNC\')">№ '+input_pos+'</div>';
									action1_output_list_template=action1_output_list_template+'<div class="select__option" onClick="set_action_output(\'action1_selected_action_output_FUNC\',\''+input_pos+'\',\'FUNC\',\'action1_\')">№ '+input_pos+'</div>';
									action2_output_list_template=action2_output_list_template+'<div class="select__option" onClick="set_action_output(\'action2_selected_action_output_FUNC\',\''+input_pos+'\',\'FUNC\',\'action2_\')">№ '+input_pos+'</div>';
									action3_output_list_template=action3_output_list_template+'<div class="select__option" onClick="set_action_output(\'action3_selected_action_output_FUNC\',\''+input_pos+'\',\'FUNC\',\'action3_\')">№ '+input_pos+'</div>';	
									action4_output_list_template=action4_output_list_template+'<div class="select__option" onClick="set_action_output(\'action4_selected_action_output_FUNC\',\''+input_pos+'\',\'FUNC\',\'action4_\')">№ '+input_pos+'</div>';
									action5_output_list_template=action5_output_list_template+'<div class="select__option" onClick="set_action_output(\'action5_selected_action_output_FUNC\',\''+input_pos+'\',\'FUNC\',\'action5_\')">№ '+input_pos+'</div>';
									
								
									
									//////////////////////////////////


										
										input_pos++;
										
										
										});
										
										} catch(error) {
										
										
										}
											
							
											
											    
											    
										}
									});
									
		
								});
								
							}
							catch(error) {
								////
							}
							
							get_functions();
							
						}
					});
			
			
	}
	
	
setTimeout("get_devices()",1000);

function download(filename, text) {
  var element = document.createElement('a');
  element.setAttribute('href', 'data:text/plain;charset=utf-8,' + encodeURIComponent(text));
  element.setAttribute('download', filename);

  element.style.display = 'none';
  document.body.appendChild(element);

  element.click();

  document.body.removeChild(element);
}


function escapeRegExp(string) {
  return string.replace(/[.*+\-?^${}()|[\]\\]/g, '\\$&'); // $& means the whole matched string
}


function replaceAll(str, find, replace) {
  return str.replace(new RegExp(escapeRegExp(find), 'g'), replace);
}


function show_function(id_function) {

	if(document.getElementById(id_function).style.display=="block") {
		document.getElementById(id_function).style.display="none";
	
	} else {
		document.getElementById(id_function).style.display="block";
	
	}

}


function select_trigger(id_trigger) {

	document.getElementById(id_trigger).style.display="block";
	

}


function select_input_block(id_block) {

	document.getElementById(id_block).style.display="block";
}


function select_input_input(id_input) {

	document.getElementById(id_input).style.display="block";
}


function expand_list(id_list) {

	document.getElementById(id_list).style.display="block";
}

function create_json(id_func,update=-1) {

	///для построения объекта trigger
	
	var trigger_object="";
	var device="";
	var addr="";
	var json_object="";
	
	var function_naim=document.getElementById('function_naim_str_'+id_func).innerHTML; 
	
	
	
	var trigger_object_text=document.getElementById('selected_trigger_func'+id_func).innerHTML;
	
	if(trigger_object_text=="Дискретный вход") {
		trigger_object="ibin";
	}
	if(trigger_object_text=="Аналоговый вход") {
		trigger_object="iadc";
	}
	if(trigger_object_text=="Дискретный выход") {
		trigger_object="obin";
	}
	if(trigger_object_text=="Аналоговый выход") {
		trigger_object="opwm";
	}
	if(trigger_object_text=="Ключи доступа 1-Wire-1") {
		trigger_object="ikey";
	}
	if(trigger_object_text=="Кнопки 1-Wire-2") {
		trigger_object="ibtn";
	}
	if(trigger_object_text=="Температура 1-Wire-3") {
		trigger_object="itmp";
	}
	if(trigger_object_text=="Внутренняя переменная") {
		trigger_object="var";
	}
	if(trigger_object_text=="Часы") {
		trigger_object="time";
	}
	
	
	//////если это часы/////////////////////////
	if(trigger_object=="time") {
	
			json_object='{"type":"time"},';
	
	}

	////получаем номер устройства
	if((trigger_object!="time")||(trigger_object!="var")) {
	
		if((trigger_object=="ibin")||(trigger_object=="iadc")||(trigger_object=="obin")||(trigger_object=="opwm")) {
			device=document.getElementById('selected_block_func'+id_func).innerHTML;
			
		} else {
		
			device='"'+document.getElementById('selected_block_func'+id_func).innerHTML+'"';
		}
	
	}
	
	////получаем номер входа
	if((trigger_object=="ibin")||(trigger_object=="iadc")) {
	
		addr=document.getElementById('selected_input_func'+id_func).innerHTML;
		json_object='{"type":"'+trigger_object+'","device":'+device+',"addr":'+addr+'},';
	
	}
	
	////получаем номер выхода
	if((trigger_object=="obin")||(trigger_object=="opwm")) {
	
		addr=document.getElementById('selected_output_func'+id_func).innerHTML;
		json_object='{"type":"'+trigger_object+'","device":'+device+',"addr":'+addr+'},';
	
	}
	
	////получаем адрес
	if((trigger_object=="ikey")||(trigger_object=="ibtn")||(trigger_object=="itmp")) {
	
		addr=document.getElementById('selected_input_address_func'+id_func).innerHTML;
		json_object='{"type":"'+trigger_object+'","device":'+device+',"addr":"'+addr+'"},';
	
	}

	////если это время или переменная
	if((trigger_object=="var")) {
	
		addr=document.getElementById('trigger_select_variable_func'+id_func).value;
		json_object='{"type":"'+trigger_object+'","addr":'+addr+'},';
	
	}
	
	///if(update==-1)
		json_object='{"fname":"'+function_naim+'","trigger":{"object":'+json_object;
	//else 
		//json_object='{"function":'+update+',"trigger":{"object":'+json_object;
	
	
	/////составляем триггер
	var event_txt=document.getElementById('selected_event_func'+id_func).innerHTML;
	var front_txt=document.getElementById('selected_front_func'+id_func).innerHTML;
	var event="";
	
	
	if((trigger_object=="ibin")||(trigger_object=="obin")||(trigger_object=="obin")||(trigger_object=="ikey")||(trigger_object=="ibtn")) {
	
		if(front_txt=="По переднему фронту") {
			event=">";
			json_object=json_object+'"event":"'+event+'"';
		}
		
		if(front_txt=="По заднему фронту") {
			event="<";
			json_object=json_object+'"event":"'+event+'"';
		}
	
		if(front_txt=="Любое изменение") {
			event="+-";
			json_object=json_object+'"event":"'+event+'"';
		}
	
	} else {
		
		if(trigger_object=="time") {
			
			event="at";
			var hour_str_time=document.getElementById('trigger_clock_hour_func'+id_func).value;
			var min_str_time=document.getElementById('trigger_clock_min_func'+id_func).value;
			
			json_object=json_object+'"event":"'+event+'","time":'+hour_str_time+min_str_time+'00,"tmsk":'+hour_str_time+min_str_time+'00,"date":0,"dmsk":0';
			
		}
	
		if(event_txt=="Превышение порога") {
			event=">";
			var value=document.getElementById('porog_value_func'+id_func).value*1;
			
			if((trigger_object=="itmp")||(trigger_object=="iadc")||(trigger_object=="opwm")) {
				value=value*100;
			}
			
			var time=document.getElementById('porog_timeout_value_func'+id_func).value*1000;
			json_object=json_object+'"event":"'+event+'","value":'+value+',"time":'+time;
		}
		
		if(event_txt=="Ниже порогового уровня") {
			event="<";
			var value=document.getElementById('porog_value_func'+id_func).value*1;
			
			if((trigger_object=="itmp")||(trigger_object=="iadc")||(trigger_object=="opwm")) {
				value=value*100;
			}
			
			var time=document.getElementById('porog_timeout_value_func'+id_func).value*1;
			json_object=json_object+'"event":"'+event+'","value":'+value+',"time":'+time;
		}
		
		if(event_txt=="Вход в диапазон") {
			event="><";
			var min=document.getElementById('interval_from_value_func'+id_func).value*1;
			var max=document.getElementById('interval_to_value_func'+id_func).value*1;
			
			if((trigger_object=="itmp")||(trigger_object=="iadc")||(trigger_object=="opwm")) {
				min=min*100;
				max=max*100;
			}
			
			var time=document.getElementById('interval_timeout_value_func'+id_func).value*1000;

			json_object=json_object+'"event":"'+event+'","min":'+min+',"max":'+max+',"time":'+time;
		}
		
		if(event_txt=="Выход из диапазона") {
			event="<>";
			
			var min=document.getElementById('interval_from_value_func'+id_func).value*1;
			var max=document.getElementById('interval_to_value_func'+id_func).value*1;
			
			if((trigger_object=="itmp")||(trigger_object=="iadc")||(trigger_object=="opwm")) {
				min=min*100;
				max=max*100;
			}
			
			var time=document.getElementById('interval_timeout_value_func'+id_func).value*1000;
			
			json_object=json_object+'"event":"'+event+'","min":'+min+',"max":'+max+',"time":'+time;
		}
		
		if(event_txt=="По достижении значения") {
			event="==";
			
			var value=document.getElementById('porog_value_func'+id_func).value*1;
			
			if((trigger_object=="itmp")||(trigger_object=="iadc")||(trigger_object=="opwm")) {
				value=value*100;
			}
			
			var time=document.getElementById('porog_timeout_value_func'+id_func).value*1000;
			json_object=json_object+'"event":"'+event+'","min":'+value+',"max":'+value+',"time":'+time;
			
			
		}
		
		if(event_txt=="Любое изменение") {
			event="+-";
			
		
			json_object=json_object+'"event":"'+event+'"';
			
			
		}
	
	}
	
	json_object=json_object+'}';
	
	///////////////////////////////////////////////////////////////////////////////////////////////////
	//////////////////////////////////смотрим условия//////////////////////////////////////////////////
	///////////////////////////////////////////////////////////////////////////////////////////////////
	var logic="";
	
	var logic_html=document.getElementById('selected_condition_func'+id_func).innerHTML;
	if(logic_html=="Любое из условий") {
		logic="or";
	} 
	
	if(logic_html=="Весь список условий") {
		logic="and";
	}
	
	
	
	if(logic!="") {
		
		json_object=json_object+',"logic":"'+logic+'","conditions":[';
	
		////////////////////////условие 1 ///////////////////////
	
		json_object=json_object+'{"object":';
		var condition_id="condition1_";
		
		
		/////////////погнали по условиям
		
		var json_object_cond="";

		
		var trigger_object_text=document.getElementById(condition_id+'selected_condition_type_func'+id_func).innerHTML;
		
		if(trigger_object_text=="Дискретный вход") {
			trigger_object="ibin";
		}
		if(trigger_object_text=="Аналоговый вход") {
			trigger_object="iadc";
		}
		if(trigger_object_text=="Дискретный выход") {
			trigger_object="obin";
		}
		if(trigger_object_text=="Аналоговый выход") {
			trigger_object="opwm";
		}
		if(trigger_object_text=="Ключи доступа 1-Wire-1") {
			trigger_object="ikey";
		}
		if(trigger_object_text=="Кнопки 1-Wire-2") {
			trigger_object="ibtn";
		}
		if(trigger_object_text=="Температура 1-Wire-3") {
			trigger_object="itmp";
		}
		if(trigger_object_text=="Внутренняя переменная") {
			trigger_object="var";
		}
		if(trigger_object_text=="Часы") {
			trigger_object="time";
		}
		

		////получаем номер устройства
		if((trigger_object!="time")||(trigger_object!="var")) {
		
			if((trigger_object=="ibin")||(trigger_object=="iadc")||(trigger_object=="obin")||(trigger_object=="opwm")) {
		
				device=document.getElementById(condition_id+'selected_condition_block_func'+id_func).innerHTML;
				
			
			} else {
			
				device=document.getElementById(condition_id+'selected_condition_block_func'+id_func).innerHTML;
			}
		
		}
		
		////получаем номер входа
		if((trigger_object=="ibin")||(trigger_object=="iadc")) {
		
			addr=document.getElementById(condition_id+'selected_condition_input_func'+id_func).innerHTML;
			json_object_cond='{"type":"'+trigger_object+'","device":'+device+',"addr":'+addr+'}';
		
		}
	
		if((trigger_object=="obin")||(trigger_object=="opwm")) {
		
			addr=document.getElementById(condition_id+'selected_condition_input_func'+id_func).innerHTML;
			json_object_cond='{"type":"'+trigger_object+'","device":'+device+',"addr":'+addr+'}';
		
		}
		
		////получаем адрес
		if((trigger_object=="ikey")||(trigger_object=="ibtn")||(trigger_object=="itmp")) {
		
			addr=document.getElementById(condition_id+'selected_condition_address_func'+id_func).innerHTML;
			json_object_cond='{"type":"'+trigger_object+'","device":'+device+',"addr":"'+addr+'"}';
		
		}

		////если это время или переменная
		if((trigger_object=="var")||(trigger_object=="time")) {
		
			var addr=document.getElementById(condition_id+'condition_variable_value_func'+id_func).value;
			json_object_cond='{"type":"'+trigger_object+'","addr":'+addr+'}';
		
		}
		
		
		json_object=json_object+json_object_cond;
		
		
		///json_object=json_object+"}";
		
		////теперь больше или равно+значение
		
		var cond_text=document.getElementById(condition_id+'selected_condition_value_func'+id_func).innerHTML;
		var cond="";
		
		if((trigger_object=="ikey")||(trigger_object=="ibtn")||(trigger_object=="ibin")||(trigger_object=="obin")) {
		
			//////смотрим только на активен/неактивен
			var cond_value=document.getElementById(condition_id+'selected_condition_state_func'+id_func).innerHTML;
			var cond_real_value="";
			if(cond_value=="Активен") {
				cond_real_value=1;
			}
			if(cond_value=="Не активен") {
				cond_real_value=0;
			}
			
			
			json_object=json_object+',"cond":'+cond_real_value+'}';
		
		
		} else {
			
			if(cond_text=="Равно") {
				var cond_value=document.getElementById(condition_id+'condition_znach_value_func'+id_func).value;
				
				if((trigger_object=="itmp")||(trigger_object=="iadc")||(trigger_object=="opwm")) {
					cond_value=cond_value*100;
				}
				
				json_object=json_object+',"cond":"==","value":'+cond_value+'}';
			}
			if(cond_text=="Больше") {
				var cond_value=document.getElementById(condition_id+'condition_znach_value_func'+id_func).value;
				
				if((trigger_object=="itmp")||(trigger_object=="iadc")||(trigger_object=="opwm")) {
					cond_value=cond_value*100;
				}
				
				json_object=json_object+',"cond":">","value":'+cond_value+'}';
			}
			if(cond_text=="Меньше") {
				var cond_value=document.getElementById(condition_id+'condition_znach_value_func'+id_func).value;
				
				if((trigger_object=="itmp")||(trigger_object=="iadc")||(trigger_object=="opwm")) {
					cond_value=cond_value*100;
				}
				
				json_object=json_object+',"cond":"<","value":'+cond_value+'}';
			}
			if(cond_text=="Больше либо равно") {
				var cond_value=document.getElementById(condition_id+'condition_znach_value_func'+id_func).value;
				
				if((trigger_object=="itmp")||(trigger_object=="iadc")||(trigger_object=="opwm")) {
					cond_value=cond_value*100;
				}
				
				json_object=json_object+',"cond":">=","value":'+cond_value+'}';
			}
			if(cond_text=="Меньше либо равно") {
				var cond_value=document.getElementById(condition_id+'condition_znach_value_func'+id_func).value;
				
				if((trigger_object=="itmp")||(trigger_object=="iadc")||(trigger_object=="opwm")) {
					cond_value=cond_value*100;
				}
				
				json_object=json_object+',"cond":"<=","value":'+cond_value+'}';
			}
			if(cond_text=="Не равно") {
				var cond_value=document.getElementById(condition_id+'condition_znach_value_func'+id_func).value;
				
				if((trigger_object=="itmp")||(trigger_object=="iadc")||(trigger_object=="opwm")) {
					cond_value=cond_value*100;
				}
				
				json_object=json_object+',"cond":"!=","value":'+cond_value+'}';
			}
			if(cond_text=="В диапазоне") {
				var min=document.getElementById(condition_id+'condition_interval_from_func'+id_func).value;
				var max=document.getElementById(condition_id+'condition_interval_to_func'+id_func).value;
				
				if((trigger_object=="itmp")||(trigger_object=="iadc")||(trigger_object=="opwm")) {
					min=min*100;
					max=max*100;
				}
				
				
				json_object=json_object+',"cond":"><","min":'+min+',"max":'+max+'}';
			}
			if(cond_text=="Вне диапазона") {
				var min=document.getElementById(condition_id+'condition_interval_from_func'+id_func).value;
				var max=document.getElementById(condition_id+'condition_interval_to_func'+id_func).value;
				
				if((trigger_object=="itmp")||(trigger_object=="iadc")||(trigger_object=="opwm")) {
					min=min*100;
					max=max*100;
				}
				
				json_object=json_object+',"cond":"<>","min":'+min+',"max":'+max+'}';
			}
		}
		
		
		////////////////////////условие 2 ///////////////////////
	
	if(document.getElementById('row_condition2_'+id_func).style.display=="block") {
		json_object=json_object+',{"object":';
		var condition_id="condition2_";
		
		
		/////////////погнали по условиям
		
		var json_object_cond="";

		
		var trigger_object_text=document.getElementById(condition_id+'selected_condition_type_func'+id_func).innerHTML;
		
		if(trigger_object_text=="Дискретный вход") {
			trigger_object="ibin";
		}
		if(trigger_object_text=="Аналоговый вход") {
			trigger_object="iadc";
		}
		if(trigger_object_text=="Дискретный выход") {
			trigger_object="obin";
		}
		if(trigger_object_text=="Аналоговый выход") {
			trigger_object="opwm";
		}
		if(trigger_object_text=="Ключи доступа 1-Wire-1") {
			trigger_object="ikey";
		}
		if(trigger_object_text=="Кнопки 1-Wire-2") {
			trigger_object="ibtn";
		}
		if(trigger_object_text=="Температура 1-Wire-3") {
			trigger_object="itmp";
		}
		if(trigger_object_text=="Внутренняя переменная") {
			trigger_object="var";
		}
		if(trigger_object_text=="Часы") {
			trigger_object="time";
		}
		

		////получаем номер устройства
		if((trigger_object!="time")||(trigger_object!="var")) {
		
			if((trigger_object=="ibin")||(trigger_object=="iadc")||(trigger_object=="obin")||(trigger_object=="opwm")) {
		
				device=document.getElementById(condition_id+'selected_condition_block_func'+id_func).innerHTML;
				
			
			} else {
			
				device=document.getElementById(condition_id+'selected_condition_block_func'+id_func).innerHTML;
			}
		
		}
		
		////получаем номер входа
		if((trigger_object=="ibin")||(trigger_object=="iadc")) {
		
			addr=document.getElementById(condition_id+'selected_condition_input_func'+id_func).innerHTML;
			json_object_cond='{"type":"'+trigger_object+'","device":'+device+',"addr":'+addr+'}';
		
		}
	
		if((trigger_object=="obin")||(trigger_object=="opwm")) {
		
			addr=document.getElementById(condition_id+'selected_condition_input_func'+id_func).innerHTML;
			json_object_cond='{"type":"'+trigger_object+'","device":'+device+',"addr":'+addr+'}';
		
		}
		
		////получаем адрес
		if((trigger_object=="ikey")||(trigger_object=="ibtn")||(trigger_object=="itmp")) {
		
			addr=document.getElementById(condition_id+'selected_condition_address_func'+id_func).innerHTML;
			json_object_cond='{"type":"'+trigger_object+'","device":'+device+',"addr":"'+addr+'"}';
		
		}

		////если это время или переменная
		if((trigger_object=="var")||(trigger_object=="time")) {
		
			var addr=document.getElementById(condition_id+'condition_variable_value_func'+id_func).value;
			json_object_cond='{"type":"'+trigger_object+'","addr":'+addr+'}';
		
		}
		
		
		json_object=json_object+json_object_cond;
		
		
		///json_object=json_object+"}";
		
		////теперь больше или равно+значение
		
		var cond_text=document.getElementById(condition_id+'selected_condition_value_func'+id_func).innerHTML;
		var cond="";
		
		if((trigger_object=="ikey")||(trigger_object=="ibtn")||(trigger_object=="ibin")||(trigger_object=="obin")) {
		
			//////смотрим только на активен/неактивен
			var cond_value=document.getElementById(condition_id+'selected_condition_state_func'+id_func).innerHTML;
			var cond_real_value="";
			if(cond_value=="Активен") {
				cond_real_value=1;
			}
			if(cond_value=="Не активен") {
				cond_real_value=0;
			}
			
			
			json_object=json_object+',"cond":'+cond_real_value+'}';
		
		
		} else {
			
			if(cond_text=="Равно") {
				var cond_value=document.getElementById(condition_id+'condition_znach_value_func'+id_func).value;
				
				if((trigger_object=="itmp")||(trigger_object=="iadc")||(trigger_object=="opwm")) {
					cond_value=cond_value*100;
				}
				
				json_object=json_object+',"cond":"==","value":'+cond_value+'}';
			}
			if(cond_text=="Больше") {
				var cond_value=document.getElementById(condition_id+'condition_znach_value_func'+id_func).value;
				
				if((trigger_object=="itmp")||(trigger_object=="iadc")||(trigger_object=="opwm")) {
					cond_value=cond_value*100;
				}
				
				json_object=json_object+',"cond":">","value":'+cond_value+'}';
			}
			if(cond_text=="Меньше") {
				var cond_value=document.getElementById(condition_id+'condition_znach_value_func'+id_func).value;
				
				if((trigger_object=="itmp")||(trigger_object=="iadc")||(trigger_object=="opwm")) {
					cond_value=cond_value*100;
				}
				
				json_object=json_object+',"cond":"<","value":'+cond_value+'}';
			}
			if(cond_text=="Больше либо равно") {
				var cond_value=document.getElementById(condition_id+'condition_znach_value_func'+id_func).value;
				
				if((trigger_object=="itmp")||(trigger_object=="iadc")||(trigger_object=="opwm")) {
					cond_value=cond_value*100;
				}
				
				json_object=json_object+',"cond":">=","value":'+cond_value+'}';
			}
			if(cond_text=="Меньше либо равно") {
				var cond_value=document.getElementById(condition_id+'condition_znach_value_func'+id_func).value;
				
				if((trigger_object=="itmp")||(trigger_object=="iadc")||(trigger_object=="opwm")) {
					cond_value=cond_value*100;
				}
				
				json_object=json_object+',"cond":"<=","value":'+cond_value+'}';
			}
			if(cond_text=="Не равно") {
				var cond_value=document.getElementById(condition_id+'condition_znach_value_func'+id_func).value;
				
				if((trigger_object=="itmp")||(trigger_object=="iadc")||(trigger_object=="opwm")) {
					cond_value=cond_value*100;
				}
				
				json_object=json_object+',"cond":"!=","value":'+cond_value+'}';
			}
			if(cond_text=="В диапазоне") {
				var min=document.getElementById(condition_id+'condition_interval_from_func'+id_func).value;
				var max=document.getElementById(condition_id+'condition_interval_to_func'+id_func).value;
				
				if((trigger_object=="itmp")||(trigger_object=="iadc")||(trigger_object=="opwm")) {
					min=min*100;
					max=max*100;
				}
				
				
				json_object=json_object+',"cond":"><","min":'+min+',"max":'+max+'}';
			}
			if(cond_text=="Вне диапазона") {
				var min=document.getElementById(condition_id+'condition_interval_from_func'+id_func).value;
				var max=document.getElementById(condition_id+'condition_interval_to_func'+id_func).value;
				
				if((trigger_object=="itmp")||(trigger_object=="iadc")||(trigger_object=="opwm")) {
					min=min*100;
					max=max*100;
				}
				
				json_object=json_object+',"cond":"<>","min":'+min+',"max":'+max+'}';
			}
		}
		
	}
	//////////////////////////////////////////////////////////////конец условия/////////////////////////	
		
	//////////////////////////////////////////////////////////////условие3/////////////////////////	
	if(document.getElementById('row_condition3_'+id_func).style.display=="block") {
		json_object=json_object+',{"object":';
		var condition_id="condition3_";
		
		
		/////////////погнали по условиям
		
		var json_object_cond="";

		var trigger_object_text=document.getElementById(condition_id+'selected_condition_type_func'+id_func).innerHTML;
		
		if(trigger_object_text=="Дискретный вход") {
			trigger_object="ibin";
		}
		if(trigger_object_text=="Аналоговый вход") {
			trigger_object="iadc";
		}
		if(trigger_object_text=="Дискретный выход") {
			trigger_object="obin";
		}
		if(trigger_object_text=="Аналоговый выход") {
			trigger_object="opwm";
		}
		if(trigger_object_text=="Ключи доступа 1-Wire-1") {
			trigger_object="ikey";
		}
		if(trigger_object_text=="Кнопки 1-Wire-2") {
			trigger_object="ibtn";
		}
		if(trigger_object_text=="Температура 1-Wire-3") {
			trigger_object="itmp";
		}
		if(trigger_object_text=="Внутренняя переменная") {
			trigger_object="var";
		}
		if(trigger_object_text=="Часы") {
			trigger_object="time";
		}
		

		////получаем номер устройства
		if((trigger_object!="time")||(trigger_object!="var")) {
		
			if((trigger_object=="ibin")||(trigger_object=="iadc")||(trigger_object=="obin")||(trigger_object=="opwm")) {
		
				device=document.getElementById(condition_id+'selected_condition_block_func'+id_func).innerHTML;
				
			
			} else {
			
				device=document.getElementById(condition_id+'selected_condition_block_func'+id_func).innerHTML;
			}
		
		}
		
		////получаем номер входа
		if((trigger_object=="ibin")||(trigger_object=="iadc")) {
		
			addr=document.getElementById(condition_id+'selected_condition_input_func'+id_func).innerHTML;
			json_object_cond='{"type":"'+trigger_object+'","device":'+device+',"addr":'+addr+'}';
		
		}
	
		if((trigger_object=="obin")||(trigger_object=="opwm")) {
		
			addr=document.getElementById(condition_id+'selected_condition_input_func'+id_func).innerHTML;
			json_object_cond='{"type":"'+trigger_object+'","device":'+device+',"addr":'+addr+'}';
		
		}
		
		////получаем адрес
		if((trigger_object=="ikey")||(trigger_object=="ibtn")||(trigger_object=="itmp")) {
		
			addr=document.getElementById(condition_id+'selected_condition_address_func'+id_func).innerHTML;
			json_object_cond='{"type":"'+trigger_object+'","device":'+device+',"addr":"'+addr+'"}';
		
		}

		////если это время или переменная
		if((trigger_object=="var")||(trigger_object=="time")) {
		
			var addr=document.getElementById(condition_id+'condition_variable_value_func'+id_func).value;
			json_object_cond='{"type":"'+trigger_object+'","addr":'+addr+'}';
		
		}
		
		
		json_object=json_object+json_object_cond;
		
		
		///json_object=json_object+"}";
		
		////теперь больше или равно+значение
		
		var cond_text=document.getElementById(condition_id+'selected_condition_value_func'+id_func).innerHTML;
		var cond="";
		
		if((trigger_object=="ikey")||(trigger_object=="ibtn")||(trigger_object=="ibin")||(trigger_object=="obin")) {
		
			//////смотрим только на активен/неактивен
			var cond_value=document.getElementById(condition_id+'selected_condition_state_func'+id_func).innerHTML;
			var cond_real_value="";
			if(cond_value=="Активен") {
				cond_real_value=1;
			}
			if(cond_value=="Не активен") {
				cond_real_value=0;
			}
			
			
			json_object=json_object+',"cond":'+cond_real_value+'}';
		
		
		} else {
			
			if(cond_text=="Равно") {
				var cond_value=document.getElementById(condition_id+'condition_znach_value_func'+id_func).value;
				
				if((trigger_object=="itmp")||(trigger_object=="iadc")||(trigger_object=="opwm")) {
					cond_value=cond_value*100;
				}
				
				json_object=json_object+',"cond":"==","value":'+cond_value+'}';
			}
			if(cond_text=="Больше") {
				var cond_value=document.getElementById(condition_id+'condition_znach_value_func'+id_func).value;
				
				if((trigger_object=="itmp")||(trigger_object=="iadc")||(trigger_object=="opwm")) {
					cond_value=cond_value*100;
				}
				
				json_object=json_object+',"cond":">","value":'+cond_value+'}';
			}
			if(cond_text=="Меньше") {
				var cond_value=document.getElementById(condition_id+'condition_znach_value_func'+id_func).value;
				
				if((trigger_object=="itmp")||(trigger_object=="iadc")||(trigger_object=="opwm")) {
					cond_value=cond_value*100;
				}
				
				json_object=json_object+',"cond":"<","value":'+cond_value+'}';
			}
			if(cond_text=="Больше либо равно") {
				var cond_value=document.getElementById(condition_id+'condition_znach_value_func'+id_func).value;
				
				if((trigger_object=="itmp")||(trigger_object=="iadc")||(trigger_object=="opwm")) {
					cond_value=cond_value*100;
				}
				
				json_object=json_object+',"cond":">=","value":'+cond_value+'}';
			}
			if(cond_text=="Меньше либо равно") {
				var cond_value=document.getElementById(condition_id+'condition_znach_value_func'+id_func).value;
				
				if((trigger_object=="itmp")||(trigger_object=="iadc")||(trigger_object=="opwm")) {
					cond_value=cond_value*100;
				}
				
				json_object=json_object+',"cond":"<=","value":'+cond_value+'}';
			}
			if(cond_text=="Не равно") {
				var cond_value=document.getElementById(condition_id+'condition_znach_value_func'+id_func).value;
				
				if((trigger_object=="itmp")||(trigger_object=="iadc")||(trigger_object=="opwm")) {
					cond_value=cond_value*100;
				}
				
				json_object=json_object+',"cond":"!=","value":'+cond_value+'}';
			}
			if(cond_text=="В диапазоне") {
				var min=document.getElementById(condition_id+'condition_interval_from_func'+id_func).value;
				var max=document.getElementById(condition_id+'condition_interval_to_func'+id_func).value;
				
				if((trigger_object=="itmp")||(trigger_object=="iadc")||(trigger_object=="opwm")) {
					min=min*100;
					max=max*100;
				}
				
				
				json_object=json_object+',"cond":"><","min":'+min+',"max":'+max+'}';
			}
			if(cond_text=="Вне диапазона") {
				var min=document.getElementById(condition_id+'condition_interval_from_func'+id_func).value;
				var max=document.getElementById(condition_id+'condition_interval_to_func'+id_func).value;
				
				if((trigger_object=="itmp")||(trigger_object=="iadc")||(trigger_object=="opwm")) {
					min=min*100;
					max=max*100;
				}
				
				json_object=json_object+',"cond":"<>","min":'+min+',"max":'+max+'}';
			}
		}
		
	}
	//////////////////////////////////////////////////////////////конец условия/////////////////////////	
		
		
	//////////////////////////////////////////////////////////////условие4/////////////////////////	
	if(document.getElementById('row_condition4_'+id_func).style.display=="block") {
		json_object=json_object+',{"object":';
		var condition_id="condition4_";
		
		
		/////////////погнали по условиям
		
		var json_object_cond="";

		var trigger_object_text=document.getElementById(condition_id+'selected_condition_type_func'+id_func).innerHTML;
		
		if(trigger_object_text=="Дискретный вход") {
			trigger_object="ibin";
		}
		if(trigger_object_text=="Аналоговый вход") {
			trigger_object="iadc";
		}
		if(trigger_object_text=="Дискретный выход") {
			trigger_object="obin";
		}
		if(trigger_object_text=="Аналоговый выход") {
			trigger_object="opwm";
		}
		if(trigger_object_text=="Ключи доступа 1-Wire-1") {
			trigger_object="ikey";
		}
		if(trigger_object_text=="Кнопки 1-Wire-2") {
			trigger_object="ibtn";
		}
		if(trigger_object_text=="Температура 1-Wire-3") {
			trigger_object="itmp";
		}
		if(trigger_object_text=="Внутренняя переменная") {
			trigger_object="var";
		}
		if(trigger_object_text=="Часы") {
			trigger_object="time";
		}
		

		////получаем номер устройства
		if((trigger_object!="time")||(trigger_object!="var")) {
		
			if((trigger_object=="ibin")||(trigger_object=="iadc")||(trigger_object=="obin")||(trigger_object=="opwm")) {
		
				device=document.getElementById(condition_id+'selected_condition_block_func'+id_func).innerHTML;
				
			
			} else {
			
				device=document.getElementById(condition_id+'selected_condition_block_func'+id_func).innerHTML;
			}
		
		}
		
		////получаем номер входа
		if((trigger_object=="ibin")||(trigger_object=="iadc")) {
		
			addr=document.getElementById(condition_id+'selected_condition_input_func'+id_func).innerHTML;
			json_object_cond='{"type":"'+trigger_object+'","device":'+device+',"addr":'+addr+'}';
		
		}
	
		if((trigger_object=="obin")||(trigger_object=="opwm")) {
		
			addr=document.getElementById(condition_id+'selected_condition_input_func'+id_func).innerHTML;
			json_object_cond='{"type":"'+trigger_object+'","device":'+device+',"addr":'+addr+'}';
		
		}
		
		////получаем адрес
		if((trigger_object=="ikey")||(trigger_object=="ibtn")||(trigger_object=="itmp")) {
		
			addr=document.getElementById(condition_id+'selected_condition_address_func'+id_func).innerHTML;
			json_object_cond='{"type":"'+trigger_object+'","device":'+device+',"addr":"'+addr+'"}';
		
		}

		////если это время или переменная
		if((trigger_object=="var")||(trigger_object=="time")) {
		
			var addr=document.getElementById(condition_id+'condition_variable_value_func'+id_func).value;
			json_object_cond='{"type":"'+trigger_object+'","addr":'+addr+'}';
		
		}
		
		
		json_object=json_object+json_object_cond;
		
		
		///json_object=json_object+"}";
		
		////теперь больше или равно+значение
		
		var cond_text=document.getElementById(condition_id+'selected_condition_value_func'+id_func).innerHTML;
		var cond="";
		
		if((trigger_object=="ikey")||(trigger_object=="ibtn")||(trigger_object=="ibin")||(trigger_object=="obin")) {
		
			//////смотрим только на активен/неактивен
			var cond_value=document.getElementById(condition_id+'selected_condition_state_func'+id_func).innerHTML;
			var cond_real_value="";
			if(cond_value=="Активен") {
				cond_real_value=1;
			}
			if(cond_value=="Не активен") {
				cond_real_value=0;
			}
			
			
			json_object=json_object+',"cond":'+cond_real_value+'}';
		
		
		} else {
			
			if(cond_text=="Равно") {
				var cond_value=document.getElementById(condition_id+'condition_znach_value_func'+id_func).value;
				
				if((trigger_object=="itmp")||(trigger_object=="iadc")||(trigger_object=="opwm")) {
					cond_value=cond_value*100;
				}
				
				json_object=json_object+',"cond":"==","value":'+cond_value+'}';
			}
			if(cond_text=="Больше") {
				var cond_value=document.getElementById(condition_id+'condition_znach_value_func'+id_func).value;
				
				if((trigger_object=="itmp")||(trigger_object=="iadc")||(trigger_object=="opwm")) {
					cond_value=cond_value*100;
				}
				
				json_object=json_object+',"cond":">","value":'+cond_value+'}';
			}
			if(cond_text=="Меньше") {
				var cond_value=document.getElementById(condition_id+'condition_znach_value_func'+id_func).value;
				
				if((trigger_object=="itmp")||(trigger_object=="iadc")||(trigger_object=="opwm")) {
					cond_value=cond_value*100;
				}
				
				json_object=json_object+',"cond":"<","value":'+cond_value+'}';
			}
			if(cond_text=="Больше либо равно") {
				var cond_value=document.getElementById(condition_id+'condition_znach_value_func'+id_func).value;
				
				if((trigger_object=="itmp")||(trigger_object=="iadc")||(trigger_object=="opwm")) {
					cond_value=cond_value*100;
				}
				
				json_object=json_object+',"cond":">=","value":'+cond_value+'}';
			}
			if(cond_text=="Меньше либо равно") {
				var cond_value=document.getElementById(condition_id+'condition_znach_value_func'+id_func).value;
				
				if((trigger_object=="itmp")||(trigger_object=="iadc")||(trigger_object=="opwm")) {
					cond_value=cond_value*100;
				}
				
				json_object=json_object+',"cond":"<=","value":'+cond_value+'}';
			}
			if(cond_text=="Не равно") {
				var cond_value=document.getElementById(condition_id+'condition_znach_value_func'+id_func).value;
				
				if((trigger_object=="itmp")||(trigger_object=="iadc")||(trigger_object=="opwm")) {
					cond_value=cond_value*100;
				}
				
				json_object=json_object+',"cond":"!=","value":'+cond_value+'}';
			}
			if(cond_text=="В диапазоне") {
				var min=document.getElementById(condition_id+'condition_interval_from_func'+id_func).value;
				var max=document.getElementById(condition_id+'condition_interval_to_func'+id_func).value;
				
				if((trigger_object=="itmp")||(trigger_object=="iadc")||(trigger_object=="opwm")) {
					min=min*100;
					max=max*100;
				}
				
				
				json_object=json_object+',"cond":"><","min":'+min+',"max":'+max+'}';
			}
			if(cond_text=="Вне диапазона") {
				var min=document.getElementById(condition_id+'condition_interval_from_func'+id_func).value;
				var max=document.getElementById(condition_id+'condition_interval_to_func'+id_func).value;
				
				if((trigger_object=="itmp")||(trigger_object=="iadc")||(trigger_object=="opwm")) {
					min=min*100;
					max=max*100;
				}
				
				json_object=json_object+',"cond":"<>","min":'+min+',"max":'+max+'}';
			}
		}
		
	}
	//////////////////////////////////////////////////////////////конец условия/////////////////////////	
	
	
	//////////////////////////////////////////////////////////////условие5/////////////////////////	
	if(document.getElementById('row_condition5_'+id_func).style.display=="block") {
		json_object=json_object+',{"object":';
		var condition_id="condition5_";
		
		
		/////////////погнали по условиям
		
		var json_object_cond="";

		var trigger_object_text=document.getElementById(condition_id+'selected_condition_type_func'+id_func).innerHTML;
		
		if(trigger_object_text=="Дискретный вход") {
			trigger_object="ibin";
		}
		if(trigger_object_text=="Аналоговый вход") {
			trigger_object="iadc";
		}
		if(trigger_object_text=="Дискретный выход") {
			trigger_object="obin";
		}
		if(trigger_object_text=="Аналоговый выход") {
			trigger_object="opwm";
		}
		if(trigger_object_text=="Ключи доступа 1-Wire-1") {
			trigger_object="ikey";
		}
		if(trigger_object_text=="Кнопки 1-Wire-2") {
			trigger_object="ibtn";
		}
		if(trigger_object_text=="Температура 1-Wire-3") {
			trigger_object="itmp";
		}
		if(trigger_object_text=="Внутренняя переменная") {
			trigger_object="var";
		}
		if(trigger_object_text=="Часы") {
			trigger_object="time";
		}
		

		////получаем номер устройства
		if((trigger_object!="time")||(trigger_object!="var")) {
		
			if((trigger_object=="ibin")||(trigger_object=="iadc")||(trigger_object=="obin")||(trigger_object=="opwm")) {
		
				device=document.getElementById(condition_id+'selected_condition_block_func'+id_func).innerHTML;
				
			
			} else {
			
				device=document.getElementById(condition_id+'selected_condition_block_func'+id_func).innerHTML;
			}
		
		}
		
		////получаем номер входа
		if((trigger_object=="ibin")||(trigger_object=="iadc")) {
		
			addr=document.getElementById(condition_id+'selected_condition_input_func'+id_func).innerHTML;
			json_object_cond='{"type":"'+trigger_object+'","device":'+device+',"addr":'+addr+'}';
		
		}
	
		if((trigger_object=="obin")||(trigger_object=="opwm")) {
		
			addr=document.getElementById(condition_id+'selected_condition_input_func'+id_func).innerHTML;
			json_object_cond='{"type":"'+trigger_object+'","device":'+device+',"addr":'+addr+'}';
		
		}
		
		////получаем адрес
		if((trigger_object=="ikey")||(trigger_object=="ibtn")||(trigger_object=="itmp")) {
		
			addr=document.getElementById(condition_id+'selected_condition_address_func'+id_func).innerHTML;
			json_object_cond='{"type":"'+trigger_object+'","device":'+device+',"addr":"'+addr+'"}';
		
		}

		////если это время или переменная
		if((trigger_object=="var")||(trigger_object=="time")) {
		
			var addr=document.getElementById(condition_id+'condition_variable_value_func'+id_func).value;
			json_object_cond='{"type":"'+trigger_object+'","addr":'+addr+'}';
		
		}
		
		
		json_object=json_object+json_object_cond;
		
		
		///json_object=json_object+"}";
		
		////теперь больше или равно+значение
		
		var cond_text=document.getElementById(condition_id+'selected_condition_value_func'+id_func).innerHTML;
		var cond="";
		
		if((trigger_object=="ikey")||(trigger_object=="ibtn")||(trigger_object=="ibin")||(trigger_object=="obin")) {
		
			//////смотрим только на активен/неактивен
			var cond_value=document.getElementById(condition_id+'selected_condition_state_func'+id_func).innerHTML;
			var cond_real_value="";
			if(cond_value=="Активен") {
				cond_real_value=1;
			}
			if(cond_value=="Не активен") {
				cond_real_value=0;
			}
			
			
			json_object=json_object+',"cond":'+cond_real_value+'}';
		
		
		} else {
			
			if(cond_text=="Равно") {
				var cond_value=document.getElementById(condition_id+'condition_znach_value_func'+id_func).value;
				
				if((trigger_object=="itmp")||(trigger_object=="iadc")||(trigger_object=="opwm")) {
					cond_value=cond_value*100;
				}
				
				json_object=json_object+',"cond":"==","value":'+cond_value+'}';
			}
			if(cond_text=="Больше") {
				var cond_value=document.getElementById(condition_id+'condition_znach_value_func'+id_func).value;
				
				if((trigger_object=="itmp")||(trigger_object=="iadc")||(trigger_object=="opwm")) {
					cond_value=cond_value*100;
				}
				
				json_object=json_object+',"cond":">","value":'+cond_value+'}';
			}
			if(cond_text=="Меньше") {
				var cond_value=document.getElementById(condition_id+'condition_znach_value_func'+id_func).value;
				
				if((trigger_object=="itmp")||(trigger_object=="iadc")||(trigger_object=="opwm")) {
					cond_value=cond_value*100;
				}
				
				json_object=json_object+',"cond":"<","value":'+cond_value+'}';
			}
			if(cond_text=="Больше либо равно") {
				var cond_value=document.getElementById(condition_id+'condition_znach_value_func'+id_func).value;
				
				if((trigger_object=="itmp")||(trigger_object=="iadc")||(trigger_object=="opwm")) {
					cond_value=cond_value*100;
				}
				
				json_object=json_object+',"cond":">=","value":'+cond_value+'}';
			}
			if(cond_text=="Меньше либо равно") {
				var cond_value=document.getElementById(condition_id+'condition_znach_value_func'+id_func).value;
				
				if((trigger_object=="itmp")||(trigger_object=="iadc")||(trigger_object=="opwm")) {
					cond_value=cond_value*100;
				}
				
				json_object=json_object+',"cond":"<=","value":'+cond_value+'}';
			}
			if(cond_text=="Не равно") {
				var cond_value=document.getElementById(condition_id+'condition_znach_value_func'+id_func).value;
				
				if((trigger_object=="itmp")||(trigger_object=="iadc")||(trigger_object=="opwm")) {
					cond_value=cond_value*100;
				}
				
				json_object=json_object+',"cond":"!=","value":'+cond_value+'}';
			}
			if(cond_text=="В диапазоне") {
				var min=document.getElementById(condition_id+'condition_interval_from_func'+id_func).value;
				var max=document.getElementById(condition_id+'condition_interval_to_func'+id_func).value;
				
				if((trigger_object=="itmp")||(trigger_object=="iadc")||(trigger_object=="opwm")) {
					min=min*100;
					max=max*100;
				}
				
				
				json_object=json_object+',"cond":"><","min":'+min+',"max":'+max+'}';
			}
			if(cond_text=="Вне диапазона") {
				var min=document.getElementById(condition_id+'condition_interval_from_func'+id_func).value;
				var max=document.getElementById(condition_id+'condition_interval_to_func'+id_func).value;
				
				if((trigger_object=="itmp")||(trigger_object=="iadc")||(trigger_object=="opwm")) {
					min=min*100;
					max=max*100;
				}
				
				json_object=json_object+',"cond":"<>","min":'+min+',"max":'+max+'}';
			}
		}
		
	}
	//////////////////////////////////////////////////////////////конец условия/////////////////////////	
	
	
	} else {
	
			json_object=json_object+',"logic":"","conditions":[';
	
	}
	
	

//condition_interval_from_func
//condition_interval_to_func

	json_object=json_object+"]";
	
	
	//////////////////////////////////////////действия/////////////////////////////////
	json_object=json_object+',"actions":[';
	
	
	/////////////////////////////////////////действие 1////////////////////////////////
	
	var action_id="action1_";
	var json_object_action="";
	var trigger_object_text=document.getElementById(action_id+'selected_action_func'+id_func).innerHTML;
	

	if(trigger_object_text=="Дискретный выход") {
		trigger_object="obin";
	}
	if(trigger_object_text=="Аналоговый выход") {
		trigger_object="opwm";
	}
	if(trigger_object_text=="Внутренняя переменная") {
		trigger_object="var";
	}
	if(trigger_object_text=="Отправить сообщение") {
		trigger_object="time";
	}
	
	
	
	////получаем номер устройства
	if((trigger_object!="time")||(trigger_object!="var")) {
	
		device=document.getElementById(action_id+'selected_action_block_func'+id_func).innerHTML;
	
	}
	

	////получаем номер выхода
	if((trigger_object=="obin")||(trigger_object=="opwm")) {
	
		addr=document.getElementById(action_id+'selected_action_output_func'+id_func).innerHTML;
		json_object_action='{"type":"'+trigger_object+'","device":'+device+',"addr":'+addr+'}';
	
	}
	
	if(trigger_object=="var") {
	
		addr=document.getElementById(action_id+'action_variable_value_func'+id_func).value;
		json_object_action='{"type":"'+trigger_object+'","addr":'+addr+'}';
	
	}
	
	
	var state_text=document.getElementById(action_id+'selected_state_func'+id_func).innerHTML;
	var act_text=document.getElementById(action_id+'selected_action_do_func'+id_func).innerHTML;
	var act="";
	
	/////получаем действие, если это бинарный выход
	
	if(trigger_object=="obin") {

		if(state_text=="Активировать") {
			act="set";
		}
		
		if(state_text=="Деактивировать") {
			act="reset";
		}
		
		if(state_text=="Инвертировать") {
			act="inv";
		}
		
		var action_delay=document.getElementById(action_id+'action_delay_func'+id_func).value*1000;
		var action_time=document.getElementById(action_id+'action_time_func'+id_func).value*1000;



		json_object=json_object+'{"object":'+json_object_action+',"act":"'+act+'","delay":'+action_delay+',"time":'+action_time+'}';

		
	} else {
		
		if(act_text=="Установить значение") {
			act="set";
		}
		if(act_text=="Изменить на") {
			act="reset";
		}
		if(act_text=="Инвертировать") {
			act="inv";
		}
		
		var action_delay=document.getElementById(action_id+'action_delay_func'+id_func).value*1000;
		var action_time=document.getElementById(action_id+'action_time_func'+id_func).value*1000;

		var act_value=document.getElementById(action_id+'znach_action_do_func'+id_func).value*1;
		
		if((trigger_object=="itmp")||(trigger_object=="iadc")||(trigger_object=="opwm")) {
					act_value=act_value*100;
				}
		json_object=json_object+'{"object":'+json_object_action+',"act":"'+act+'","value":'+act_value+',"delay":'+action_delay+',"time":'+action_time+'}';


	}

	/////////////////////////////////////////////////////////////////////////////////

	/////////////////////////////////////////действие 2////////////////////////////////
	if(document.getElementById('row_action2_'+id_func).style.display=="block") {
			var action_id="action2_";
			var json_object_action="";
			var trigger_object_text=document.getElementById(action_id+'selected_action_func'+id_func).innerHTML;
			

			if(trigger_object_text=="Дискретный выход") {
				trigger_object="obin";
			}
			if(trigger_object_text=="Аналоговый выход") {
				trigger_object="opwm";
			}
			if(trigger_object_text=="Внутренняя переменная") {
				trigger_object="var";
			}
			if(trigger_object_text=="Отправить сообщение") {
				trigger_object="time";
			}
			
			
			
			////получаем номер устройства
			if((trigger_object!="time")||(trigger_object!="var")) {
			
				device=document.getElementById(action_id+'selected_action_block_func'+id_func).innerHTML;
			
			}
			

			////получаем номер выхода
			if((trigger_object=="obin")||(trigger_object=="opwm")) {
			
				addr=document.getElementById(action_id+'selected_action_output_func'+id_func).innerHTML;
				json_object_action='{"type":"'+trigger_object+'","device":'+device+',"addr":'+addr+'}';
			
			}
			
			if(trigger_object=="var") {
			
				addr=document.getElementById(action_id+'action_variable_value_func'+id_func).value;
				json_object_action='{"type":"'+trigger_object+'","addr":'+addr+'}';
			
			}
			
			
			var state_text=document.getElementById(action_id+'selected_state_func'+id_func).innerHTML;
			var act_text=document.getElementById(action_id+'selected_action_do_func'+id_func).innerHTML;
			var act="";
			
			/////получаем действие, если это бинарный выход
			
			if(trigger_object=="obin") {

				if(state_text=="Активировать") {
					act="set";
				}
				
				if(state_text=="Деактивировать") {
					act="reset";
				}
				
				if(state_text=="Инвертировать") {
					act="inv";
				}
				
				var action_delay=document.getElementById(action_id+'action_delay_func'+id_func).value*1000;
				var action_time=document.getElementById(action_id+'action_time_func'+id_func).value*1000;



				json_object=json_object+',{"object":'+json_object_action+',"act":"'+act+'","delay":'+action_delay+',"time":'+action_time+'}';

				
			} else {
				
				if(act_text=="Установить значение") {
					act="set";
				}
				if(act_text=="Изменить на") {
					act="reset";
				}
				if(act_text=="Инвертировать") {
					act="inv";
				}
				
				var action_delay=document.getElementById(action_id+'action_delay_func'+id_func).value*1000;
				var action_time=document.getElementById(action_id+'action_time_func'+id_func).value*1000;

				var act_value=document.getElementById(action_id+'znach_action_do_func'+id_func).value*1;
				
				if((trigger_object=="itmp")||(trigger_object=="iadc")||(trigger_object=="opwm")) {
					act_value=act_value*100;
				}
				json_object=json_object+',{"object":'+json_object_action+',"act":"'+act+'","value":'+act_value+',"delay":'+action_delay+',"time":'+action_time+'}';


			}
	}

			///////////////////////////////////////////////////////////
			/////////////////////////////////////////действие 3////////////////////////////////
	if(document.getElementById('row_action3_'+id_func).style.display=="block") {
			var action_id="action3_";
			var json_object_action="";
			var trigger_object_text=document.getElementById(action_id+'selected_action_func'+id_func).innerHTML;
			

			if(trigger_object_text=="Дискретный выход") {
				trigger_object="obin";
			}
			if(trigger_object_text=="Аналоговый выход") {
				trigger_object="opwm";
			}
			if(trigger_object_text=="Внутренняя переменная") {
				trigger_object="var";
			}
			if(trigger_object_text=="Отправить сообщение") {
				trigger_object="time";
			}
			
			
			
			////получаем номер устройства
			if((trigger_object!="time")||(trigger_object!="var")) {
			
				device=document.getElementById(action_id+'selected_action_block_func'+id_func).innerHTML;
			
			}
			

			////получаем номер выхода
			if((trigger_object=="obin")||(trigger_object=="opwm")) {
			
				addr=document.getElementById(action_id+'selected_action_output_func'+id_func).innerHTML;
				json_object_action='{"type":"'+trigger_object+'","device":'+device+',"addr":'+addr+'}';
			
			}
			
			if(trigger_object=="var") {
			
				addr=document.getElementById(action_id+'action_variable_value_func'+id_func).value;
				json_object_action='{"type":"'+trigger_object+'","addr":'+addr+'}';
			
			}
			
			
			var state_text=document.getElementById(action_id+'selected_state_func'+id_func).innerHTML;
			var act_text=document.getElementById(action_id+'selected_action_do_func'+id_func).innerHTML;
			var act="";
			
			/////получаем действие, если это бинарный выход
			
			if(trigger_object=="obin") {

				if(state_text=="Активировать") {
					act="set";
				}
				
				if(state_text=="Деактивировать") {
					act="reset";
				}
				
				if(state_text=="Инвертировать") {
					act="inv";
				}
				
				var action_delay=document.getElementById(action_id+'action_delay_func'+id_func).value*1000;
				var action_time=document.getElementById(action_id+'action_time_func'+id_func).value*1000;



				json_object=json_object+',{"object":'+json_object_action+',"act":"'+act+'","delay":'+action_delay+',"time":'+action_time+'}';

				
			} else {
				
				if(act_text=="Установить значение") {
					act="set";
				}
				if(act_text=="Изменить на") {
					act="reset";
				}
				if(act_text=="Инвертировать") {
					act="inv";
				}
				
				var action_delay=document.getElementById(action_id+'action_delay_func'+id_func).value*1000;
				var action_time=document.getElementById(action_id+'action_time_func'+id_func).value*1000;

				var act_value=document.getElementById(action_id+'znach_action_do_func'+id_func).value*1;
				
				if((trigger_object=="itmp")||(trigger_object=="iadc")||(trigger_object=="opwm")) {
					act_value=act_value*100;
				}
				json_object=json_object+',{"object":'+json_object_action+',"act":"'+act+'","value":'+act_value+',"delay":'+action_delay+',"time":'+action_time+'}';


			}
	}
			///////////////////////////////////////////////////////////
			/////////////////////////////////////////действие 4////////////////////////////////
	if(document.getElementById('row_action4_'+id_func).style.display=="block") {
			var action_id="action4_";
			var json_object_action="";
			var trigger_object_text=document.getElementById(action_id+'selected_action_func'+id_func).innerHTML;
			

			if(trigger_object_text=="Дискретный выход") {
				trigger_object="obin";
			}
			if(trigger_object_text=="Аналоговый выход") {
				trigger_object="opwm";
			}
			if(trigger_object_text=="Внутренняя переменная") {
				trigger_object="var";
			}
			if(trigger_object_text=="Отправить сообщение") {
				trigger_object="time";
			}
			
			
			
			////получаем номер устройства
			if((trigger_object!="time")||(trigger_object!="var")) {
			
				device=document.getElementById(action_id+'selected_action_block_func'+id_func).innerHTML;
			
			}
			

			////получаем номер выхода
			if((trigger_object=="obin")||(trigger_object=="opwm")) {
			
				addr=document.getElementById(action_id+'selected_action_output_func'+id_func).innerHTML;
				json_object_action='{"type":"'+trigger_object+'","device":'+device+',"addr":'+addr+'}';
			
			}
			
			if(trigger_object=="var") {
			
				addr=document.getElementById(action_id+'action_variable_value_func'+id_func).value;
				json_object_action='{"type":"'+trigger_object+'","addr":'+addr+'}';
			
			}
			
			
			var state_text=document.getElementById(action_id+'selected_state_func'+id_func).innerHTML;
			var act_text=document.getElementById(action_id+'selected_action_do_func'+id_func).innerHTML;
			var act="";
			
			/////получаем действие, если это бинарный выход
			
			if(trigger_object=="obin") {

				if(state_text=="Активировать") {
					act="set";
				}
				
				if(state_text=="Деактивировать") {
					act="reset";
				}
				
				if(state_text=="Инвертировать") {
					act="inv";
				}
				
				var action_delay=document.getElementById(action_id+'action_delay_func'+id_func).value*1000;
				var action_time=document.getElementById(action_id+'action_time_func'+id_func).value*1000;



				json_object=json_object+',{"object":'+json_object_action+',"act":"'+act+'","delay":'+action_delay+',"time":'+action_time+'}';

				
			} else {
				
				if(act_text=="Установить значение") {
					act="set";
				}
				if(act_text=="Изменить на") {
					act="reset";
				}
				if(act_text=="Инвертировать") {
					act="inv";
				}
				
				var action_delay=document.getElementById(action_id+'action_delay_func'+id_func).value*1000;
				var action_time=document.getElementById(action_id+'action_time_func'+id_func).value*1000;

				var act_value=document.getElementById(action_id+'znach_action_do_func'+id_func).value*1;
				
				if((trigger_object=="itmp")||(trigger_object=="iadc")||(trigger_object=="opwm")) {
					act_value=act_value*100;
				}
				json_object=json_object+',{"object":'+json_object_action+',"act":"'+act+'","value":'+act_value+',"delay":'+action_delay+',"time":'+action_time+'}';


			}
	}

			///////////////////////////////////////////////////////////	
		/////////////////////////////////////////действие 5////////////////////////////////
	if(document.getElementById('row_action5_'+id_func).style.display=="block") {
			var action_id="action5_";
			var json_object_action="";
			var trigger_object_text=document.getElementById(action_id+'selected_action_func'+id_func).innerHTML;
			

			if(trigger_object_text=="Дискретный выход") {
				trigger_object="obin";
			}
			if(trigger_object_text=="Аналоговый выход") {
				trigger_object="opwm";
			}
			if(trigger_object_text=="Внутренняя переменная") {
				trigger_object="var";
			}
			if(trigger_object_text=="Отправить сообщение") {
				trigger_object="time";
			}
			
			
			
			////получаем номер устройства
			if((trigger_object!="time")||(trigger_object!="var")) {
			
				device=document.getElementById(action_id+'selected_action_block_func'+id_func).innerHTML;
			
			}
			

			////получаем номер выхода
			if((trigger_object=="obin")||(trigger_object=="opwm")) {
			
				addr=document.getElementById(action_id+'selected_action_output_func'+id_func).innerHTML;
				json_object_action='{"type":"'+trigger_object+'","device":'+device+',"addr":'+addr+'}';
			
			}
			
			if(trigger_object=="var") {
			
				addr=document.getElementById(action_id+'action_variable_value_func'+id_func).value;
				json_object_action='{"type":"'+trigger_object+'","addr":'+addr+'}';
			
			}
			
			
			var state_text=document.getElementById(action_id+'selected_state_func'+id_func).innerHTML;
			var act_text=document.getElementById(action_id+'selected_action_do_func'+id_func).innerHTML;
			var act="";
			
			/////получаем действие, если это бинарный выход
			
			if(trigger_object=="obin") {

				if(state_text=="Активировать") {
					act="set";
				}
				
				if(state_text=="Деактивировать") {
					act="reset";
				}
				
				if(state_text=="Инвертировать") {
					act="inv";
				}
				
				var action_delay=document.getElementById(action_id+'action_delay_func'+id_func).value*1000;
				var action_time=document.getElementById(action_id+'action_time_func'+id_func).value*1000;



				json_object=json_object+',{"object":'+json_object_action+',"act":"'+act+'","delay":'+action_delay+',"time":'+action_time+'}';

				
			} else {
				
				if(act_text=="Установить значение") {
					act="set";
				}
				if(act_text=="Изменить на") {
					act="reset";
				}
				if(act_text=="Инвертировать") {
					act="inv";
				}
				
				var action_delay=document.getElementById(action_id+'action_delay_func'+id_func).value*1000;
				var action_time=document.getElementById(action_id+'action_time_func'+id_func).value*1000;

				var act_value=document.getElementById(action_id+'znach_action_do_func'+id_func).value*1;

				if((trigger_object=="itmp")||(trigger_object=="iadc")||(trigger_object=="opwm")) {
					act_value=act_value*100;
				}
				json_object=json_object+',{"object":'+json_object_action+',"act":"'+act+'","value":'+act_value+',"delay":'+action_delay+',"time":'+action_time+'}';


			}
	}

			///////////////////////////////////////////////////////////		
			
	
	
	json_object=json_object+']}';
	///json_object
	
	return json_object;
	
	

}

function json_export(id_func) {

	var json=create_json(id_func);
	
	download('function.json',json);

} 

function update_func(id_func) {

	var json=create_json(id_func,id_func);
	
	////запрос к серверу на сохранение
	$.ajax({
							type: "POST",
							url: "/api/add_func.php",
							data: json,
							success: function(msg){
							
								try {
								
									var json=JSON.parse(msg);
									
									if(typeof json.status !="undefined") {
										if(json.status=="error") {
											alert('Произошла ошибка при попытке сохраненить данную функцию, проверьте пожалуйста свой ввод и попробуйте еще раз!');
										} else
									
										////alert(msg);
										////document.getElementById('state_'+id_dac).className="edit__block";
										
										////обновить страницу
										location.reload();
									} else {
										
										location.reload();
									}
								} catch(error) {
								
									location.reload();
								}
								
							},
							
							error: function(textStatus, errorThrown) {
								
								alert('Произошла ошибка при попытке сохраненить данную функцию, проверьте пожалуйста свой ввод и попробуйте еще раз!');
							}
							
						});

}


function save_func(id_func) {

	var json=create_json(id_func);
	
	
	
	////запрос к серверу на сохранение
	$.ajax({
							type: "POST",
							url: "/api/add_func.php",
							data: json,
							success: function(msg){
							try {
								
									var json=JSON.parse(msg);
									
									if(typeof json.status !="undefined") {
										if(json.status=="error") {
											alert('Произошла ошибка при попытке сохраненить данную функцию, проверьте пожалуйста свой ввод и попробуйте еще раз!');
										} else
									
										////alert(msg);
										////document.getElementById('state_'+id_dac).className="edit__block";
										
										////обновить страницу
										location.reload();
									} else {
										
										location.reload();
									}
								} catch(error) {
								
									location.reload();
								}
								
							},
							
							error: function(textStatus, errorThrown) {
								
								alert('Произошла ошибка при попытке сохраненить данную функцию, проверьте пожалуйста свой ввод и попробуйте еще раз!');
							}
							
						});

}


	


	function add_new_function() {
	
		///alert('dfsdfsd');
		
		var function_naim=document.getElementById('function_naim').value;
		$(".popup1").hide();
		
			current_function_pos=current_function_pos+1;

		generate_block_lists(current_function_pos);
		
		////alert(input_output_list);
		
		/////используя шаблон - вставляем js код новой функции
		var function_str=`
		<div class="function__row" style="margin-top: 0;" >
				<div class="function__hed" onClick="show_function('function_setting_`+current_function_pos+`')">
					<div class="function__name" id="function_naim_str_`+current_function_pos+`">`+function_naim+`</div>
					<input type="text" name="name" id="function_naim_func`+current_function_pos+`" class="function__rename" value="`+function_naim+`">
					<div class="function__btt">
						<div class="function__svg function__svg_dis">
							<svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
							<path d="M15.7151 3.50826C16.2801 4.09782 16.2893 5.05067 15.7359 5.65205L9.77623 12.1282C9.50686 12.4209 9.13717 12.5901 8.74834 12.5986L6.24384 12.6535L6.2967 10.0245C6.30467 9.62803 6.45973 9.25021 6.72925 8.97058L12.822 2.64921C13.3957 2.05402 14.3227 2.05541 14.8948 2.65231L15.7151 3.50826Z" fill="#314F57"/>
							<path opacity="0.4" d="M9.675 1.5C10.0892 1.5 10.425 1.83579 10.425 2.25C10.425 2.66421 10.0892 3 9.675 3H4.5C3.67157 3 3 3.67157 3 4.5V13.5C3 14.3284 3.67157 15 4.5 15H13.5C14.3284 15 15 14.3284 15 13.5V9.75C15 9.33579 15.3358 9 15.75 9C16.1642 9 16.5 9.33579 16.5 9.75V13.5C16.5 15.1569 15.1569 16.5 13.5 16.5H4.5C2.84315 16.5 1.5 15.1569 1.5 13.5V4.5C1.5 2.84315 2.84315 1.5 4.5 1.5H9.675Z" fill="#314F57"/>
							</svg>
						</div>
						<div class="function__svg function__svg_act" >
							<svg width="16" height="11" viewBox="0 0 16 11" fill="none" xmlns="http://www.w3.org/2000/svg">
							<path d="M14.1206 0.323007C14.5021 -0.0627317 15.1753 -0.109638 15.6241 0.218241C16.073 0.546119 16.1276 1.12462 15.746 1.51036L6.6794 10.677C6.29188 11.0688 5.60523 11.1101 5.15801 10.7684L0.358023 7.10179C-0.0822773 6.76545 -0.121937 6.18605 0.269441 5.80767C0.660819 5.42928 1.33503 5.3952 1.77533 5.73154L5.76023 8.77556L14.1206 0.323007Z" fill="#65DB3B"/>
							</svg>

						</div>
						<div class="function__svg" onclick="del_function('`+current_function_pos+`')">
							<svg width="29" height="29" viewBox="0 0 29 29" fill="none" xmlns="http://www.w3.org/2000/svg">
							<rect width="19.6682" height="2.45853" rx="1.22926" transform="matrix(0.691886 -0.722007 0.691925 0.72197 6.50098 20.3086)" fill="#314F57"/>
							<rect opacity="0.3" width="19.6682" height="2.45853" rx="1.22926" transform="matrix(0.691886 0.722006 -0.691925 0.72197 8.20117 6.10742)" fill="#314F57"/>
							</svg>
						</div>
						<div class="function__svg">
							<svg width="16" height="8" viewBox="0 0 16 8" fill="none" xmlns="http://www.w3.org/2000/svg">
							<path d="M8.00002 5.62586L1.73312 0.177181C1.41628 -0.0896287 0.943143 -0.0490732 0.676333 0.267763C0.409524 0.5846 0.450078 1.05774 0.766915 1.32455L7.25433 7.16716C7.69112 7.53499 8.33419 7.51723 8.75002 7.12586L15.264 1.29701C15.5657 1.01313 15.5801 0.538472 15.2962 0.236841C15.0123 -0.0647888 14.5376 -0.0791721 14.236 0.204715L8.00002 5.62586Z" fill="#314F57"/>
							</svg>
						</div>
					</div>
				</div>
				
				
<div class="function__select function__select_mini2 select" style="display: none;">
								Выберите дни
								<div class="select__posit select__posit_checked">
									<div class="select__posit-check">
										<label class="select__option select__option_label">
											<input type="checkbox" name="name" class="select__checkbox">
											<span class="select__border">
												<svg class="select__svg" width="10" height="8" viewBox="0 0 10 8" fill="none" xmlns="http://www.w3.org/2000/svg">
												<path fill-rule="evenodd" clip-rule="evenodd" d="M0.625 5.1147L2.03423 3.64103L3.68526 5.1595L8.22283 0.890625L9.375 2.38202L3.64564 7.69618L0.625 5.1147Z" fill="#24C1EA"/>
												</svg>
											</span>
											<span class="select__txt">Понедельник</span>
										</label>
									
									<label class="select__option select__option_label">
											<input type="checkbox" name="name" class="select__checkbox">
											<span class="select__border">
												<svg class="select__svg" width="10" height="8" viewBox="0 0 10 8" fill="none" xmlns="http://www.w3.org/2000/svg">
												<path fill-rule="evenodd" clip-rule="evenodd" d="M0.625 5.1147L2.03423 3.64103L3.68526 5.1595L8.22283 0.890625L9.375 2.38202L3.64564 7.69618L0.625 5.1147Z" fill="#24C1EA"/>
												</svg>
											</span>
											<span class="select__txt">Вторник</span>
										</label>

										<label class="select__option select__option_label">
											<input type="checkbox" name="name" class="select__checkbox">
											<span class="select__border">
												<svg class="select__svg" width="10" height="8" viewBox="0 0 10 8" fill="none" xmlns="http://www.w3.org/2000/svg">
												<path fill-rule="evenodd" clip-rule="evenodd" d="M0.625 5.1147L2.03423 3.64103L3.68526 5.1595L8.22283 0.890625L9.375 2.38202L3.64564 7.69618L0.625 5.1147Z" fill="#24C1EA"/>
												</svg>
											</span>
											<span class="select__txt">Среда</span>
										</label>

										<label class="select__option select__option_label">
											<input type="checkbox" name="name" class="select__checkbox">
											<span class="select__border">
												<svg class="select__svg" width="10" height="8" viewBox="0 0 10 8" fill="none" xmlns="http://www.w3.org/2000/svg">
												<path fill-rule="evenodd" clip-rule="evenodd" d="M0.625 5.1147L2.03423 3.64103L3.68526 5.1595L8.22283 0.890625L9.375 2.38202L3.64564 7.69618L0.625 5.1147Z" fill="#24C1EA"/>
												</svg>
											</span>
											<span class="select__txt">Четверг</span>
										</label>
										<label class="select__option select__option_label">
											<input type="checkbox" name="name" class="select__checkbox">
											<span class="select__border">
												<svg class="select__svg" width="10" height="8" viewBox="0 0 10 8" fill="none" xmlns="http://www.w3.org/2000/svg">
												<path fill-rule="evenodd" clip-rule="evenodd" d="M0.625 5.1147L2.03423 3.64103L3.68526 5.1595L8.22283 0.890625L9.375 2.38202L3.64564 7.69618L0.625 5.1147Z" fill="#24C1EA"/>
												</svg>
											</span>
											<span class="select__txt">Пятница</span>
										</label>
										<label class="select__option select__option_label">
											<input type="checkbox" name="name" class="select__checkbox">
											<span class="select__border">
												<svg class="select__svg" width="10" height="8" viewBox="0 0 10 8" fill="none" xmlns="http://www.w3.org/2000/svg">
												<path fill-rule="evenodd" clip-rule="evenodd" d="M0.625 5.1147L2.03423 3.64103L3.68526 5.1595L8.22283 0.890625L9.375 2.38202L3.64564 7.69618L0.625 5.1147Z" fill="#24C1EA"/>
												</svg>
											</span>
											<span class="select__txt">Суббота</span>
										</label>
										<label class="select__option select__option_label">
											<input type="checkbox" name="name" class="select__checkbox">
											<span class="select__border">
												<svg class="select__svg" width="10" height="8" viewBox="0 0 10 8" fill="none" xmlns="http://www.w3.org/2000/svg">
												<path fill-rule="evenodd" clip-rule="evenodd" d="M0.625 5.1147L2.03423 3.64103L3.68526 5.1595L8.22283 0.890625L9.375 2.38202L3.64564 7.69618L0.625 5.1147Z" fill="#24C1EA"/>
												</svg>
											</span>
											<span class="select__txt">Воскресенье</span>
										</label>
									</div>
										<div class="select__option select__option_btt button1">
											Сохранить
										</div>
								</div>
							</div>				
				
				
				
				<div class="function__seting" style="display:block" id="function_setting_`+current_function_pos+`">
					
					
					
					<div class="function__row2">
						<div class="function__row-name">Триггер и тип события</div>
						<div class="function__in">
							<div class="function__select select" onClick="select_trigger('select_trigger_func`+current_function_pos+`')">
								<div id="selected_trigger_func`+current_function_pos+`">Выберите триггер</div>
								<div class="select__posit" id="select_trigger_func`+current_function_pos+`">
									<div class="select__option" onClick="set_selected_trigger('selected_trigger_func`+current_function_pos+`','Дискретный вход','func`+current_function_pos+`',`+current_function_pos+`)">Дискретный вход</div>
									<div class="select__option" onClick="set_selected_trigger('selected_trigger_func`+current_function_pos+`','Аналоговый вход','func`+current_function_pos+`',`+current_function_pos+`)">Аналоговый вход</div>
									<div class="select__option" onClick="set_selected_trigger('selected_trigger_func`+current_function_pos+`','Дискретный выход','func`+current_function_pos+`',`+current_function_pos+`)">Дискретный выход</div>
									<div class="select__option" onClick="set_selected_trigger('selected_trigger_func`+current_function_pos+`','Аналоговый выход','func`+current_function_pos+`',`+current_function_pos+`)">Аналоговый выход</div>
									<div class="select__option" onClick="set_selected_trigger('selected_trigger_func`+current_function_pos+`','Ключи доступа 1-Wire-1','func`+current_function_pos+`',`+current_function_pos+`)">Ключи доступа 1-Wire-1</div>
									<div class="select__option" onClick="set_selected_trigger('selected_trigger_func`+current_function_pos+`','Кнопки 1-Wire-2','func`+current_function_pos+`',`+current_function_pos+`)">Кнопки 1-Wire-2</div>
									<div class="select__option" onClick="set_selected_trigger('selected_trigger_func`+current_function_pos+`','Температура 1-Wire-3','func`+current_function_pos+`',`+current_function_pos+`)">Температура 1-Wire-3</div>
									<!---<div class="select__option" onClick="set_selected_trigger('selected_trigger_func`+current_function_pos+`','Часы','func`+current_function_pos+`')">Часы</div>--->
									<div class="select__option" onClick="set_selected_trigger('selected_trigger_func`+current_function_pos+`','Внутренняя переменная','func`+current_function_pos+`',`+current_function_pos+`)">Внутренняя переменная</div>
									<div class="select__option" onClick="set_selected_trigger('selected_trigger_func`+current_function_pos+`','Часы','func`+current_function_pos+`',`+current_function_pos+`)">Часы</div>
								</div>
							</div>
							
							<div class="function__inputs function__inputs_ort inputs" id="trigger_clock_field_func`+current_function_pos+`" style="display:none">
								<div class="function__rel function__rel_mob">
									<div class="inputs__txt">каждые</div>
									<input type="text" name="name" id="trigger_clock_hour_func`+current_function_pos+`" class="inputs__inp-min inputs__inp-min_mar input" placeholder="Ч">
									<input type="text" name="name" id="trigger_clock_min_func`+current_function_pos+`" class="inputs__inp-min  input inputs__inp-min_mar" placeholder="М">
								</div>
							<!---	<div class="function__rel">
									<div class="inputs__txt">на</div>
									<input type="text" name="name" id="delay_to_hour_action_func`+current_function_pos+`" class="inputs__inp-min inputs__inp-min_mar input" placeholder="Ч">
									<input type="text" name="name" id="delay_to_min_action_func`+current_function_pos+`" class="inputs__inp-min input" placeholder="М">
								</div>
							---->
							</div>
							
							<div class="function__inputs inputs" style="display: none;">
								<input type="text" name="name" class="inputs__inp-min inputs__inp-min_mr1 input" placeholder="Ч">
								
								<input type="text" name="name" class="inputs__inp-min input" placeholder="М">
							</div>

							<div class="function__select function__select_mini select" style="" id="trigger_block_field_func`+current_function_pos+`" onClick="expand_list('select_block_func`+current_function_pos+`')">
								<div id="selected_block_func`+current_function_pos+`">№ блока</div>
								<div class="select__posit" id="select_block_func`+current_function_pos+`">
									`+input_block_list+`
									
								</div>
							</div>
							<div class="function__select function__select_mini select" style="" onClick="expand_list('select_input_func`+current_function_pos+`')" id="trigger_input_field_func`+current_function_pos+`">
								<div id="selected_input_func`+current_function_pos+`">№ входа</div>
								<div class="select__posit" id="select_input_func`+current_function_pos+`">
									`+input_input_list+`
									
								</div>
							</div>
							<div class="function__select function__select_mini select" onClick="expand_list('select_output_func`+current_function_pos+`')" style="display:none" id="trigger_output_field_func`+current_function_pos+`">
								<div id="selected_output_func`+current_function_pos+`">№ выхода</div>
								<div class="select__posit" id="select_output_func`+current_function_pos+`">
									`+input_output_list+`
									
								</div>
									</div>
								
								
							<div class="function__select function__select_mini select"  onClick="expand_list('select_input_address_func`+current_function_pos+`')" style="display:block;" id="trigger_address_field_func`+current_function_pos+`">
								<div id="selected_input_address_func`+current_function_pos+`">№ адреса</div>
								<div class="select__posit" id="select_input_address_func`+current_function_pos+`">
								
								
								`+input_address_list+`
								
							</div>		
							</div>
							
							<div class="function__inputs inputs function__inputs_mar" style="display: none;" id="trigger_variable_field_func`+current_function_pos+`">
								<input type="text" name="name" class="inputs__inp input" id="trigger_select_variable_func`+current_function_pos+`" placeholder="№ перем.">
							</div>
							
							
							<div class="function__select select" style="" id="select_type_event_func`+current_function_pos+`" onClick="expand_list('select_event_func`+current_function_pos+`')">
								<div id="selected_event_func`+current_function_pos+`">Выберите тип события</div>
								<div class="select__posit" id="select_event_func`+current_function_pos+`">
									<div class="select__option" onClick="set_event_trigger('selected_event_func`+current_function_pos+`','Превышение порога','func`+current_function_pos+`')">Превышение порога</div>
									<div class="select__option" onClick="set_event_trigger('selected_event_func`+current_function_pos+`','Ниже порогового уровня','func`+current_function_pos+`')">Ниже порогового уровня</div>
									<div class="select__option" onClick="set_event_trigger('selected_event_func`+current_function_pos+`','Вход в диапазон','func`+current_function_pos+`')">Вход в диапазон</div>
									<div class="select__option" onClick="set_event_trigger('selected_event_func`+current_function_pos+`','Выход из диапазона','func`+current_function_pos+`')">Выход из диапазона</div>
									<div class="select__option" onClick="set_event_trigger('selected_event_func`+current_function_pos+`','По достижении значения','func`+current_function_pos+`')">По достижении значения</div>
									<div class="select__option" onClick="set_event_trigger('selected_event_func`+current_function_pos+`','Любое изменение','func`+current_function_pos+`')">Любое изменение</div>
									
								</div>
							</div>
							
							<div class="function__select select" style="display: none;" id="select_front_func`+current_function_pos+`" onClick="expand_list('select_front_option_func`+current_function_pos+`')">
							<div id="selected_front_func`+current_function_pos+`">	Выберите фронт </div>
								<div class="select__posit" id="select_front_option_func`+current_function_pos+`">
									<div class="select__option" onClick="set_front_trigger('selected_front_func`+current_function_pos+`','По переднему фронту','func`+current_function_pos+`')">По переднему фронту</div>
									<div class="select__option" onClick="set_front_trigger('selected_front_func`+current_function_pos+`','По заднему фронту','func`+current_function_pos+`')">По заднему фронту</div>
									<div class="select__option" onClick="set_front_trigger('selected_front_func`+current_function_pos+`','Любое изменение','func`+current_function_pos+`')">Любое изменение</div>
								</div>
							</div>
							
							
							
							<div class="function__inputs inputs" style="" id="porog_func`+current_function_pos+`">
								<input type="text" name="name" class="inputs__inp input" id="porog_value_func`+current_function_pos+`" placeholder="Порог">
								<div class="inputs__txt">на</div>
								<input type="text" name="name" class="inputs__inp-min input" id="porog_timeout_value_func`+current_function_pos+`" placeholder="Сек">
							</div>
							<div class="function__inputs inputs" style="display: none;" id="interval_func`+current_function_pos+`">
								<input type="text" name="name" class="inputs__inp input" id="interval_from_value_func`+current_function_pos+`" placeholder="Ниж. порог">
								<input type="text" name="name" class="inputs__inp input" id="interval_to_value_func`+current_function_pos+`" placeholder="Верх. порог">
								<div class="inputs__txt">на</div>
								<input type="text" name="name" class="inputs__inp-min input" id="interval_timeout_value_func`+current_function_pos+`" placeholder="Сек">
							</div>
							<div class="function__inputs inputs" style="display: none;" id="znach_func`+current_function_pos+`">
								<input type="text" name="name" id="znach_value_func`+current_function_pos+`" class="inputs__inp input" placeholder="Значение">
							</div>
							<!--
								ставим класс function__inputs_mar 
								если справа будет какой-то элемент
							-->
							<div class="function__inputs inputs function__inputs_mar" style="display: none;">
								<input type="text" name="name" class="inputs__inp input" placeholder="№ 375">
							</div>
							

							<div class="function__select function__select_mini2 select" style="display: none;">
								Выберите
								<div class="select__posit" id="select_state_func`+current_function_pos+`">
									<div class="select__option">Активен</div>
									<div class="select__option">Не активен</div>
								</div>
							</div>
						</div>
					</div>
					
					<!-------------------------------условие 1--------------------------------------------------------->
					<div class="function__row2" id="row_condition1_`+current_function_pos+`" style="display:block">
						<div class="function__row-name">Условие</div>
						<div class="function__in">
							<div class="function__select select" onClick="expand_list('select_condition_func`+current_function_pos+`')">
								<div id="selected_condition_func`+current_function_pos+`">Выберите</div>
								<div class="select__posit" id="select_condition_func`+current_function_pos+`">
									<div class="select__option"  onClick="set_condition('selected_condition_func`+current_function_pos+`','Нет условий','func`+current_function_pos+`','condition1')">Нет условий</div>
									<div class="select__option" onClick="set_condition('selected_condition_func`+current_function_pos+`','Любое из условий','func`+current_function_pos+`','condition1')">Любое из условий</div>
									<div class="select__option" onClick="set_condition('selected_condition_func`+current_function_pos+`','Весь список условий','func`+current_function_pos+`','condition1')">Весь список условий</div>
								</div>
							</div>
						</div>
						<div class="function__in">
							<div class="function__select select" style="" onClick="expand_list('condition1_select_condition_type_func`+current_function_pos+`')">
								<div id="condition1_selected_condition_type_func`+current_function_pos+`">Выберите условие</div>
								<div class="select__posit" id="condition1_select_condition_type_func`+current_function_pos+`">
									<div class="select__option" onClick="set_condition_type('condition1_selected_condition_type_func`+current_function_pos+`','Дискретный вход','func`+current_function_pos+`',`+current_function_pos+`,'condition1')">Дискретный вход</div>
								<!---	<div class="select__option" onClick="set_condition_type('selected_condition_type_func`+current_function_pos+`','Дискретный выход','func`+current_function_pos+`',`+current_function_pos+`)">Дискретный выход</div> --->
									<div class="select__option" onClick="set_condition_type('condition1_selected_condition_type_func`+current_function_pos+`','Аналоговый вход','func`+current_function_pos+`',`+current_function_pos+`,'condition1')">Аналоговый вход</div>
								<!---	<div class="select__option" onClick="set_condition_type('selected_condition_type_func`+current_function_pos+`','Аналоговый выход','func`+current_function_pos+`',`+current_function_pos+`)">Аналоговый выход</div> --->
									<div class="select__option" onClick="set_condition_type('condition1_selected_condition_type_func`+current_function_pos+`','Внутренняя переменная','func`+current_function_pos+`',`+current_function_pos+`,'condition1')">Внутренняя переменная</div>
									<div class="select__option" onClick="set_condition_type('condition1_selected_condition_type_func`+current_function_pos+`','Ключи доступа 1-Wire-1','func`+current_function_pos+`',`+current_function_pos+`,'condition1')">Ключи доступа 1-Wire-1</div>
									<div class="select__option" onClick="set_condition_type('condition1_selected_condition_type_func`+current_function_pos+`','Кнопки 1-Wire-2','func`+current_function_pos+`',`+current_function_pos+`,'condition1')">Кнопки 1-Wire-2</div>
									<div class="select__option" onClick="set_condition_type('condition1_selected_condition_type_func`+current_function_pos+`','Температура 1-Wire-3','func`+current_function_pos+`',`+current_function_pos+`,'condition1')">Температура 1-Wire-3</div>
								</div>
							</div>
							
							<div class="function__select select function__select_mini" style="" onClick="expand_list('condition1_select_condition_block_func`+current_function_pos+`')" id="condition1_condition_block_field_func`+current_function_pos+`">
								<div id="condition1_selected_condition_block_func`+current_function_pos+`">№ блока</div>
								<div class="select__posit" id="condition1_select_condition_block_func`+current_function_pos+`">
									`+condition1_block_list+`
								</div>
							</div>
							<div class="function__select select function__select_mini" style="" id="condition1_condition_input_field_func`+current_function_pos+`" onClick="expand_list('condition1_select_condition_input_func`+current_function_pos+`')">
								<div id="condition1_selected_condition_input_func`+current_function_pos+`">№ входа</div>
								<div class="select__posit" id="condition1_select_condition_input_func`+current_function_pos+`">
									`+condition1_input_list+`
								</div>
							</div>
							

							<div class="function__select select function__select_mini" id="condition1_condition_address_field_func`+current_function_pos+`" style="display: none;" onClick="expand_list('condition1_select_condition_address_func`+current_function_pos+`')">
								<div id="condition1_selected_condition_address_func`+current_function_pos+`">№ адреса</div>
								<div class="select__posit" id="condition1_select_condition_address_func`+current_function_pos+`">
									`+condition1_address_list+`
								</div>
							</div>
							
							<div class="function__inputs inputs function__inputs_mar" style="display: none;" id="condition1_condition_variable_field_func`+current_function_pos+`">
								<input type="text" name="name" class="inputs__inp input" value="" id="condition1_condition_variable_value_func`+current_function_pos+`" placeholder="№ перем.">
							</div>
							
							
							<div class="function__select select function__select_mini2" style="display:none" id="condition1_condition_state_field_func`+current_function_pos+`" onClick="expand_list('condition1_select_condition_state_func`+current_function_pos+`')">
								<div id="condition1_selected_condition_state_func`+current_function_pos+`">Выберите</div>
								<div class="select__posit" id="condition1_select_condition_state_func`+current_function_pos+`">
									<div class="select__option" onClick="set_condition_state('condition1_selected_condition_state_func`+current_function_pos+`','Активен','func`+current_function_pos+`','condition1')">Активен</div>
									<div class="select__option" onClick="set_condition_state('condition1_selected_condition_state_func`+current_function_pos+`','Не активен','func`+current_function_pos+`','condition1')">Не активен</div>
								</div>
							</div>
							
							
							<div class="function__select select" onClick="expand_list('condition1_select_condition_value_func`+current_function_pos+`')" id="condition1_condition_uslovie_field_func`+current_function_pos+`" style="display:none">
								<div id="condition1_selected_condition_value_func`+current_function_pos+`">Выберите условие</div>
								<div class="select__posit" id="condition1_select_condition_value_func`+current_function_pos+`">
									<div class="select__option" onClick="set_condition_value('condition1_selected_condition_value_func`+current_function_pos+`','Равно','func`+current_function_pos+`','condition1')">Равно</div>
									<div class="select__option" onClick="set_condition_value('condition1_selected_condition_value_func`+current_function_pos+`','Больше','func`+current_function_pos+`','condition1')">Больше</div>
									<div class="select__option" onClick="set_condition_value('condition1_selected_condition_value_func`+current_function_pos+`','Меньше','func`+current_function_pos+`','condition1')">Меньше</div>
									<div class="select__option" onClick="set_condition_value('condition1_selected_condition_value_func`+current_function_pos+`','Больше либо равно','func`+current_function_pos+`','condition1')">Больше либо равно</div>
									<div class="select__option" onClick="set_condition_value('condition1_selected_condition_value_func`+current_function_pos+`','Меньше либо равно','func`+current_function_pos+`','condition1')">Меньше либо равно</div>
									<div class="select__option" onClick="set_condition_value('condition1_selected_condition_value_func`+current_function_pos+`','Не равно','func`+current_function_pos+`','condition1')">Не равно</div>
									<div class="select__option" onClick="set_condition_value('condition1_selected_condition_value_func`+current_function_pos+`','В диапазоне','func`+current_function_pos+`','condition1')">В диапазоне</div>
									<div class="select__option" onClick="set_condition_value('condition1_selected_condition_value_func`+current_function_pos+`','Вне диапазона','func`+current_function_pos+`','condition1')">Вне диапазона</div>
								
								</div>
							</div>
							<!-- если  справа есть элемент то этот инпут -->
							<div class="function__inputs inputs function__inputs_mar" style="display: none;" id="condition1_condition_znach_func`+current_function_pos+`">
								<input type="text" name="name" class="inputs__inp input" id="condition1_condition_znach_value_func`+current_function_pos+`" placeholder="Значение">
							</div>
							<!--  -->

							<!--если нету, этот-->
							<div class="function__inputs inputs" style="display: none;" >
								<input type="text" name="name" class="inputs__inp input" placeholder="Значение">
							</div>
							<!-- -->

							<div class="function__inputs inputs" style="display: none;" id="condition1_condition_interval_func`+current_function_pos+`">
								<input type="text" name="name" class="inputs__inp input" id="condition1_condition_interval_from_func`+current_function_pos+`" placeholder="Мин. знач.">
								<input type="text" name="name" class="inputs__inp input" id="condition1_condition_interval_to_func`+current_function_pos+`" placeholder="Макс. знач.">
							</div>
						</div>
					</div>
					
					<!---------------конец условия 1----------------------------------------------------------->
					
					
					<!-------------------------------условие 2--------------------------------------------------------->
					<div class="function__row2" id="row_condition2_`+current_function_pos+`" style="display:none">
						
						<div class="function__in">
							<div class="function__select select" style="" onClick="expand_list('condition2_select_condition_type_func`+current_function_pos+`')">
								<div id="condition2_selected_condition_type_func`+current_function_pos+`">Выберите условие</div>
								<div class="select__posit" id="condition2_select_condition_type_func`+current_function_pos+`">
									<div class="select__option" onClick="set_condition_type('condition2_selected_condition_type_func`+current_function_pos+`','Дискретный вход','func`+current_function_pos+`',`+current_function_pos+`,'condition2')">Дискретный вход</div>
								<!---	<div class="select__option" onClick="set_condition_type('selected_condition_type_func`+current_function_pos+`','Дискретный выход','func`+current_function_pos+`',`+current_function_pos+`)">Дискретный выход</div> --->
									<div class="select__option" onClick="set_condition_type('condition2_selected_condition_type_func`+current_function_pos+`','Аналоговый вход','func`+current_function_pos+`',`+current_function_pos+`,'condition2')">Аналоговый вход</div>
								<!---	<div class="select__option" onClick="set_condition_type('selected_condition_type_func`+current_function_pos+`','Аналоговый выход','func`+current_function_pos+`',`+current_function_pos+`)">Аналоговый выход</div> --->
									<div class="select__option" onClick="set_condition_type('condition2_selected_condition_type_func`+current_function_pos+`','Внутренняя переменная','func`+current_function_pos+`',`+current_function_pos+`,'condition2')">Внутренняя переменная</div>
									<div class="select__option" onClick="set_condition_type('condition2_selected_condition_type_func`+current_function_pos+`','Ключи доступа 1-Wire-1','func`+current_function_pos+`',`+current_function_pos+`,'condition2')">Ключи доступа 1-Wire-1</div>
									<div class="select__option" onClick="set_condition_type('condition2_selected_condition_type_func`+current_function_pos+`','Кнопки 1-Wire-2','func`+current_function_pos+`',`+current_function_pos+`,'condition2')">Кнопки 1-Wire-2</div>
									<div class="select__option" onClick="set_condition_type('condition2_selected_condition_type_func`+current_function_pos+`','Температура 1-Wire-3','func`+current_function_pos+`',`+current_function_pos+`,'condition2')">Температура 1-Wire-3</div>
								</div>
							</div>
							<div class="function__select select function__select_mini" style="" onClick="expand_list('condition2_select_condition_block_func`+current_function_pos+`')" id="condition2_condition_block_field_func`+current_function_pos+`">
								<div id="condition2_selected_condition_block_func`+current_function_pos+`">№ блока</div>
								<div class="select__posit" id="condition2_select_condition_block_func`+current_function_pos+`">
									`+condition2_block_list+`
								</div>
							</div>
							<div class="function__select select function__select_mini" style="" id="condition2_condition_input_field_func`+current_function_pos+`" onClick="expand_list('condition2_select_condition_input_func`+current_function_pos+`')">
								<div id="condition2_selected_condition_input_func`+current_function_pos+`">№ входа</div>
								<div class="select__posit" id="condition2_select_condition_input_func`+current_function_pos+`">
									`+condition2_input_list+`
								</div>
							</div>
							

							<div class="function__select select function__select_mini" id="condition2_condition_address_field_func`+current_function_pos+`" style="display: none;" onClick="expand_list('condition2_select_condition_address_func`+current_function_pos+`')">
								<div id="condition2_selected_condition_address_func`+current_function_pos+`">№ адреса</div>
								<div class="select__posit" id="condition2_select_condition_address_func`+current_function_pos+`">
									`+condition2_address_list+`
								</div>
							</div>
							
							<div class="function__inputs inputs function__inputs_mar" style="display: none;" id="condition2_condition_variable_field_func`+current_function_pos+`">
								<input type="text" name="name" class="inputs__inp input" value="" id="condition2_condition_variable_value_func`+current_function_pos+`" placeholder="№ перем.">
							</div>
							
							
							<div class="function__select select function__select_mini2" style="display:none" id="condition2_condition_state_field_func`+current_function_pos+`" onClick="expand_list('condition2_select_condition_state_func`+current_function_pos+`')">
								<div id="condition2_selected_condition_state_func`+current_function_pos+`">Выберите</div>
								<div class="select__posit" id="condition2_select_condition_state_func`+current_function_pos+`">
									<div class="select__option" onClick="set_condition_state('condition2_selected_condition_state_func`+current_function_pos+`','Активен','func`+current_function_pos+`','condition2')">Активен</div>
									<div class="select__option" onClick="set_condition_state('condition2_selected_condition_state_func`+current_function_pos+`','Не активен','func`+current_function_pos+`','condition2')">Не активен</div>
								</div>
							</div>
							
							
							<div class="function__select select" onClick="expand_list('condition2_select_condition_value_func`+current_function_pos+`')" id="condition2_condition_uslovie_field_func`+current_function_pos+`" style="display:none">
								<div id="condition2_selected_condition_value_func`+current_function_pos+`">Выберите условие</div>
								<div class="select__posit" id="condition2_select_condition_value_func`+current_function_pos+`">
									<div class="select__option" onClick="set_condition_value('condition2_selected_condition_value_func`+current_function_pos+`','Равно','func`+current_function_pos+`','condition2')">Равно</div>
									<div class="select__option" onClick="set_condition_value('condition2_selected_condition_value_func`+current_function_pos+`','Больше','func`+current_function_pos+`','condition2')">Больше</div>
									<div class="select__option" onClick="set_condition_value('condition2_selected_condition_value_func`+current_function_pos+`','Меньше','func`+current_function_pos+`','condition2')">Меньше</div>
									<div class="select__option" onClick="set_condition_value('condition2_selected_condition_value_func`+current_function_pos+`','Больше либо равно','func`+current_function_pos+`','condition2')">Больше либо равно</div>
									<div class="select__option" onClick="set_condition_value('condition2_selected_condition_value_func`+current_function_pos+`','Меньше либо равно','func`+current_function_pos+`','condition2')">Меньше либо равно</div>
									<div class="select__option" onClick="set_condition_value('condition2_selected_condition_value_func`+current_function_pos+`','Не равно','func`+current_function_pos+`','condition2')">Не равно</div>
									<div class="select__option" onClick="set_condition_value('condition2_selected_condition_value_func`+current_function_pos+`','В диапазоне','func`+current_function_pos+`','condition2')">В диапазоне</div>
									<div class="select__option" onClick="set_condition_value('condition2_selected_condition_value_func`+current_function_pos+`','Вне диапазона','func`+current_function_pos+`','condition2')">Вне диапазона</div>
								
								</div>
							</div>
							<!-- если  справа есть элемент то этот инпут -->
							<div class="function__inputs inputs function__inputs_mar" style="display: none;" id="condition2_condition_znach_func`+current_function_pos+`">
								<input type="text" name="name" class="inputs__inp input" id="condition2_condition_znach_value_func`+current_function_pos+`" placeholder="Значение">
							</div>
							<!--  -->

							<!--если нету, этот-->
							<div class="function__inputs inputs" style="display: none;" >
								<input type="text" name="name" class="inputs__inp input" placeholder="Значение">
							</div>
							<!-- -->

							<div class="function__inputs inputs" style="display: none;" id="condition2_condition_interval_func`+current_function_pos+`">
								<input type="text" name="name" class="inputs__inp input" id="condition2_condition_interval_from_func`+current_function_pos+`" placeholder="Мин. знач.">
								<input type="text" name="name" class="inputs__inp input" id="condition2_condition_interval_to_func`+current_function_pos+`" placeholder="Макс. знач.">
							</div>
						</div>
					</div>
					
					<!---------------конец условия 2----------------------------------------------------------->
					
					
					
					<!-------------------------------условие 3--------------------------------------------------------->
					<div class="function__row2" id="row_condition3_`+current_function_pos+`" style="display:none">
						
						<div class="function__in">
							<div class="function__select select" style="" onClick="expand_list('condition3_select_condition_type_func`+current_function_pos+`')">
								<div id="condition3_selected_condition_type_func`+current_function_pos+`">Выберите условие</div>
								<div class="select__posit" id="condition3_select_condition_type_func`+current_function_pos+`">
									<div class="select__option" onClick="set_condition_type('condition3_selected_condition_type_func`+current_function_pos+`','Дискретный вход','func`+current_function_pos+`',`+current_function_pos+`,'condition3')">Дискретный вход</div>
								<!---	<div class="select__option" onClick="set_condition_type('selected_condition_type_func`+current_function_pos+`','Дискретный выход','func`+current_function_pos+`',`+current_function_pos+`)">Дискретный выход</div> --->
									<div class="select__option" onClick="set_condition_type('condition3_selected_condition_type_func`+current_function_pos+`','Аналоговый вход','func`+current_function_pos+`',`+current_function_pos+`,'condition3')">Аналоговый вход</div>
								<!---	<div class="select__option" onClick="set_condition_type('selected_condition_type_func`+current_function_pos+`','Аналоговый выход','func`+current_function_pos+`',`+current_function_pos+`)">Аналоговый выход</div> --->
									<div class="select__option" onClick="set_condition_type('condition3_selected_condition_type_func`+current_function_pos+`','Внутренняя переменная','func`+current_function_pos+`',`+current_function_pos+`,'condition3')">Внутренняя переменная</div>
									<div class="select__option" onClick="set_condition_type('condition3_selected_condition_type_func`+current_function_pos+`','Ключи доступа 1-Wire-1','func`+current_function_pos+`',`+current_function_pos+`,'condition3')">Ключи доступа 1-Wire-1</div>
									<div class="select__option" onClick="set_condition_type('condition3_selected_condition_type_func`+current_function_pos+`','Кнопки 1-Wire-2','func`+current_function_pos+`',`+current_function_pos+`,'condition3')">Кнопки 1-Wire-2</div>
									<div class="select__option" onClick="set_condition_type('condition3_selected_condition_type_func`+current_function_pos+`','Температура 1-Wire-3','func`+current_function_pos+`',`+current_function_pos+`,'condition3')">Температура 1-Wire-3</div>
								</div>
							</div>
							<div class="function__select select function__select_mini" style="" onClick="expand_list('condition3_select_condition_block_func`+current_function_pos+`')" id="condition3_condition_block_field_func`+current_function_pos+`">
								<div id="condition3_selected_condition_block_func`+current_function_pos+`">№ блока</div>
								<div class="select__posit" id="condition3_select_condition_block_func`+current_function_pos+`">
									`+condition3_block_list+`
								</div>
							</div>
							<div class="function__select select function__select_mini" style="" id="condition3_condition_input_field_func`+current_function_pos+`" onClick="expand_list('condition3_select_condition_input_func`+current_function_pos+`')">
								<div id="condition3_selected_condition_input_func`+current_function_pos+`">№ входа</div>
								<div class="select__posit" id="condition3_select_condition_input_func`+current_function_pos+`">
									`+condition3_input_list+`
								</div>
							</div>
							

							<div class="function__select select function__select_mini" id="condition3_condition_address_field_func`+current_function_pos+`" style="display: none;" onClick="expand_list('condition3_select_condition_address_func`+current_function_pos+`')">
								<div id="condition3_selected_condition_address_func`+current_function_pos+`">№ адреса</div>
								<div class="select__posit" id="condition3_select_condition_address_func`+current_function_pos+`">
									`+condition3_address_list+`
								</div>
							</div>
							
							<div class="function__inputs inputs function__inputs_mar" style="display: none;" id="condition3_condition_variable_field_func`+current_function_pos+`">
								<input type="text" name="name" class="inputs__inp input" value="" id="condition3_condition_variable_value_func`+current_function_pos+`" placeholder="№ перем.">
							</div>
							
							
							<div class="function__select select function__select_mini2" style="display:none" id="condition3_condition_state_field_func`+current_function_pos+`" onClick="expand_list('condition3_select_condition_state_func`+current_function_pos+`')">
								<div id="condition3_selected_condition_state_func`+current_function_pos+`">Выберите</div>
								<div class="select__posit" id="condition3_select_condition_state_func`+current_function_pos+`">
									<div class="select__option" onClick="set_condition_state('condition3_selected_condition_state_func`+current_function_pos+`','Активен','func`+current_function_pos+`','condition3')">Активен</div>
									<div class="select__option" onClick="set_condition_state('condition3_selected_condition_state_func`+current_function_pos+`','Не активен','func`+current_function_pos+`','condition3')">Не активен</div>
								</div>
							</div>
							
							
							<div class="function__select select" onClick="expand_list('condition3_select_condition_value_func`+current_function_pos+`')" id="condition3_condition_uslovie_field_func`+current_function_pos+`" style="display:none">
								<div id="condition3_selected_condition_value_func`+current_function_pos+`">Выберите условие</div>
								<div class="select__posit" id="condition3_select_condition_value_func`+current_function_pos+`">
									<div class="select__option" onClick="set_condition_value('condition3_selected_condition_value_func`+current_function_pos+`','Равно','func`+current_function_pos+`','condition3')">Равно</div>
									<div class="select__option" onClick="set_condition_value('condition3_selected_condition_value_func`+current_function_pos+`','Больше','func`+current_function_pos+`','condition3')">Больше</div>
									<div class="select__option" onClick="set_condition_value('condition3_selected_condition_value_func`+current_function_pos+`','Меньше','func`+current_function_pos+`','condition3')">Меньше</div>
									<div class="select__option" onClick="set_condition_value('condition3_selected_condition_value_func`+current_function_pos+`','Больше либо равно','func`+current_function_pos+`','condition3')">Больше либо равно</div>
									<div class="select__option" onClick="set_condition_value('condition3_selected_condition_value_func`+current_function_pos+`','Меньше либо равно','func`+current_function_pos+`','condition3')">Меньше либо равно</div>
									<div class="select__option" onClick="set_condition_value('condition3_selected_condition_value_func`+current_function_pos+`','Не равно','func`+current_function_pos+`','condition3')">Не равно</div>
									<div class="select__option" onClick="set_condition_value('condition3_selected_condition_value_func`+current_function_pos+`','В диапазоне','func`+current_function_pos+`','condition3')">В диапазоне</div>
									<div class="select__option" onClick="set_condition_value('condition3_selected_condition_value_func`+current_function_pos+`','Вне диапазона','func`+current_function_pos+`','condition3')">Вне диапазона</div>
								
								</div>
							</div>
							<!-- если  справа есть элемент то этот инпут -->
							<div class="function__inputs inputs function__inputs_mar" style="display: none;" id="condition3_condition_znach_func`+current_function_pos+`">
								<input type="text" name="name" class="inputs__inp input" id="condition3_condition_znach_value_func`+current_function_pos+`" placeholder="Значение">
							</div>
							<!--  -->

							<!--если нету, этот-->
							<div class="function__inputs inputs" style="display: none;" >
								<input type="text" name="name" class="inputs__inp input" placeholder="Значение">
							</div>
							<!-- -->

							<div class="function__inputs inputs" style="display: none;" id="condition3_condition_interval_func`+current_function_pos+`">
								<input type="text" name="name" class="inputs__inp input" id="condition3_condition_interval_from_func`+current_function_pos+`" placeholder="Мин. знач.">
								<input type="text" name="name" class="inputs__inp input" id="condition3_condition_interval_to_func`+current_function_pos+`" placeholder="Макс. знач.">
							</div>
						</div>
					</div>
					
					<!---------------конец условия 3----------------------------------------------------------->
					
					
					
					<!-------------------------------условие 4--------------------------------------------------------->
					<div class="function__row2" id="row_condition4_`+current_function_pos+`" style="display:none">
						
						<div class="function__in">
							<div class="function__select select" style="" onClick="expand_list('condition4_select_condition_type_func`+current_function_pos+`')">
								<div id="condition4_selected_condition_type_func`+current_function_pos+`">Выберите условие</div>
								<div class="select__posit" id="condition4_select_condition_type_func`+current_function_pos+`">
									<div class="select__option" onClick="set_condition_type('condition4_selected_condition_type_func`+current_function_pos+`','Дискретный вход','func`+current_function_pos+`',`+current_function_pos+`,'condition4')">Дискретный вход</div>
								<!---	<div class="select__option" onClick="set_condition_type('selected_condition_type_func`+current_function_pos+`','Дискретный выход','func`+current_function_pos+`',`+current_function_pos+`)">Дискретный выход</div> --->
									<div class="select__option" onClick="set_condition_type('condition4_selected_condition_type_func`+current_function_pos+`','Аналоговый вход','func`+current_function_pos+`',`+current_function_pos+`,'condition4')">Аналоговый вход</div>
								<!---	<div class="select__option" onClick="set_condition_type('selected_condition_type_func`+current_function_pos+`','Аналоговый выход','func`+current_function_pos+`',`+current_function_pos+`)">Аналоговый выход</div> --->
									<div class="select__option" onClick="set_condition_type('condition4_selected_condition_type_func`+current_function_pos+`','Внутренняя переменная','func`+current_function_pos+`',`+current_function_pos+`,'condition4')">Внутренняя переменная</div>
									<div class="select__option" onClick="set_condition_type('condition4_selected_condition_type_func`+current_function_pos+`','Ключи доступа 1-Wire-1','func`+current_function_pos+`',`+current_function_pos+`,'condition4')">Ключи доступа 1-Wire-1</div>
									<div class="select__option" onClick="set_condition_type('condition4_selected_condition_type_func`+current_function_pos+`','Кнопки 1-Wire-2','func`+current_function_pos+`',`+current_function_pos+`,'condition4')">Кнопки 1-Wire-2</div>
									<div class="select__option" onClick="set_condition_type('condition4_selected_condition_type_func`+current_function_pos+`','Температура 1-Wire-3','func`+current_function_pos+`',`+current_function_pos+`,'condition4')">Температура 1-Wire-3</div>
								</div>
							</div>
							<div class="function__select select function__select_mini" style="" onClick="expand_list('condition4_select_condition_block_func`+current_function_pos+`')" id="condition4_condition_block_field_func`+current_function_pos+`">
								<div id="condition4_selected_condition_block_func`+current_function_pos+`">№ блока</div>
								<div class="select__posit" id="condition4_select_condition_block_func`+current_function_pos+`">
									`+condition4_block_list+`
								</div>
							</div>
							<div class="function__select select function__select_mini" style="" id="condition4_condition_input_field_func`+current_function_pos+`" onClick="expand_list('condition4_select_condition_input_func`+current_function_pos+`')">
								<div id="condition4_selected_condition_input_func`+current_function_pos+`">№ входа</div>
								<div class="select__posit" id="condition4_select_condition_input_func`+current_function_pos+`">
									`+condition4_input_list+`
								</div>
							</div>
							

							<div class="function__select select function__select_mini" id="condition4_condition_address_field_func`+current_function_pos+`" style="display: none;" onClick="expand_list('condition4_select_condition_address_func`+current_function_pos+`')">
								<div id="condition4_selected_condition_address_func`+current_function_pos+`">№ адреса</div>
								<div class="select__posit" id="condition4_select_condition_address_func`+current_function_pos+`">
									`+condition4_address_list+`
								</div>
							</div>
							
							<div class="function__inputs inputs function__inputs_mar" style="display: none;" id="condition4_condition_variable_field_func`+current_function_pos+`">
								<input type="text" name="name" class="inputs__inp input" value="" id="condition4_condition_variable_value_func`+current_function_pos+`" placeholder="№ перем.">
							</div>
							
							
							<div class="function__select select function__select_mini2" style="display:none" id="condition4_condition_state_field_func`+current_function_pos+`" onClick="expand_list('condition4_select_condition_state_func`+current_function_pos+`')">
								<div id="condition4_selected_condition_state_func`+current_function_pos+`">Выберите</div>
								<div class="select__posit" id="condition4_select_condition_state_func`+current_function_pos+`">
									<div class="select__option" onClick="set_condition_state('condition4_selected_condition_state_func`+current_function_pos+`','Активен','func`+current_function_pos+`','condition4')">Активен</div>
									<div class="select__option" onClick="set_condition_state('condition4_selected_condition_state_func`+current_function_pos+`','Не активен','func`+current_function_pos+`','condition4')">Не активен</div>
								</div>
							</div>
							
							
							<div class="function__select select" onClick="expand_list('condition4_select_condition_value_func`+current_function_pos+`')" id="condition4_condition_uslovie_field_func`+current_function_pos+`" style="display:none">
								<div id="condition4_selected_condition_value_func`+current_function_pos+`">Выберите условие</div>
								<div class="select__posit" id="condition4_select_condition_value_func`+current_function_pos+`">
									<div class="select__option" onClick="set_condition_value('condition4_selected_condition_value_func`+current_function_pos+`','Равно','func`+current_function_pos+`','condition4')">Равно</div>
									<div class="select__option" onClick="set_condition_value('condition4_selected_condition_value_func`+current_function_pos+`','Больше','func`+current_function_pos+`','condition4')">Больше</div>
									<div class="select__option" onClick="set_condition_value('condition4_selected_condition_value_func`+current_function_pos+`','Меньше','func`+current_function_pos+`','condition4')">Меньше</div>
									<div class="select__option" onClick="set_condition_value('condition4_selected_condition_value_func`+current_function_pos+`','Больше либо равно','func`+current_function_pos+`','condition4')">Больше либо равно</div>
									<div class="select__option" onClick="set_condition_value('condition4_selected_condition_value_func`+current_function_pos+`','Меньше либо равно','func`+current_function_pos+`','condition4')">Меньше либо равно</div>
									<div class="select__option" onClick="set_condition_value('condition4_selected_condition_value_func`+current_function_pos+`','Не равно','func`+current_function_pos+`','condition4')">Не равно</div>
									<div class="select__option" onClick="set_condition_value('condition4_selected_condition_value_func`+current_function_pos+`','В диапазоне','func`+current_function_pos+`','condition4')">В диапазоне</div>
									<div class="select__option" onClick="set_condition_value('condition4_selected_condition_value_func`+current_function_pos+`','Вне диапазона','func`+current_function_pos+`','condition4')">Вне диапазона</div>
								
								</div>
							</div>
							<!-- если  справа есть элемент то этот инпут -->
							<div class="function__inputs inputs function__inputs_mar" style="display: none;" id="condition4_condition_znach_func`+current_function_pos+`">
								<input type="text" name="name" class="inputs__inp input" id="condition4_condition_znach_value_func`+current_function_pos+`" placeholder="Значение">
							</div>
							<!--  -->

							<!--если нету, этот-->
							<div class="function__inputs inputs" style="display: none;" >
								<input type="text" name="name" class="inputs__inp input" placeholder="Значение">
							</div>
							<!-- -->

							<div class="function__inputs inputs" style="display: none;" id="condition4_condition_interval_func`+current_function_pos+`">
								<input type="text" name="name" class="inputs__inp input" id="condition4_condition_interval_from_func`+current_function_pos+`" placeholder="Мин. знач.">
								<input type="text" name="name" class="inputs__inp input" id="condition4_condition_interval_to_func`+current_function_pos+`" placeholder="Макс. знач.">
							</div>
						</div>
					</div>
					
					<!---------------конец условия 4----------------------------------------------------------->
					
					
					<!-------------------------------условие 5--------------------------------------------------------->
					<div class="function__row2" id="row_condition5_`+current_function_pos+`" style="display:none">
						
						<div class="function__in">
							<div class="function__select select" style="" onClick="expand_list('condition5_select_condition_type_func`+current_function_pos+`')">
								<div id="condition5_selected_condition_type_func`+current_function_pos+`">Выберите условие</div>
								<div class="select__posit" id="condition5_select_condition_type_func`+current_function_pos+`">
									<div class="select__option" onClick="set_condition_type('condition5_selected_condition_type_func`+current_function_pos+`','Дискретный вход','func`+current_function_pos+`',`+current_function_pos+`,'condition5')">Дискретный вход</div>
								<!---	<div class="select__option" onClick="set_condition_type('selected_condition_type_func`+current_function_pos+`','Дискретный выход','func`+current_function_pos+`',`+current_function_pos+`)">Дискретный выход</div> --->
									<div class="select__option" onClick="set_condition_type('condition5_selected_condition_type_func`+current_function_pos+`','Аналоговый вход','func`+current_function_pos+`',`+current_function_pos+`,'condition5')">Аналоговый вход</div>
								<!---	<div class="select__option" onClick="set_condition_type('selected_condition_type_func`+current_function_pos+`','Аналоговый выход','func`+current_function_pos+`',`+current_function_pos+`)">Аналоговый выход</div> --->
									<div class="select__option" onClick="set_condition_type('condition5_selected_condition_type_func`+current_function_pos+`','Внутренняя переменная','func`+current_function_pos+`',`+current_function_pos+`,'condition5')">Внутренняя переменная</div>
									<div class="select__option" onClick="set_condition_type('condition5_selected_condition_type_func`+current_function_pos+`','Ключи доступа 1-Wire-1','func`+current_function_pos+`',`+current_function_pos+`,'condition5')">Ключи доступа 1-Wire-1</div>
									<div class="select__option" onClick="set_condition_type('condition5_selected_condition_type_func`+current_function_pos+`','Кнопки 1-Wire-2','func`+current_function_pos+`',`+current_function_pos+`,'condition5')">Кнопки 1-Wire-2</div>
									<div class="select__option" onClick="set_condition_type('condition5_selected_condition_type_func`+current_function_pos+`','Температура 1-Wire-3','func`+current_function_pos+`',`+current_function_pos+`,'condition5')">Температура 1-Wire-3</div>
								</div>
							</div>
							<div class="function__select select function__select_mini" style="" onClick="expand_list('condition5_select_condition_block_func`+current_function_pos+`')" id="condition5_condition_block_field_func`+current_function_pos+`">
								<div id="condition5_selected_condition_block_func`+current_function_pos+`">№ блока</div>
								<div class="select__posit" id="condition5_select_condition_block_func`+current_function_pos+`">
									`+condition5_block_list+`
								</div>
							</div>
							<div class="function__select select function__select_mini" style="" id="condition5_condition_input_field_func`+current_function_pos+`" onClick="expand_list('condition5_select_condition_input_func`+current_function_pos+`')">
								<div id="condition5_selected_condition_input_func`+current_function_pos+`">№ входа</div>
								<div class="select__posit" id="condition5_select_condition_input_func`+current_function_pos+`">
									`+condition5_input_list+`
								</div>
							</div>
							

							<div class="function__select select function__select_mini" id="condition5_condition_address_field_func`+current_function_pos+`" style="display: none;" onClick="expand_list('condition5_select_condition_address_func`+current_function_pos+`')">
								<div id="condition5_selected_condition_address_func`+current_function_pos+`">№ адреса</div>
								<div class="select__posit" id="condition5_select_condition_address_func`+current_function_pos+`">
									`+condition5_address_list+`
								</div>
							</div>
							
							<div class="function__inputs inputs function__inputs_mar" style="display: none;" id="condition5_condition_variable_field_func`+current_function_pos+`">
								<input type="text" name="name" class="inputs__inp input" value="" id="condition5_condition_variable_value_func`+current_function_pos+`" placeholder="№ перем.">
							</div>
							
							
							<div class="function__select select function__select_mini2" style="display:none" id="condition5_condition_state_field_func`+current_function_pos+`" onClick="expand_list('condition5_select_condition_state_func`+current_function_pos+`')">
								<div id="condition5_selected_condition_state_func`+current_function_pos+`">Выберите</div>
								<div class="select__posit" id="condition5_select_condition_state_func`+current_function_pos+`">
									<div class="select__option" onClick="set_condition_state('condition5_selected_condition_state_func`+current_function_pos+`','Активен','func`+current_function_pos+`','condition5')">Активен</div>
									<div class="select__option" onClick="set_condition_state('condition5_selected_condition_state_func`+current_function_pos+`','Не активен','func`+current_function_pos+`','condition5')">Не активен</div>
								</div>
							</div>
							
							
							<div class="function__select select" onClick="expand_list('condition5_select_condition_value_func`+current_function_pos+`')" id="condition5_condition_uslovie_field_func`+current_function_pos+`" style="display:none">
								<div id="condition5_selected_condition_value_func`+current_function_pos+`">Выберите условие</div>
								<div class="select__posit" id="condition5_select_condition_value_func`+current_function_pos+`">
									<div class="select__option" onClick="set_condition_value('condition5_selected_condition_value_func`+current_function_pos+`','Равно','func`+current_function_pos+`','condition5')">Равно</div>
									<div class="select__option" onClick="set_condition_value('condition5_selected_condition_value_func`+current_function_pos+`','Больше','func`+current_function_pos+`','condition5')">Больше</div>
									<div class="select__option" onClick="set_condition_value('condition5_selected_condition_value_func`+current_function_pos+`','Меньше','func`+current_function_pos+`','condition5')">Меньше</div>
									<div class="select__option" onClick="set_condition_value('condition5_selected_condition_value_func`+current_function_pos+`','Больше либо равно','func`+current_function_pos+`','condition5')">Больше либо равно</div>
									<div class="select__option" onClick="set_condition_value('condition5_selected_condition_value_func`+current_function_pos+`','Меньше либо равно','func`+current_function_pos+`','condition5')">Меньше либо равно</div>
									<div class="select__option" onClick="set_condition_value('condition5_selected_condition_value_func`+current_function_pos+`','Не равно','func`+current_function_pos+`','condition5')">Не равно</div>
									<div class="select__option" onClick="set_condition_value('condition5_selected_condition_value_func`+current_function_pos+`','В диапазоне','func`+current_function_pos+`','condition5')">В диапазоне</div>
									<div class="select__option" onClick="set_condition_value('condition5_selected_condition_value_func`+current_function_pos+`','Вне диапазона','func`+current_function_pos+`','condition5')">Вне диапазона</div>
								
								</div>
							</div>
							<!-- если  справа есть элемент то этот инпут -->
							<div class="function__inputs inputs function__inputs_mar" style="display: none;" id="condition5_condition_znach_func`+current_function_pos+`">
								<input type="text" name="name" class="inputs__inp input" id="condition5_condition_znach_value_func`+current_function_pos+`" placeholder="Значение">
							</div>
							<!--  -->

							<!--если нету, этот-->
							<div class="function__inputs inputs" style="display: none;" >
								<input type="text" name="name" class="inputs__inp input" placeholder="Значение">
							</div>
							<!-- -->

							<div class="function__inputs inputs" style="display: none;" id="condition5_condition_interval_func`+current_function_pos+`">
								<input type="text" name="name" class="inputs__inp input" id="condition5_condition_interval_from_func`+current_function_pos+`" placeholder="Мин. знач.">
								<input type="text" name="name" class="inputs__inp input" id="condition5_condition_interval_to_func`+current_function_pos+`" placeholder="Макс. знач.">
							</div>
						</div>
					</div>
					
						<div class="function__btt1 button0" onClick="add_new_condition('`+current_function_pos+`')" id="add_condition_button_`+current_function_pos+`" style="margin-top:15px;padding-top:10px;display:block">Добавить условие</div>
						<div class="function__btt1 button0" onClick="del_new_condition('`+current_function_pos+`')" id="del_condition_button_`+current_function_pos+`" style="margin-top:15px;padding-top:10px;display:none">Удалить условие</div>
					
					<!---------------конец условия 5----------------------------------------------------------->
					
					
					<!------------------Действие 1------------------------------------------------------------>
					<div class="function__row3" id="action1_row" style="display:block">
						<div class="function__row-name">Действие</div>
						<div class="function__in">
							<div class="function__select select" onClick="expand_list('action1_select_action_func`+current_function_pos+`')">
								<div id="action1_selected_action_func`+current_function_pos+`">Выберите действие</div>
								<div class="select__posit" id="action1_select_action_func`+current_function_pos+`">
									<div class="select__option" onClick="set_action('action1_selected_action_func`+current_function_pos+`','Дискретный выход','func`+current_function_pos+`','action1_')">Дискретный выход</div>
									<div class="select__option" onClick="set_action('action1_selected_action_func`+current_function_pos+`','Аналоговый выход','func`+current_function_pos+`','action1_')">Аналоговый выход</div>
									<div class="select__option" onClick="set_action('action1_selected_action_func`+current_function_pos+`','Внутренняя переменная','func`+current_function_pos+`','action1_')">Внутренняя переменная</div>
								
								</div>
							</div>
							
							
							<div class="function__inputs function__inputs_mar inputs" style="display: none;" id="action1_action_variable_field_func`+current_function_pos+`">
								<input type="text" name="name" class="inputs__inp input" placeholder="№ перем." id="action1_action_variable_value_func`+current_function_pos+`">
							</div>
							
							
							<div class="function__select select function__select_mini" style="" id="action1_action_block_field_func`+current_function_pos+`" onClick="expand_list('action1_select_action_block_func`+current_function_pos+`')">
								<div id="action1_selected_action_block_func`+current_function_pos+`">№ блока</div>
								<div class="select__posit" id="action1_select_action_block_func`+current_function_pos+`">
									`+action1_block_list+`
								</div>
							</div>
							<div class="function__select select function__select_mini" style="" id="action1_action_output_field_func`+current_function_pos+`" onClick="expand_list('action1_select_action_output_func`+current_function_pos+`')">
								<div id="action1_selected_action_output_func`+current_function_pos+`">№ выхода</div>
								<div class="select__posit" id="action1_select_action_output_func`+current_function_pos+`">
									`+action1_output_list+`
								</div>
							</div>
							
							<div id="action1_action_znach_func`+current_function_pos+`" style="display:none">
							
							<table><tr><td>
								<div class="function__select function__select_mini4 select" style=""  onClick="expand_list('action1_select_action_do_func`+current_function_pos+`')">
									<div id="action1_selected_action_do_func`+current_function_pos+`">Выберите действие</div>
									<div class="select__posit" id="action1_select_action_do_func`+current_function_pos+`">
										<div class="select__option" onClick="set_action_do('action1_selected_action_do_func`+current_function_pos+`','Установить значение','func`+current_function_pos+`','action1_')">Установить значение</div>
										<div class="select__option" onClick="set_action_do('action1_selected_action_do_func`+current_function_pos+`','Изменить на','func`+current_function_pos+`','action1_')">Изменить на</div>
										<div class="select__option" onClick="set_action_do('action1_selected_action_do_func`+current_function_pos+`','Инвертировать','func`+current_function_pos+`','action1_')">Инвертировать</div>
										<!----<div class="select__option" onClick="set_action_do('selected_action_do_func`+current_function_pos+`','Повторить за','func`+current_function_pos+`')">Повторить за</div>
										--->
									</div>
								</div>
						
						</td><td>
							
								<div class="function__inputs inputs" style="" id="action1_action_znach_display_value_func`+current_function_pos+`">
									<input type="text" name="name" class="inputs__inp input" id="action1_znach_action_do_func`+current_function_pos+`" placeholder="Значение">
								</div>
								
						</td></tr></table>
							</div>
							
							<div class="function__select select function__select_mini6" style="display: none;" id="action1_action_state_func`+current_function_pos+`" onClick="expand_list('action1_select_action_state_func`+current_function_pos+`')">
								<div id="action1_selected_state_func`+current_function_pos+`">Выберите</div>
								<div class="select__posit" style="display: none;" id="action1_select_action_state_func`+current_function_pos+`">
									<div class="select__option" onClick="set_action_state('action1_selected_state_func`+current_function_pos+`','Активировать','func`+current_function_pos+`','action1_')">Активировать</div>
									<div class="select__option" onClick="set_action_state('action1_selected_state_func`+current_function_pos+`','Деактивировать','func`+current_function_pos+`','action1_')">Деактивировать</div>
									<div class="select__option" onClick="set_action_state('action1_selected_state_func`+current_function_pos+`','Инвертировать','func`+current_function_pos+`','action1_')">Инвертировать</div>
								</div>
							
							</div>
							
							<div class="function__inputs inputs" style="display:block" >
									<input type="text" name="name" id="action1_action_delay_func`+current_function_pos+`" class="inputs__inp input" placeholder="Задержка">
								</div>
								
							<div class="function__inputs inputs" style="display:block">
									<input type="text" name="name" class="inputs__inp input" id="action1_action_time_func`+current_function_pos+`" placeholder="Время">
								</div>

							<div class="function__inputs function__inputs_ort inputs" style="display:none">
								<div class="function__rel function__rel_mob">
									<div class="inputs__txt">через</div>
									<input type="text" name="name" id="delay_from_hour_action_func`+current_function_pos+`" class="inputs__inp-min inputs__inp-min_mar input" placeholder="Ч">
									<input type="text" name="name" id="delay_from_min_action_func`+current_function_pos+`" class="inputs__inp-min  input inputs__inp-min_mar" placeholder="М">
								</div>
								<div class="function__rel">
									<div class="inputs__txt">на</div>
									<input type="text" name="name" id="delay_to_hour_action_func`+current_function_pos+`" class="inputs__inp-min inputs__inp-min_mar input" placeholder="Ч">
									<input type="text" name="name" id="delay_to_min_action_func`+current_function_pos+`" class="inputs__inp-min input" placeholder="М">
								</div>
							</div>
 							<div class="function__select select function__select_mini5" style="display: none;">
								Выберите действие
								<div class="select__posit">
									<div class="select__option">Дискретный вход</div>
									<div class="select__option">Дискретный выход</div>
									<div class="select__option">Аналоговый вход</div>
									<div class="select__option">Аналоговый выход</div>
									<div class="select__option">Аналоговый вход</div>
									<div class="select__option">Внутр. переменная</div>
									<div class="select__option">Ключи доступа 1-Wire-1</div>
									<div class="select__option">Кнопки 1-Wire-2</div>
									<div class="select__option">Температура 1-Wire-3</div>
								</div>
							</div>
							<div class="function__select select function__select_mini3" style="display: none;">
								Выберите
								<div class="select__posit">
									<div class="select__option">=</div>
									<div class="select__option">+</div>
									<div class="select__option">-</div>
								</div>
							</div>

							
							
							<div class="function__select select function__select_mini3" style="display: none;">
								Выберите
								<div class="select__posit">
									<div class="select__option">0</div>
									<div class="select__option">100</div>
								</div>
							</div>
							<div class="function__select select function__select_mini" style="display: none;">
								№ блока
								<div class="select__posit">
									<div class="select__option">№ 123</div>
									<div class="select__option">№ 456</div>
									<div class="select__option">№ 789</div>
									<div class="select__option">№ 101</div>
									<div class="select__option">№ 125</div>
									<div class="select__option">№ 456</div>
									<div class="select__option">№ 289</div>
									<div class="select__option">№ 301</div>
								</div>
							</div>
							<!--
								класс function__select_right
								добовляем на крайне правые элементы ( убираем отступ )
							-->
							<div class="function__select select function__select_mini function__select_right" style="display: none;">
								№ входа
								<div class="select__posit">
									<div class="select__option">№ 123</div>
									<div class="select__option">№ 456</div>
									<div class="select__option">№ 789</div>
									<div class="select__option">№ 101</div>
									<div class="select__option">№ 125</div>
									<div class="select__option">№ 456</div>
									<div class="select__option">№ 289</div>
									<div class="select__option">№ 301</div>
								</div>
							</div>
							<div class="function__select select function__select_mini function__select_right" style="display: none;">
								№ выхода
								<div class="select__posit">
									<div class="select__option">№ 123</div>
									<div class="select__option">№ 456</div>
									<div class="select__option">№ 789</div>
									<div class="select__option">№ 101</div>
									<div class="select__option">№ 125</div>
									<div class="select__option">№ 456</div>
									<div class="select__option">№ 289</div>
									<div class="select__option">№ 301</div>
								</div>
							</div>
							<div class="function__select select function__select_mini function__select_right" style="display: none;">
								№ адреса
								<div class="select__posit">
									<div class="select__option">№ 123</div>
									<div class="select__option">№ 456</div>
									<div class="select__option">№ 789</div>
									<div class="select__option">№ 101</div>
									<div class="select__option">№ 125</div>
									<div class="select__option">№ 456</div>
									<div class="select__option">№ 289</div>
									<div class="select__option">№ 301</div>
								</div>
							</div>
							
							<div class="function__select" style="display: none;">
								<input type="text" name="name" class="function__inp-max input" placeholder="Введите текст">
							</div>
							<div class="function__select" style="display: none;">
								<input type="text" name="name" class="function__inp-max input" placeholder="Номер телефона">
							</div>
							<div class="function__select function__message" style="display: none;">
								<div class="function__btt-mess button1">Отправить</div>
								<div class="function__btt-mess button0">Тест-сообщение</div>
							</div>
							<div class="function__select function__message" style="display: none;">
								<div class="function__btt-mess function__btt-mess_gree button1">Отправлено</div>
							</div>
							<div class="function__select function__message" style="display: none;">
								<div class="function__btt-mess function__btt-mess_orange button1">Не отправлено</div>
							</div>
							<div class="function__select function__message" style="display: none;">
								<div class="function__btt-mess button1">Отправить</div>
								<div class="function__btt-mess function__btt-mess_gree1 button0">Отправлено</div>
							</div>
							<div class="function__select function__message" style="display: none;">
								<div class="function__btt-mess button1">Отправить</div>
								<div class="function__btt-mess function__btt-mess_orange1 button0">Не отправлено</div>
							</div>
						</div>
						<div class="function__in" style="display: none;">
							<div class="function__inputs function__inputs_ort inputs">
								<div class="function__rel function__rel_mob">
									<div class="inputs__txt">через</div>
									<input type="text" name="name" class="inputs__inp-min inputs__inp-min_mar input" placeholder="Ч">
									<input type="text" name="name" class="inputs__inp-min  input inputs__inp-min_mar" placeholder="М">
								</div>
								<div class="function__rel">
									<div class="inputs__txt">на</div>
									<input type="text" name="name" class="inputs__inp-min inputs__inp-min_mar input" placeholder="Ч">
									<input type="text" name="name" class="inputs__inp-min input" placeholder="М">
								</div>
							</div>
						</div>
						
						<div class="function__inputs inputs function__inputs_mar" style="display: none;">
							<input type="text" name="name" class="inputs__inp input" placeholder="№ перем.">
						</div>
					</div>
					
					<!---------------действие 2 ----------------------------------------->
					
					<div class="function__row3" id="row_action2_`+current_function_pos+`" style="display:none">
						<div class="function__row-name"></div>
						<div class="function__in">
							<div class="function__select select" onClick="expand_list('action2_select_action_func`+current_function_pos+`')">
								<div id="action2_selected_action_func`+current_function_pos+`">Выберите действие</div>
								<div class="select__posit" id="action2_select_action_func`+current_function_pos+`">
									<div class="select__option" onClick="set_action('action2_selected_action_func`+current_function_pos+`','Дискретный выход','func`+current_function_pos+`','action2_')">Дискретный выход</div>
									<div class="select__option" onClick="set_action('action2_selected_action_func`+current_function_pos+`','Аналоговый выход','func`+current_function_pos+`','action2_')">Аналоговый выход</div>
									<div class="select__option" onClick="set_action('action2_selected_action_func`+current_function_pos+`','Внутренняя переменная','func`+current_function_pos+`','action2_')">Внутренняя переменная</div>
								
								</div>
							</div>
							
							
							<div class="function__inputs function__inputs_mar inputs" style="display: none;" id="action2_action_variable_field_func`+current_function_pos+`">
								<input type="text" name="name" class="inputs__inp input" placeholder="№ перем." id="action2_action_variable_value_func`+current_function_pos+`">
							</div>
							
							
							<div class="function__select select function__select_mini" style="" id="action2_action_block_field_func`+current_function_pos+`" onClick="expand_list('action2_select_action_block_func`+current_function_pos+`')">
								<div id="action2_selected_action_block_func`+current_function_pos+`">№ блока</div>
								<div class="select__posit" id="action2_select_action_block_func`+current_function_pos+`">
									`+action2_block_list+`
								</div>
							</div>
							<div class="function__select select function__select_mini" style="" id="action2_action_output_field_func`+current_function_pos+`" onClick="expand_list('action2_select_action_output_func`+current_function_pos+`')">
								<div id="action2_selected_action_output_func`+current_function_pos+`">№ выхода</div>
								<div class="select__posit" id="action2_select_action_output_func`+current_function_pos+`">
									`+action2_output_list+`
								</div>
							</div>
							
							<div id="action2_action_znach_func`+current_function_pos+`" style="display:none">
							
							<table><tr><td>
								<div class="function__select function__select_mini4 select" style=""  onClick="expand_list('action2_select_action_do_func`+current_function_pos+`')">
									<div id="action2_selected_action_do_func`+current_function_pos+`">Выберите действие</div>
									<div class="select__posit" id="action2_select_action_do_func`+current_function_pos+`">
										<div class="select__option" onClick="set_action_do('action2_selected_action_do_func`+current_function_pos+`','Установить значение','func`+current_function_pos+`','action2_')">Установить значение</div>
										<div class="select__option" onClick="set_action_do('action2_selected_action_do_func`+current_function_pos+`','Изменить на','func`+current_function_pos+`','action2_')">Изменить на</div>
										<div class="select__option" onClick="set_action_do('action2_selected_action_do_func`+current_function_pos+`','Инвертировать','func`+current_function_pos+`','action2_')">Инвертировать</div>
										<!----<div class="select__option" onClick="set_action_do('selected_action_do_func`+current_function_pos+`','Повторить за','func`+current_function_pos+`')">Повторить за</div>
										--->
									</div>
								</div>
						
						</td><td>
							
								<div class="function__inputs inputs"  style="" id="action2_action_znach_display_value_func`+current_function_pos+`">
									<input type="text" name="name" class="inputs__inp input" id="action2_znach_action_do_func`+current_function_pos+`" placeholder="Значение">
								</div>
								
						</td></tr></table>
							</div>
							
							<div class="function__select select function__select_mini6" style="display: none;" id="action2_action_state_func`+current_function_pos+`" onClick="expand_list('action2_select_action_state_func`+current_function_pos+`')">
								<div id="action2_selected_state_func`+current_function_pos+`">Выберите</div>
								<div class="select__posit" style="display: none;" id="action2_select_action_state_func`+current_function_pos+`">
									<div class="select__option" onClick="set_action_state('action2_selected_state_func`+current_function_pos+`','Активировать','func`+current_function_pos+`','action2_')">Активировать</div>
									<div class="select__option" onClick="set_action_state('action2_selected_state_func`+current_function_pos+`','Деактивировать','func`+current_function_pos+`','action2_')">Деактивировать</div>
									<div class="select__option" onClick="set_action_state('action2_selected_state_func`+current_function_pos+`','Инвертировать','func`+current_function_pos+`','action2_')">Инвертировать</div>
								</div>
							
							</div>
							
							<div class="function__inputs inputs" style="display:block" >
									<input type="text" name="name" id="action2_action_delay_func`+current_function_pos+`" class="inputs__inp input" placeholder="Задержка">
								</div>
								
							<div class="function__inputs inputs" style="display:block">
									<input type="text" name="name" class="inputs__inp input" id="action2_action_time_func`+current_function_pos+`" placeholder="Время">
								</div>

							<div class="function__inputs function__inputs_ort inputs" style="display:none">
								<div class="function__rel function__rel_mob">
									<div class="inputs__txt">через</div>
									<input type="text" name="name" id="delay_from_hour_action_func`+current_function_pos+`" class="inputs__inp-min inputs__inp-min_mar input" placeholder="Ч">
									<input type="text" name="name" id="delay_from_min_action_func`+current_function_pos+`" class="inputs__inp-min  input inputs__inp-min_mar" placeholder="М">
								</div>
								<div class="function__rel">
									<div class="inputs__txt">на</div>
									<input type="text" name="name" id="delay_to_hour_action_func`+current_function_pos+`" class="inputs__inp-min inputs__inp-min_mar input" placeholder="Ч">
									<input type="text" name="name" id="delay_to_min_action_func`+current_function_pos+`" class="inputs__inp-min input" placeholder="М">
								</div>
							</div>
 							<div class="function__select select function__select_mini5" style="display: none;">
								Выберите действие
								<div class="select__posit">
									<div class="select__option">Дискретный вход</div>
									<div class="select__option">Дискретный выход</div>
									<div class="select__option">Аналоговый вход</div>
									<div class="select__option">Аналоговый выход</div>
									<div class="select__option">Аналоговый вход</div>
									<div class="select__option">Внутр. переменная</div>
									<div class="select__option">Ключи доступа 1-Wire-1</div>
									<div class="select__option">Кнопки 1-Wire-2</div>
									<div class="select__option">Температура 1-Wire-3</div>
								</div>
							</div>
							<div class="function__select select function__select_mini3" style="display: none;">
								Выберите
								<div class="select__posit">
									<div class="select__option">=</div>
									<div class="select__option">+</div>
									<div class="select__option">-</div>
								</div>
							</div>

							
							
							<div class="function__select select function__select_mini3" style="display: none;">
								Выберите
								<div class="select__posit">
									<div class="select__option">0</div>
									<div class="select__option">100</div>
								</div>
							</div>
							<div class="function__select select function__select_mini" style="display: none;">
								№ блока
								<div class="select__posit">
									<div class="select__option">№ 123</div>
									<div class="select__option">№ 456</div>
									<div class="select__option">№ 789</div>
									<div class="select__option">№ 101</div>
									<div class="select__option">№ 125</div>
									<div class="select__option">№ 456</div>
									<div class="select__option">№ 289</div>
									<div class="select__option">№ 301</div>
								</div>
							</div>
							<!--
								класс function__select_right
								добовляем на крайне правые элементы ( убираем отступ )
							-->
							<div class="function__select select function__select_mini function__select_right" style="display: none;">
								№ входа
								<div class="select__posit">
									<div class="select__option">№ 123</div>
									<div class="select__option">№ 456</div>
									<div class="select__option">№ 789</div>
									<div class="select__option">№ 101</div>
									<div class="select__option">№ 125</div>
									<div class="select__option">№ 456</div>
									<div class="select__option">№ 289</div>
									<div class="select__option">№ 301</div>
								</div>
							</div>
							<div class="function__select select function__select_mini function__select_right" style="display: none;">
								№ выхода
								<div class="select__posit">
									<div class="select__option">№ 123</div>
									<div class="select__option">№ 456</div>
									<div class="select__option">№ 789</div>
									<div class="select__option">№ 101</div>
									<div class="select__option">№ 125</div>
									<div class="select__option">№ 456</div>
									<div class="select__option">№ 289</div>
									<div class="select__option">№ 301</div>
								</div>
							</div>
							<div class="function__select select function__select_mini function__select_right" style="display: none;">
								№ адреса
								<div class="select__posit">
									<div class="select__option">№ 123</div>
									<div class="select__option">№ 456</div>
									<div class="select__option">№ 789</div>
									<div class="select__option">№ 101</div>
									<div class="select__option">№ 125</div>
									<div class="select__option">№ 456</div>
									<div class="select__option">№ 289</div>
									<div class="select__option">№ 301</div>
								</div>
							</div>
							
							<div class="function__select" style="display: none;">
								<input type="text" name="name" class="function__inp-max input" placeholder="Введите текст">
							</div>
							<div class="function__select" style="display: none;">
								<input type="text" name="name" class="function__inp-max input" placeholder="Номер телефона">
							</div>
							<div class="function__select function__message" style="display: none;">
								<div class="function__btt-mess button1">Отправить</div>
								<div class="function__btt-mess button0">Тест-сообщение</div>
							</div>
							<div class="function__select function__message" style="display: none;">
								<div class="function__btt-mess function__btt-mess_gree button1">Отправлено</div>
							</div>
							<div class="function__select function__message" style="display: none;">
								<div class="function__btt-mess function__btt-mess_orange button1">Не отправлено</div>
							</div>
							<div class="function__select function__message" style="display: none;">
								<div class="function__btt-mess button1">Отправить</div>
								<div class="function__btt-mess function__btt-mess_gree1 button0">Отправлено</div>
							</div>
							<div class="function__select function__message" style="display: none;">
								<div class="function__btt-mess button1">Отправить</div>
								<div class="function__btt-mess function__btt-mess_orange1 button0">Не отправлено</div>
							</div>
						</div>
						<div class="function__in" style="display: none;">
							<div class="function__inputs function__inputs_ort inputs">
								<div class="function__rel function__rel_mob">
									<div class="inputs__txt">через</div>
									<input type="text" name="name" class="inputs__inp-min inputs__inp-min_mar input" placeholder="Ч">
									<input type="text" name="name" class="inputs__inp-min  input inputs__inp-min_mar" placeholder="М">
								</div>
								<div class="function__rel">
									<div class="inputs__txt">на</div>
									<input type="text" name="name" class="inputs__inp-min inputs__inp-min_mar input" placeholder="Ч">
									<input type="text" name="name" class="inputs__inp-min input" placeholder="М">
								</div>
							</div>
						</div>
						
						<div class="function__inputs inputs function__inputs_mar" style="display: none;">
							<input type="text" name="name" class="inputs__inp input" placeholder="№ перем.">
						</div>
					</div>
					<!------------------------------------------------------------------------------->
					
					<!---------------действие 3 ----------------------------------------->
					
					<div class="function__row3" id="row_action3_`+current_function_pos+`" style="display:none">
						<div class="function__row-name"></div>
						<div class="function__in">
							<div class="function__select select" onClick="expand_list('action3_select_action_func`+current_function_pos+`')">
								<div id="action3_selected_action_func`+current_function_pos+`">Выберите действие</div>
								<div class="select__posit" id="action3_select_action_func`+current_function_pos+`">
									<div class="select__option" onClick="set_action('action3_selected_action_func`+current_function_pos+`','Дискретный выход','func`+current_function_pos+`','action3_')">Дискретный выход</div>
									<div class="select__option" onClick="set_action('action3_selected_action_func`+current_function_pos+`','Аналоговый выход','func`+current_function_pos+`','action3_')">Аналоговый выход</div>
									<div class="select__option" onClick="set_action('action3_selected_action_func`+current_function_pos+`','Внутренняя переменная','func`+current_function_pos+`','action3_')">Внутренняя переменная</div>
								
								</div>
							</div>
							
							
							<div class="function__inputs function__inputs_mar inputs" style="display: none;" id="action3_action_variable_field_func`+current_function_pos+`">
								<input type="text" name="name" class="inputs__inp input" placeholder="№ перем." id="action3_action_variable_value_func`+current_function_pos+`">
							</div>
							
							
							<div class="function__select select function__select_mini" style="" id="action3_action_block_field_func`+current_function_pos+`" onClick="expand_list('action3_select_action_block_func`+current_function_pos+`')">
								<div id="action3_selected_action_block_func`+current_function_pos+`">№ блока</div>
								<div class="select__posit" id="action3_select_action_block_func`+current_function_pos+`">
									`+action3_block_list+`
								</div>
							</div>
							<div class="function__select select function__select_mini" style="" id="action3_action_output_field_func`+current_function_pos+`" onClick="expand_list('action3_select_action_output_func`+current_function_pos+`')">
								<div id="action3_selected_action_output_func`+current_function_pos+`">№ выхода</div>
								<div class="select__posit" id="action3_select_action_output_func`+current_function_pos+`">
									`+action3_output_list+`
								</div>
							</div>
							
							<div id="action3_action_znach_func`+current_function_pos+`" style="display:none">
							
							<table><tr><td>
								<div class="function__select function__select_mini4 select" style=""  onClick="expand_list('action3_select_action_do_func`+current_function_pos+`')">
									<div id="action3_selected_action_do_func`+current_function_pos+`">Выберите действие</div>
									<div class="select__posit" id="action3_select_action_do_func`+current_function_pos+`">
										<div class="select__option" onClick="set_action_do('action3_selected_action_do_func`+current_function_pos+`','Установить значение','func`+current_function_pos+`','action3_')">Установить значение</div>
										<div class="select__option" onClick="set_action_do('action3_selected_action_do_func`+current_function_pos+`','Изменить на','func`+current_function_pos+`','action3_')">Изменить на</div>
										<div class="select__option" onClick="set_action_do('action3_selected_action_do_func`+current_function_pos+`','Инвертировать','func`+current_function_pos+`','action3_')">Инвертировать</div>
										<!----<div class="select__option" onClick="set_action_do('selected_action_do_func`+current_function_pos+`','Повторить за','func`+current_function_pos+`')">Повторить за</div>
										--->
									</div>
								</div>
						
						</td><td>
							
								<div class="function__inputs inputs"  style="" id="action3_action_znach_display_value_func`+current_function_pos+`">
									<input type="text" name="name" class="inputs__inp input" id="action3_znach_action_do_func`+current_function_pos+`" placeholder="Значение">
								</div>
								
						</td></tr></table>
							</div>
							
							<div class="function__select select function__select_mini6" style="display: none;" id="action3_action_state_func`+current_function_pos+`" onClick="expand_list('action3_select_action_state_func`+current_function_pos+`')">
								<div id="action3_selected_state_func`+current_function_pos+`">Выберите</div>
								<div class="select__posit" style="display: none;" id="action3_select_action_state_func`+current_function_pos+`">
									<div class="select__option" onClick="set_action_state('action3_selected_state_func`+current_function_pos+`','Активировать','func`+current_function_pos+`','action3_')">Активировать</div>
									<div class="select__option" onClick="set_action_state('action3_selected_state_func`+current_function_pos+`','Деактивировать','func`+current_function_pos+`','action3_')">Деактивировать</div>
									<div class="select__option" onClick="set_action_state('action3_selected_state_func`+current_function_pos+`','Инвертировать','func`+current_function_pos+`','action3_')">Инвертировать</div>
								</div>
							
							</div>
							
							<div class="function__inputs inputs" style="display:block" >
									<input type="text" name="name" id="action3_action_delay_func`+current_function_pos+`" class="inputs__inp input" placeholder="Задержка">
								</div>
								
							<div class="function__inputs inputs" style="display:block">
									<input type="text" name="name" class="inputs__inp input" id="action3_action_time_func`+current_function_pos+`" placeholder="Время">
								</div>

							<div class="function__inputs function__inputs_ort inputs" style="display:none">
								<div class="function__rel function__rel_mob">
									<div class="inputs__txt">через</div>
									<input type="text" name="name" id="delay_from_hour_action_func`+current_function_pos+`" class="inputs__inp-min inputs__inp-min_mar input" placeholder="Ч">
									<input type="text" name="name" id="delay_from_min_action_func`+current_function_pos+`" class="inputs__inp-min  input inputs__inp-min_mar" placeholder="М">
								</div>
								<div class="function__rel">
									<div class="inputs__txt">на</div>
									<input type="text" name="name" id="delay_to_hour_action_func`+current_function_pos+`" class="inputs__inp-min inputs__inp-min_mar input" placeholder="Ч">
									<input type="text" name="name" id="delay_to_min_action_func`+current_function_pos+`" class="inputs__inp-min input" placeholder="М">
								</div>
							</div>
 							<div class="function__select select function__select_mini5" style="display: none;">
								Выберите действие
								<div class="select__posit">
									<div class="select__option">Дискретный вход</div>
									<div class="select__option">Дискретный выход</div>
									<div class="select__option">Аналоговый вход</div>
									<div class="select__option">Аналоговый выход</div>
									<div class="select__option">Аналоговый вход</div>
									<div class="select__option">Внутр. переменная</div>
									<div class="select__option">Ключи доступа 1-Wire-1</div>
									<div class="select__option">Кнопки 1-Wire-2</div>
									<div class="select__option">Температура 1-Wire-3</div>
								</div>
							</div>
							<div class="function__select select function__select_mini3" style="display: none;">
								Выберите
								<div class="select__posit">
									<div class="select__option">=</div>
									<div class="select__option">+</div>
									<div class="select__option">-</div>
								</div>
							</div>

							
							
							<div class="function__select select function__select_mini3" style="display: none;">
								Выберите
								<div class="select__posit">
									<div class="select__option">0</div>
									<div class="select__option">100</div>
								</div>
							</div>
							<div class="function__select select function__select_mini" style="display: none;">
								№ блока
								<div class="select__posit">
									<div class="select__option">№ 123</div>
									<div class="select__option">№ 456</div>
									<div class="select__option">№ 789</div>
									<div class="select__option">№ 101</div>
									<div class="select__option">№ 125</div>
									<div class="select__option">№ 456</div>
									<div class="select__option">№ 289</div>
									<div class="select__option">№ 301</div>
								</div>
							</div>
							<!--
								класс function__select_right
								добовляем на крайне правые элементы ( убираем отступ )
							-->
							<div class="function__select select function__select_mini function__select_right" style="display: none;">
								№ входа
								<div class="select__posit">
									<div class="select__option">№ 123</div>
									<div class="select__option">№ 456</div>
									<div class="select__option">№ 789</div>
									<div class="select__option">№ 101</div>
									<div class="select__option">№ 125</div>
									<div class="select__option">№ 456</div>
									<div class="select__option">№ 289</div>
									<div class="select__option">№ 301</div>
								</div>
							</div>
							<div class="function__select select function__select_mini function__select_right" style="display: none;">
								№ выхода
								<div class="select__posit">
									<div class="select__option">№ 123</div>
									<div class="select__option">№ 456</div>
									<div class="select__option">№ 789</div>
									<div class="select__option">№ 101</div>
									<div class="select__option">№ 125</div>
									<div class="select__option">№ 456</div>
									<div class="select__option">№ 289</div>
									<div class="select__option">№ 301</div>
								</div>
							</div>
							<div class="function__select select function__select_mini function__select_right" style="display: none;">
								№ адреса
								<div class="select__posit">
									<div class="select__option">№ 123</div>
									<div class="select__option">№ 456</div>
									<div class="select__option">№ 789</div>
									<div class="select__option">№ 101</div>
									<div class="select__option">№ 125</div>
									<div class="select__option">№ 456</div>
									<div class="select__option">№ 289</div>
									<div class="select__option">№ 301</div>
								</div>
							</div>
							
							<div class="function__select" style="display: none;">
								<input type="text" name="name" class="function__inp-max input" placeholder="Введите текст">
							</div>
							<div class="function__select" style="display: none;">
								<input type="text" name="name" class="function__inp-max input" placeholder="Номер телефона">
							</div>
							<div class="function__select function__message" style="display: none;">
								<div class="function__btt-mess button1">Отправить</div>
								<div class="function__btt-mess button0">Тест-сообщение</div>
							</div>
							<div class="function__select function__message" style="display: none;">
								<div class="function__btt-mess function__btt-mess_gree button1">Отправлено</div>
							</div>
							<div class="function__select function__message" style="display: none;">
								<div class="function__btt-mess function__btt-mess_orange button1">Не отправлено</div>
							</div>
							<div class="function__select function__message" style="display: none;">
								<div class="function__btt-mess button1">Отправить</div>
								<div class="function__btt-mess function__btt-mess_gree1 button0">Отправлено</div>
							</div>
							<div class="function__select function__message" style="display: none;">
								<div class="function__btt-mess button1">Отправить</div>
								<div class="function__btt-mess function__btt-mess_orange1 button0">Не отправлено</div>
							</div>
						</div>
						<div class="function__in" style="display: none;">
							<div class="function__inputs function__inputs_ort inputs">
								<div class="function__rel function__rel_mob">
									<div class="inputs__txt">через</div>
									<input type="text" name="name" class="inputs__inp-min inputs__inp-min_mar input" placeholder="Ч">
									<input type="text" name="name" class="inputs__inp-min  input inputs__inp-min_mar" placeholder="М">
								</div>
								<div class="function__rel">
									<div class="inputs__txt">на</div>
									<input type="text" name="name" class="inputs__inp-min inputs__inp-min_mar input" placeholder="Ч">
									<input type="text" name="name" class="inputs__inp-min input" placeholder="М">
								</div>
							</div>
						</div>
						
						<div class="function__inputs inputs function__inputs_mar" style="display: none;">
							<input type="text" name="name" class="inputs__inp input" placeholder="№ перем.">
						</div>
					</div>
					<!------------------------------------------------------------------------------->
					
					<!---------------действие 4 ----------------------------------------->
					
					<div class="function__row3" id="row_action4_`+current_function_pos+`" style="display:none">
						<div class="function__row-name"></div>
						<div class="function__in">
							<div class="function__select select" onClick="expand_list('action4_select_action_func`+current_function_pos+`')">
								<div id="action4_selected_action_func`+current_function_pos+`">Выберите действие</div>
								<div class="select__posit" id="action4_select_action_func`+current_function_pos+`">
									<div class="select__option" onClick="set_action('action4_selected_action_func`+current_function_pos+`','Дискретный выход','func`+current_function_pos+`','action4_')">Дискретный выход</div>
									<div class="select__option" onClick="set_action('action4_selected_action_func`+current_function_pos+`','Аналоговый выход','func`+current_function_pos+`','action4_')">Аналоговый выход</div>
									<div class="select__option" onClick="set_action('action4_selected_action_func`+current_function_pos+`','Внутренняя переменная','func`+current_function_pos+`','action4_')">Внутренняя переменная</div>
								
								</div>
							</div>
							
							
							<div class="function__inputs function__inputs_mar inputs" style="display: none;" id="action4_action_variable_field_func`+current_function_pos+`">
								<input type="text" name="name" class="inputs__inp input" placeholder="№ перем." id="action4_action_variable_value_func`+current_function_pos+`">
							</div>
							
							
							<div class="function__select select function__select_mini" style="" id="action4_action_block_field_func`+current_function_pos+`" onClick="expand_list('action4_select_action_block_func`+current_function_pos+`')">
								<div id="action4_selected_action_block_func`+current_function_pos+`">№ блока</div>
								<div class="select__posit" id="action4_select_action_block_func`+current_function_pos+`">
									`+action4_block_list+`
								</div>
							</div>
							<div class="function__select select function__select_mini" style="" id="action4_action_output_field_func`+current_function_pos+`" onClick="expand_list('action4_select_action_output_func`+current_function_pos+`')">
								<div id="action4_selected_action_output_func`+current_function_pos+`">№ выхода</div>
								<div class="select__posit" id="action4_select_action_output_func`+current_function_pos+`">
									`+action4_output_list+`
								</div>
							</div>
							
							<div id="action4_action_znach_func`+current_function_pos+`" style="display:none">
							
							<table><tr><td>
								<div class="function__select function__select_mini4 select" style=""  onClick="expand_list('action4_select_action_do_func`+current_function_pos+`')">
									<div id="action4_selected_action_do_func`+current_function_pos+`">Выберите действие</div>
									<div class="select__posit" id="action4_select_action_do_func`+current_function_pos+`">
										<div class="select__option" onClick="set_action_do('action4_selected_action_do_func`+current_function_pos+`','Установить значение','func`+current_function_pos+`','action4_')">Установить значение</div>
										<div class="select__option" onClick="set_action_do('action4_selected_action_do_func`+current_function_pos+`','Изменить на','func`+current_function_pos+`','action4_')">Изменить на</div>
										<div class="select__option" onClick="set_action_do('action4_selected_action_do_func`+current_function_pos+`','Инвертировать','func`+current_function_pos+`','action4_')">Инвертировать</div>
										<!----<div class="select__option" onClick="set_action_do('selected_action_do_func`+current_function_pos+`','Повторить за','func`+current_function_pos+`')">Повторить за</div>
										--->
									</div>
								</div>
						
						</td><td>
							
								<div class="function__inputs inputs"  style="" id="action4_action_znach_display_value_func`+current_function_pos+`">
									<input type="text" name="name" class="inputs__inp input" id="action4_znach_action_do_func`+current_function_pos+`" placeholder="Значение">
								</div>
								
						</td></tr></table>
							</div>
							
							<div class="function__select select function__select_mini6" style="display: none;" id="action4_action_state_func`+current_function_pos+`" onClick="expand_list('action4_select_action_state_func`+current_function_pos+`')">
								<div id="action4_selected_state_func`+current_function_pos+`">Выберите</div>
								<div class="select__posit" style="display: none;" id="action4_select_action_state_func`+current_function_pos+`">
									<div class="select__option" onClick="set_action_state('action4_selected_state_func`+current_function_pos+`','Активировать','func`+current_function_pos+`','action4_')">Активировать</div>
									<div class="select__option" onClick="set_action_state('action4_selected_state_func`+current_function_pos+`','Деактивировать','func`+current_function_pos+`','action4_')">Деактивировать</div>
									<div class="select__option" onClick="set_action_state('action4_selected_state_func`+current_function_pos+`','Инвертировать','func`+current_function_pos+`','action4_')">Инвертировать</div>
								</div>
							
							</div>
							
							<div class="function__inputs inputs" style="display:block" >
									<input type="text" name="name" id="action4_action_delay_func`+current_function_pos+`" class="inputs__inp input" placeholder="Задержка">
								</div>
								
							<div class="function__inputs inputs" style="display:block">
									<input type="text" name="name" class="inputs__inp input" id="action4_action_time_func`+current_function_pos+`" placeholder="Время">
								</div>

							<div class="function__inputs function__inputs_ort inputs" style="display:none">
								<div class="function__rel function__rel_mob">
									<div class="inputs__txt">через</div>
									<input type="text" name="name" id="delay_from_hour_action_func`+current_function_pos+`" class="inputs__inp-min inputs__inp-min_mar input" placeholder="Ч">
									<input type="text" name="name" id="delay_from_min_action_func`+current_function_pos+`" class="inputs__inp-min  input inputs__inp-min_mar" placeholder="М">
								</div>
								<div class="function__rel">
									<div class="inputs__txt">на</div>
									<input type="text" name="name" id="delay_to_hour_action_func`+current_function_pos+`" class="inputs__inp-min inputs__inp-min_mar input" placeholder="Ч">
									<input type="text" name="name" id="delay_to_min_action_func`+current_function_pos+`" class="inputs__inp-min input" placeholder="М">
								</div>
							</div>
 							<div class="function__select select function__select_mini5" style="display: none;">
								Выберите действие
								<div class="select__posit">
									<div class="select__option">Дискретный вход</div>
									<div class="select__option">Дискретный выход</div>
									<div class="select__option">Аналоговый вход</div>
									<div class="select__option">Аналоговый выход</div>
									<div class="select__option">Аналоговый вход</div>
									<div class="select__option">Внутр. переменная</div>
									<div class="select__option">Ключи доступа 1-Wire-1</div>
									<div class="select__option">Кнопки 1-Wire-2</div>
									<div class="select__option">Температура 1-Wire-3</div>
								</div>
							</div>
							<div class="function__select select function__select_mini3" style="display: none;">
								Выберите
								<div class="select__posit">
									<div class="select__option">=</div>
									<div class="select__option">+</div>
									<div class="select__option">-</div>
								</div>
							</div>

							
							
							<div class="function__select select function__select_mini3" style="display: none;">
								Выберите
								<div class="select__posit">
									<div class="select__option">0</div>
									<div class="select__option">100</div>
								</div>
							</div>
							<div class="function__select select function__select_mini" style="display: none;">
								№ блока
								<div class="select__posit">
									<div class="select__option">№ 123</div>
									<div class="select__option">№ 456</div>
									<div class="select__option">№ 789</div>
									<div class="select__option">№ 101</div>
									<div class="select__option">№ 125</div>
									<div class="select__option">№ 456</div>
									<div class="select__option">№ 289</div>
									<div class="select__option">№ 301</div>
								</div>
							</div>
							<!--
								класс function__select_right
								добовляем на крайне правые элементы ( убираем отступ )
							-->
							<div class="function__select select function__select_mini function__select_right" style="display: none;">
								№ входа
								<div class="select__posit">
									<div class="select__option">№ 123</div>
									<div class="select__option">№ 456</div>
									<div class="select__option">№ 789</div>
									<div class="select__option">№ 101</div>
									<div class="select__option">№ 125</div>
									<div class="select__option">№ 456</div>
									<div class="select__option">№ 289</div>
									<div class="select__option">№ 301</div>
								</div>
							</div>
							<div class="function__select select function__select_mini function__select_right" style="display: none;">
								№ выхода
								<div class="select__posit">
									<div class="select__option">№ 123</div>
									<div class="select__option">№ 456</div>
									<div class="select__option">№ 789</div>
									<div class="select__option">№ 101</div>
									<div class="select__option">№ 125</div>
									<div class="select__option">№ 456</div>
									<div class="select__option">№ 289</div>
									<div class="select__option">№ 301</div>
								</div>
							</div>
							<div class="function__select select function__select_mini function__select_right" style="display: none;">
								№ адреса
								<div class="select__posit">
									<div class="select__option">№ 123</div>
									<div class="select__option">№ 456</div>
									<div class="select__option">№ 789</div>
									<div class="select__option">№ 101</div>
									<div class="select__option">№ 125</div>
									<div class="select__option">№ 456</div>
									<div class="select__option">№ 289</div>
									<div class="select__option">№ 301</div>
								</div>
							</div>
							
							<div class="function__select" style="display: none;">
								<input type="text" name="name" class="function__inp-max input" placeholder="Введите текст">
							</div>
							<div class="function__select" style="display: none;">
								<input type="text" name="name" class="function__inp-max input" placeholder="Номер телефона">
							</div>
							<div class="function__select function__message" style="display: none;">
								<div class="function__btt-mess button1">Отправить</div>
								<div class="function__btt-mess button0">Тест-сообщение</div>
							</div>
							<div class="function__select function__message" style="display: none;">
								<div class="function__btt-mess function__btt-mess_gree button1">Отправлено</div>
							</div>
							<div class="function__select function__message" style="display: none;">
								<div class="function__btt-mess function__btt-mess_orange button1">Не отправлено</div>
							</div>
							<div class="function__select function__message" style="display: none;">
								<div class="function__btt-mess button1">Отправить</div>
								<div class="function__btt-mess function__btt-mess_gree1 button0">Отправлено</div>
							</div>
							<div class="function__select function__message" style="display: none;">
								<div class="function__btt-mess button1">Отправить</div>
								<div class="function__btt-mess function__btt-mess_orange1 button0">Не отправлено</div>
							</div>
						</div>
						<div class="function__in" style="display: none;">
							<div class="function__inputs function__inputs_ort inputs">
								<div class="function__rel function__rel_mob">
									<div class="inputs__txt">через</div>
									<input type="text" name="name" class="inputs__inp-min inputs__inp-min_mar input" placeholder="Ч">
									<input type="text" name="name" class="inputs__inp-min  input inputs__inp-min_mar" placeholder="М">
								</div>
								<div class="function__rel">
									<div class="inputs__txt">на</div>
									<input type="text" name="name" class="inputs__inp-min inputs__inp-min_mar input" placeholder="Ч">
									<input type="text" name="name" class="inputs__inp-min input" placeholder="М">
								</div>
							</div>
						</div>
						
						<div class="function__inputs inputs function__inputs_mar" style="display: none;">
							<input type="text" name="name" class="inputs__inp input" placeholder="№ перем.">
						</div>
					</div>
					<!------------------------------------------------------------------------------->
					
					<!---------------действие 5----------------------------------------->
					
					<div class="function__row3" id="row_action5_`+current_function_pos+`" style="display:none">
						<div class="function__row-name"></div>
						<div class="function__in">
							<div class="function__select select" onClick="expand_list('action5_select_action_func`+current_function_pos+`')">
								<div id="action5_selected_action_func`+current_function_pos+`">Выберите действие</div>
								<div class="select__posit" id="action5_select_action_func`+current_function_pos+`">
									<div class="select__option" onClick="set_action('action5_selected_action_func`+current_function_pos+`','Дискретный выход','func`+current_function_pos+`','action5_')">Дискретный выход</div>
									<div class="select__option" onClick="set_action('action5_selected_action_func`+current_function_pos+`','Аналоговый выход','func`+current_function_pos+`','action5_')">Аналоговый выход</div>
									<div class="select__option" onClick="set_action('action5_selected_action_func`+current_function_pos+`','Внутренняя переменная','func`+current_function_pos+`','action5_')">Внутренняя переменная</div>
								
								</div>
							</div>
							
							
							<div class="function__inputs function__inputs_mar inputs" style="display: none;" id="action5_action_variable_field_func`+current_function_pos+`">
								<input type="text" name="name" class="inputs__inp input" placeholder="№ перем." id="action5_action_variable_value_func`+current_function_pos+`">
							</div>
							
							
							<div class="function__select select function__select_mini" style="" id="action5_action_block_field_func`+current_function_pos+`" onClick="expand_list('action5_select_action_block_func`+current_function_pos+`')">
								<div id="action5_selected_action_block_func`+current_function_pos+`">№ блока</div>
								<div class="select__posit" id="action5_select_action_block_func`+current_function_pos+`">
									`+action5_block_list+`
								</div>
							</div>
							<div class="function__select select function__select_mini" style="" id="action5_action_output_field_func`+current_function_pos+`" onClick="expand_list('action5_select_action_output_func`+current_function_pos+`')">
								<div id="action5_selected_action_output_func`+current_function_pos+`">№ выхода</div>
								<div class="select__posit" id="action5_select_action_output_func`+current_function_pos+`">
									`+action5_output_list+`
								</div>
							</div>
							
							<div id="action5_action_znach_func`+current_function_pos+`" style="display:none">
							
							<table><tr><td>
								<div class="function__select function__select_mini4 select" style=""  onClick="expand_list('action5_select_action_do_func`+current_function_pos+`')">
									<div id="action5_selected_action_do_func`+current_function_pos+`">Выберите действие</div>
									<div class="select__posit" id="action5_select_action_do_func`+current_function_pos+`">
										<div class="select__option" onClick="set_action_do('action5_selected_action_do_func`+current_function_pos+`','Установить значение','func`+current_function_pos+`','action5_')">Установить значение</div>
										<div class="select__option" onClick="set_action_do('action5_selected_action_do_func`+current_function_pos+`','Изменить на','func`+current_function_pos+`','action5_')">Изменить на</div>
										<div class="select__option" onClick="set_action_do('action5_selected_action_do_func`+current_function_pos+`','Инвертировать','func`+current_function_pos+`','action5_')">Инвертировать</div>
										<!----<div class="select__option" onClick="set_action_do('selected_action_do_func`+current_function_pos+`','Повторить за','func`+current_function_pos+`')">Повторить за</div>
										--->
									</div>
								</div>
						
						</td><td>
							
								<div class="function__inputs inputs"  style="" id="action5_action_znach_display_value_func`+current_function_pos+`">
									<input type="text" name="name" class="inputs__inp input" id="action5_znach_action_do_func`+current_function_pos+`" placeholder="Значение">
								</div>
								
						</td></tr></table>
							</div>
							
							<div class="function__select select function__select_mini6" style="display: none;" id="action5_action_state_func`+current_function_pos+`" onClick="expand_list('action5_select_action_state_func`+current_function_pos+`')">
								<div id="action5_selected_state_func`+current_function_pos+`">Выберите</div>
								<div class="select__posit" style="display: none;" id="action5_select_action_state_func`+current_function_pos+`">
									<div class="select__option" onClick="set_action_state('action5_selected_state_func`+current_function_pos+`','Активировать','func`+current_function_pos+`','action5_')">Активировать</div>
									<div class="select__option" onClick="set_action_state('action5_selected_state_func`+current_function_pos+`','Деактивировать','func`+current_function_pos+`','action5_')">Деактивировать</div>
									<div class="select__option" onClick="set_action_state('action5_selected_state_func`+current_function_pos+`','Инвертировать','func`+current_function_pos+`','action5_')">Инвертировать</div>
								</div>
							
							</div>
							
							<div class="function__inputs inputs" style="display:block" >
									<input type="text" name="name" id="action5_action_delay_func`+current_function_pos+`" class="inputs__inp input" placeholder="Задержка">
								</div>
								
							<div class="function__inputs inputs" style="display:block">
									<input type="text" name="name" class="inputs__inp input" id="action5_action_time_func`+current_function_pos+`" placeholder="Время">
								</div>

							<div class="function__inputs function__inputs_ort inputs" style="display:none">
								<div class="function__rel function__rel_mob">
									<div class="inputs__txt">через</div>
									<input type="text" name="name" id="delay_from_hour_action_func`+current_function_pos+`" class="inputs__inp-min inputs__inp-min_mar input" placeholder="Ч">
									<input type="text" name="name" id="delay_from_min_action_func`+current_function_pos+`" class="inputs__inp-min  input inputs__inp-min_mar" placeholder="М">
								</div>
								<div class="function__rel">
									<div class="inputs__txt">на</div>
									<input type="text" name="name" id="delay_to_hour_action_func`+current_function_pos+`" class="inputs__inp-min inputs__inp-min_mar input" placeholder="Ч">
									<input type="text" name="name" id="delay_to_min_action_func`+current_function_pos+`" class="inputs__inp-min input" placeholder="М">
								</div>
							</div>
 							<div class="function__select select function__select_mini5" style="display: none;">
								Выберите действие
								<div class="select__posit">
									<div class="select__option">Дискретный вход</div>
									<div class="select__option">Дискретный выход</div>
									<div class="select__option">Аналоговый вход</div>
									<div class="select__option">Аналоговый выход</div>
									<div class="select__option">Аналоговый вход</div>
									<div class="select__option">Внутр. переменная</div>
									<div class="select__option">Ключи доступа 1-Wire-1</div>
									<div class="select__option">Кнопки 1-Wire-2</div>
									<div class="select__option">Температура 1-Wire-3</div>
								</div>
							</div>
							<div class="function__select select function__select_mini3" style="display: none;">
								Выберите
								<div class="select__posit">
									<div class="select__option">=</div>
									<div class="select__option">+</div>
									<div class="select__option">-</div>
								</div>
							</div>

							
							
							<div class="function__select select function__select_mini3" style="display: none;">
								Выберите
								<div class="select__posit">
									<div class="select__option">0</div>
									<div class="select__option">100</div>
								</div>
							</div>
							<div class="function__select select function__select_mini" style="display: none;">
								№ блока
								<div class="select__posit">
									<div class="select__option">№ 123</div>
									<div class="select__option">№ 456</div>
									<div class="select__option">№ 789</div>
									<div class="select__option">№ 101</div>
									<div class="select__option">№ 125</div>
									<div class="select__option">№ 456</div>
									<div class="select__option">№ 289</div>
									<div class="select__option">№ 301</div>
								</div>
							</div>
							<!--
								класс function__select_right
								добовляем на крайне правые элементы ( убираем отступ )
							-->
							<div class="function__select select function__select_mini function__select_right" style="display: none;">
								№ входа
								<div class="select__posit">
									<div class="select__option">№ 123</div>
									<div class="select__option">№ 456</div>
									<div class="select__option">№ 789</div>
									<div class="select__option">№ 101</div>
									<div class="select__option">№ 125</div>
									<div class="select__option">№ 456</div>
									<div class="select__option">№ 289</div>
									<div class="select__option">№ 301</div>
								</div>
							</div>
							<div class="function__select select function__select_mini function__select_right" style="display: none;">
								№ выхода
								<div class="select__posit">
									<div class="select__option">№ 123</div>
									<div class="select__option">№ 456</div>
									<div class="select__option">№ 789</div>
									<div class="select__option">№ 101</div>
									<div class="select__option">№ 125</div>
									<div class="select__option">№ 456</div>
									<div class="select__option">№ 289</div>
									<div class="select__option">№ 301</div>
								</div>
							</div>
							<div class="function__select select function__select_mini function__select_right" style="display: none;">
								№ адреса
								<div class="select__posit">
									<div class="select__option">№ 123</div>
									<div class="select__option">№ 456</div>
									<div class="select__option">№ 789</div>
									<div class="select__option">№ 101</div>
									<div class="select__option">№ 125</div>
									<div class="select__option">№ 456</div>
									<div class="select__option">№ 289</div>
									<div class="select__option">№ 301</div>
								</div>
							</div>
							
							<div class="function__select" style="display: none;">
								<input type="text" name="name" class="function__inp-max input" placeholder="Введите текст">
							</div>
							<div class="function__select" style="display: none;">
								<input type="text" name="name" class="function__inp-max input" placeholder="Номер телефона">
							</div>
							<div class="function__select function__message" style="display: none;">
								<div class="function__btt-mess button1">Отправить</div>
								<div class="function__btt-mess button0">Тест-сообщение</div>
							</div>
							<div class="function__select function__message" style="display: none;">
								<div class="function__btt-mess function__btt-mess_gree button1">Отправлено</div>
							</div>
							<div class="function__select function__message" style="display: none;">
								<div class="function__btt-mess function__btt-mess_orange button1">Не отправлено</div>
							</div>
							<div class="function__select function__message" style="display: none;">
								<div class="function__btt-mess button1">Отправить</div>
								<div class="function__btt-mess function__btt-mess_gree1 button0">Отправлено</div>
							</div>
							<div class="function__select function__message" style="display: none;">
								<div class="function__btt-mess button1">Отправить</div>
								<div class="function__btt-mess function__btt-mess_orange1 button0">Не отправлено</div>
							</div>
						</div>
						<div class="function__in" style="display: none;">
							<div class="function__inputs function__inputs_ort inputs">
								<div class="function__rel function__rel_mob">
									<div class="inputs__txt">через</div>
									<input type="text" name="name" class="inputs__inp-min inputs__inp-min_mar input" placeholder="Ч">
									<input type="text" name="name" class="inputs__inp-min  input inputs__inp-min_mar" placeholder="М">
								</div>
								<div class="function__rel">
									<div class="inputs__txt">на</div>
									<input type="text" name="name" class="inputs__inp-min inputs__inp-min_mar input" placeholder="Ч">
									<input type="text" name="name" class="inputs__inp-min input" placeholder="М">
								</div>
							</div>
						</div>
						
						<div class="function__inputs inputs function__inputs_mar" style="display: none;">
							<input type="text" name="name" class="inputs__inp input" placeholder="№ перем.">
						</div>
					</div>
					<!------------------------------------------------------------------------------->
					
						<div class="function__btt1 button0" onClick="add_new_action('`+current_function_pos+`')" id="add_action_button_`+current_function_pos+`" style="margin-top:15px;padding-top:10px;display:block">Добавить действие</div>
						<div class="function__btt1 button0" onClick="del_new_action('`+current_function_pos+`')" id="del_action_button_`+current_function_pos+`" style="margin-top:15px;padding-top:10px;display:none">Удалить действие</div>
					
					<div class="function__bottom">
						<div class="function__btt1 button0" onClick="json_export('`+current_function_pos+`')">Экспорт в JSON</div>
						<div class="function__btt2 button1" onClick="save_func('`+current_function_pos+`')">Сохранить параметры</div>
					</div>
				</div>
			</div>
		
		
		
		
		
		`;
		
		document.getElementById('functions_list').innerHTML=document.getElementById('functions_list').innerHTML+function_str;
			set_div_listener();
	
		
	
	}
	
	
	
		function set_selected_trigger(id,trigger_naim,id_func,real_id_func) {
		
			generate_block_lists(real_id_func);
		
			document.getElementById(id).innerHTML=trigger_naim;
			setTimeout(function() {
				document.getElementById('select_trigger_'+id_func).style.display="none";
			},100);
			
			////сначала приводим все к стандартному состоянию
			//document.getElementById('trigger_input_field_'+id_func).style.display="block";
			//document.getElementById('trigger_output_field_'+id_func).style.display="block";
			//document.getElementById('trigger_address_field_'+id_func).style.display="block";
			//document.getElementById('trigger_block_field_'+id_func).style.display="block";
			
			///////////////////////////часы/////////////////////////
			if(trigger_naim=="Часы") {
				
				document.getElementById('trigger_clock_field_'+id_func).style.display="block";
				
				document.getElementById('select_front_'+id_func).style.display="none";
				document.getElementById('select_type_event_'+id_func).style.display="none";
				document.getElementById('porog_'+id_func).style.display="none";
				document.getElementById('trigger_variable_field_'+id_func).style.display="none";
					
				
				document.getElementById('trigger_input_field_'+id_func).style.display="none";
				document.getElementById('trigger_output_field_'+id_func).style.display="none";
				document.getElementById('trigger_address_field_'+id_func).style.display="none";
				document.getElementById('trigger_block_field_'+id_func).style.display="none";
				
			} else {
				
				document.getElementById('trigger_clock_field_'+id_func).style.display="none";
				document.getElementById('trigger_block_field_'+id_func).style.display="block";
			}
			
			
			/////отображаем номер переменной
			if(trigger_naim=="Внутренняя переменная") {
				
					document.getElementById('select_front_'+id_func).style.display="none";
					document.getElementById('select_type_event_'+id_func).style.display="none";
					document.getElementById('porog_'+id_func).style.display="none";
					document.getElementById('trigger_variable_field_'+id_func).style.display="block";
					
				
					document.getElementById('trigger_input_field_'+id_func).style.display="none";
					document.getElementById('trigger_output_field_'+id_func).style.display="none";
					document.getElementById('trigger_address_field_'+id_func).style.display="none";
					document.getElementById('trigger_block_field_'+id_func).style.display="none";
					
			} else {
				
				if(trigger_naim!="Часы") {
					document.getElementById('trigger_block_field_'+id_func).style.display="block";
				}
			}
			
			
			////отображаем фронты/спады или значения
			if((trigger_naim=="Дискретный вход")||(trigger_naim=="Дискретный выход")||(trigger_naim=="Ключи доступа 1-Wire-1")||(trigger_naim=="Кнопки 1-Wire-2")) {
				
					document.getElementById('select_front_'+id_func).style.display="block";
					document.getElementById('select_type_event_'+id_func).style.display="none";
					document.getElementById('porog_'+id_func).style.display="none";
					document.getElementById('trigger_variable_field_'+id_func).style.display="none";
					
				
			} 
			
			if((trigger_naim=="Аналоговый вход")||(trigger_naim=="Аналоговый выход")||(trigger_naim=="Температура 1-Wire-3")||(trigger_naim=="Внутренняя переменная")) {
				
					document.getElementById('select_front_'+id_func).style.display="none";
					document.getElementById('select_type_event_'+id_func).style.display="block";
					document.getElementById('porog_'+id_func).style.display="block";
					if(trigger_naim!="Внутренняя переменная") {
						document.getElementById('trigger_variable_field_'+id_func).style.display="none";
					}
			} 
			
		
			///отображем вход или выход
			if((trigger_naim=="Дискретный вход")||(trigger_naim=="Аналоговый вход")) {
			
				document.getElementById('trigger_input_field_'+id_func).style.display="block";
				document.getElementById('trigger_output_field_'+id_func).style.display="none";
				document.getElementById('trigger_address_field_'+id_func).style.display="none";
				document.getElementById('trigger_variable_field_'+id_func).style.display="none";
				
				document.getElementById('trigger_input_field_'+id_func).style.display="block";
				
			}
			
			if((trigger_naim=="Дискретный выход")||(trigger_naim=="Аналоговый выход")) {
			
				document.getElementById('trigger_input_field_'+id_func).style.display="none";
				document.getElementById('trigger_output_field_'+id_func).style.display="block";
				document.getElementById('trigger_address_field_'+id_func).style.display="none";
				document.getElementById('trigger_variable_field_'+id_func).style.display="none";
				
				document.getElementById('trigger_output_field_'+id_func).style.display="block";
			}
			
			if((trigger_naim=="Ключи доступа 1-Wire-1")||(trigger_naim=="Кнопки 1-Wire-2")||(trigger_naim=="Температура 1-Wire-3")) {
			
				document.getElementById('trigger_input_field_'+id_func).style.display="none";
				document.getElementById('trigger_output_field_'+id_func).style.display="none";
				document.getElementById('trigger_address_field_'+id_func).style.display="block";
				document.getElementById('trigger_variable_field_'+id_func).style.display="none";
				
				
				////тут выставляем правильные адреса
				if(trigger_naim=="Ключи доступа 1-Wire-1") {
					
					document.getElementById('select_input_address_'+id_func).innerHTML=input_address_list_key;
				}
				if(trigger_naim=="Кнопки 1-Wire-2") {
					
					document.getElementById('select_input_address_'+id_func).innerHTML=input_address_list_button;
				}
				if(trigger_naim=="Температура 1-Wire-3") {
				
					document.getElementById('select_input_address_'+id_func).innerHTML=input_address_list_temp;
				}
				
				
				
			}
			
			
			
			
		}
		
		function set_selected_block(id,block_naim,id_func) {
		
			document.getElementById(id).innerHTML=block_naim;
			setTimeout(function() {
				document.getElementById('select_block_'+id_func).style.display="none";
			},100);
		
		}
		
		function set_selected_input(id,block_naim,id_func) {
		
			document.getElementById(id).innerHTML=block_naim;
			setTimeout(function() {
				document.getElementById('select_input_'+id_func).style.display="none";
			},100);
			
		}
		
		function set_selected_output(id,block_naim,id_func) {
		
			document.getElementById(id).innerHTML=block_naim;
			setTimeout(function() {
				document.getElementById('select_output_'+id_func).style.display="none";
			},100);
		
		}
		
		function set_selected_input_address(id,block_naim,id_func) {
		
			
			document.getElementById(id).innerHTML=block_naim;
			setTimeout(function() {
				document.getElementById('select_input_address_'+id_func).style.display="none";
			},100);
		
		}
		
		
		function set_selected_condition_address(id,naim,id_func,condition_id) {
	
			///alert(id);
	
			////console.log("from "+id+" prevent_value="+document.getElementById(id).innerHTML+", new_value="+naim);
			document.getElementById(id).innerHTML=naim;
			
			
			setTimeout(function() {
				document.getElementById(condition_id+'_select_condition_address_'+id_func).style.display="none";
			},100);
		}
		
		function set_front_trigger(id,event_naim,id_func) {
			
			document.getElementById(id).innerHTML=event_naim;
			setTimeout(function() {
				document.getElementById('select_front_option_'+id_func).style.display="none";
			},100);
		}
		
		
		function set_event_trigger(id,event_naim,id_func) {
		
			document.getElementById(id).innerHTML=event_naim;
			
			
			
			if((event_naim=="Превышение порога")||(event_naim=="Ниже порогового уровня")) {
				document.getElementById("porog_"+id_func).style.display="block";
				document.getElementById("interval_"+id_func).style.display="none";
				document.getElementById("znach_"+id_func).style.display="none";

			}
			
			if((event_naim=="Вход в диапазон")||(event_naim=="Выход из диапазона")) {
				document.getElementById("porog_"+id_func).style.display="none";
				document.getElementById("interval_"+id_func).style.display="block";
				document.getElementById("znach_"+id_func).style.display="none";

			}
			
			if(event_naim=="По достижении значения") {
				
			document.getElementById("porog_"+id_func).style.display="block";
				document.getElementById("interval_"+id_func).style.display="none";
				document.getElementById("znach_"+id_func).style.display="none";

			}
			
			
			if(event_naim=="Любое изменение") {
				
			document.getElementById("porog_"+id_func).style.display="none";
				document.getElementById("interval_"+id_func).style.display="none";
				document.getElementById("znach_"+id_func).style.display="none";

			}
			
			
			setTimeout(function() {
				document.getElementById('select_event_'+id_func).style.display="none";
			},100);
		}
		
		
	function set_condition(id,condition_naim,id_func) {
	
		
			document.getElementById(id).innerHTML=condition_naim;
			setTimeout(function() {
				document.getElementById('select_condition_'+id_func).style.display="none";
			},100);
	
	}
	
	function set_condition_type(id,condition_type_naim,id_func,real_id_func,condition_id) {
	
			generate_block_lists(real_id_func);
	
			document.getElementById(id).innerHTML=condition_type_naim;
			setTimeout(function() {
				document.getElementById(condition_id+'_select_condition_type_'+id_func).style.display="none";
			},100);
			
			document.getElementById(condition_id+'_condition_block_field_'+id_func).style.display="block";
			
			////если бинарные сущности - показываем активен или нет, если аналогвые - сравнение
	if((condition_type_naim=="Дискретный вход")||(condition_type_naim=="Дискретный выход")||(condition_type_naim=="Ключи доступа 1-Wire-1")||(condition_type_naim=="Кнопки 1-Wire-2")) {
				
				document.getElementById(condition_id+'_condition_state_field_'+id_func).style.display="block";
				document.getElementById(condition_id+'_condition_uslovie_field_'+id_func).style.display="none";
				document.getElementById(condition_id+'_condition_interval_'+id_func).style.display="none";
				document.getElementById(condition_id+'_condition_znach_'+id_func).style.display="none";
				
			
				
			} else {
				
				document.getElementById(condition_id+'_condition_state_field_'+id_func).style.display="none";
				document.getElementById(condition_id+'_condition_uslovie_field_'+id_func).style.display="block";
				document.getElementById(condition_id+'_selected_condition_value_'+id_func).innerHTML="";
			}
			
		
			
			////тут выставляем правильные адреса
			if((condition_type_naim=="Ключи доступа 1-Wire-1")||(condition_type_naim=="Кнопки 1-Wire-2")||(condition_type_naim=="Температура 1-Wire-3")) {
			
				document.getElementById(condition_id+'_condition_input_field_'+id_func).style.display="none";
				document.getElementById(condition_id+'_condition_address_field_'+id_func).style.display="block";
				document.getElementById(condition_id+'_condition_variable_field_'+id_func).style.display="none";
			
			
				if(condition_type_naim=="Ключи доступа 1-Wire-1") {
					
					if(condition_id==1) document.getElementById(condition_id+'_select_condition_address_'+id_func).innerHTML=condition1_address_list_key;
					if(condition_id==2) document.getElementById(condition_id+'_select_condition_address_'+id_func).innerHTML=condition2_address_list_key;
					if(condition_id==3) document.getElementById(condition_id+'_select_condition_address_'+id_func).innerHTML=condition3_address_list_key;
					if(condition_id==4) document.getElementById(condition_id+'_select_condition_address_'+id_func).innerHTML=condition4_address_list_key;
					if(condition_id==5) document.getElementById(condition_id+'_select_condition_address_'+id_func).innerHTML=condition5_address_list_key;
				}
				if(condition_type_naim=="Кнопки 1-Wire-2") {
					
					if(condition_id==1)  document.getElementById(condition_id+'_select_condition_address_'+id_func).innerHTML=condition1_address_list_button;
					if(condition_id==2)  document.getElementById(condition_id+'_select_condition_address_'+id_func).innerHTML=condition2_address_list_button;
					if(condition_id==3)  document.getElementById(condition_id+'_select_condition_address_'+id_func).innerHTML=condition3_address_list_button;
					if(condition_id==4)  document.getElementById(condition_id+'_select_condition_address_'+id_func).innerHTML=condition4_address_list_button;
					if(condition_id==5)  document.getElementById(condition_id+'_select_condition_address_'+id_func).innerHTML=condition5_address_list_button;
				}
				if(condition_type_naim=="Температура 1-Wire-3") {
				
					///console.log(condition1_address_list_temp);
				
					document.getElementById(condition_id+'_select_condition_address_'+id_func).innerHTML="";
					
					if(condition_id=="condition1")  document.getElementById(condition_id+'_select_condition_address_'+id_func).innerHTML=condition1_address_list_temp;
					if(condition_id=="condition2")  document.getElementById(condition_id+'_select_condition_address_'+id_func).innerHTML=condition2_address_list_temp;
					if(condition_id=="condition3")  document.getElementById(condition_id+'_select_condition_address_'+id_func).innerHTML=condition3_address_list_temp;
					if(condition_id=="condition4")  document.getElementById(condition_id+'_select_condition_address_'+id_func).innerHTML=condition4_address_list_temp;
					if(condition_id=="condition5")  document.getElementById(condition_id+'_select_condition_address_'+id_func).innerHTML=condition5_address_list_temp;
					
					console.log(document.getElementById(condition_id+'_select_condition_address_'+id_func).innerHTML);
					
				}
			} else {
				
				
					document.getElementById(condition_id+'_condition_input_field_'+id_func).style.display="none";
					document.getElementById(condition_id+'_condition_address_field_'+id_func).style.display="none";
			
			}
			
		
				if(condition_type_naim=="Внутренняя переменная") {
					document.getElementById(condition_id+'_condition_input_field_'+id_func).style.display="none";
					document.getElementById(condition_id+'_condition_address_field_'+id_func).style.display="none";
					document.getElementById(condition_id+'_condition_block_field_'+id_func).style.display="none";
					document.getElementById(condition_id+'_condition_variable_field_'+id_func).style.display="block";
				} else {
					document.getElementById(condition_id+'_condition_variable_field_'+id_func).style.display="none";
				
				}		
				
			if((condition_type_naim=="Дискретный вход")||(condition_type_naim=="Аналоговый вход")) {
					document.getElementById(condition_id+'_condition_input_field_'+id_func).style.display="block";
					document.getElementById(condition_id+'_condition_address_field_'+id_func).style.display="none";
					document.getElementById(condition_id+'_condition_block_field_'+id_func).style.display="block";
					document.getElementById(condition_id+'_condition_variable_field_'+id_func).style.display="none";
				} 
			
	
	}
	
	function set_condition_block(id,condition_type_naim,id_func,condition_id) {
	
			document.getElementById(id).innerHTML=condition_type_naim;
			setTimeout(function() {
				document.getElementById(condition_id+'_select_condition_block_'+id_func).style.display="none";
			},100);
	
	}
	
	function set_condition_input(id,condition_type_naim,id_func,condition_id) {
		
			console.log("from "+id+" prevent_value="+document.getElementById(id).innerHTML+", new_value="+condition_type_naim);
	
			document.getElementById(id).innerHTML=condition_type_naim;
			setTimeout(function() {
				document.getElementById(condition_id+'_select_condition_input_'+id_func).style.display="none";
			},100);
	
	}
	
	function set_condition_address(id,condition_type_naim,id_func,condition_id) {
	
			document.getElementById(id).innerHTML=condition_type_naim;
			setTimeout(function() {
				document.getElementById(condition_id+'_select_condition_address_'+id_func).style.display="none";
			},100);
	
	}
	
	
	function set_condition_state(id,condition_type_naim,id_func,condition_id) {
	
			document.getElementById(id).innerHTML=condition_type_naim;
			setTimeout(function() {
				document.getElementById(condition_id+'_select_condition_state_'+id_func).style.display="none";
			},100);
	
	}
	
	function set_condition_value(id,condition_type_naim,id_func,condition_id) {
	
		document.getElementById(id).innerHTML=condition_type_naim;
			setTimeout(function() {
				document.getElementById(condition_id+'_select_condition_value_'+id_func).style.display="none";
			},100);
			
		if((condition_type_naim!="В диапазоне")&&(condition_type_naim!="Вне диапазона")) {
		
			
			document.getElementById(condition_id+"_condition_znach_"+id_func).style.display="block";
			document.getElementById(condition_id+"_condition_interval_"+id_func).style.display="none";
		} else {
		
			document.getElementById(condition_id+"_condition_znach_"+id_func).style.display="none";
			document.getElementById(condition_id+"_condition_interval_"+id_func).style.display="block";
		
		}
		
		if(condition_type_naim=="Любое изменение") {
			document.getElementById(condition_id+"_condition_znach_"+id_func).style.display="none";
			document.getElementById(condition_id+"_condition_interval_"+id_func).style.display="none";
		}
	
	}
	
	function set_action(id,action_naim,id_func,action_id='') {
	
		document.getElementById(id).innerHTML=action_naim;
			setTimeout(function() {
				document.getElementById(action_id+'select_action_'+id_func).style.display="none";
			},100);
	
	document.getElementById(action_id+'action_variable_field_'+id_func).style.display="none";
	document.getElementById(action_id+'action_block_field_'+id_func).style.display="block";
	document.getElementById(action_id+'action_output_field_'+id_func).style.display="block";
	
	if(action_naim=="Дискретный выход") {
			document.getElementById(action_id+'action_znach_'+id_func).style.display="none";
			document.getElementById(action_id+'action_state_'+id_func).style.display="block";
			
			
		} else {
			
			document.getElementById(action_id+'action_znach_'+id_func).style.display="block";
			document.getElementById(action_id+'action_state_'+id_func).style.display="none";
			
			if(action_naim=="Внутренняя переменная") {
				
				document.getElementById(action_id+'action_variable_field_'+id_func).style.display="block";
				document.getElementById(action_id+'action_block_field_'+id_func).style.display="none";
				document.getElementById(action_id+'action_output_field_'+id_func).style.display="none";
				
			}
		}
	
	}
	
	function set_action_block(id,action_block_naim,id_func,action_id='') {
	
		document.getElementById(id).innerHTML=action_block_naim;
			setTimeout(function() {
				document.getElementById(action_id+'select_action_block_'+id_func).style.display="none";
			},100);
	
	}
	
	function set_action_output(id,action_block_naim,id_func,action_id='') {
		document.getElementById(id).innerHTML=action_block_naim;
			setTimeout(function() {
				document.getElementById(action_id+'select_action_output_'+id_func).style.display="none";
			},100);

	}
	
	
	function set_action_state(id,action_block_naim,id_func,action_id='') {
		
		document.getElementById(id).innerHTML=action_block_naim;
			setTimeout(function() {
				document.getElementById(action_id+'select_action_state_'+id_func).style.display="none";
			},100);
	}
	
	function set_action_do(id,action_block_naim,id_func,action_id='') {
		document.getElementById(id).innerHTML=action_block_naim;
			setTimeout(function() {
				document.getElementById(action_id+'select_action_do_'+id_func).style.display="none";
			},100);
			
			///alert(id_func);
			
			if(action_block_naim=="Инвертировать") {
				document.getElementById(action_id+'action_znach_display_value_'+id_func).style.display="none";
			} else {
				document.getElementById(action_id+'action_znach_display_value_'+id_func).style.display="block";
			}
			
			/// style="" id="action1_action_znach_display_value_`+current_function_pos+`"
	
	}
		
	
	</script>
	
	
	<main class="function">
		<div class="function__top">
			<div class="function__title title">Функции</div>
			<div class="function__button button1" onclick="tmp_modal()">Добавить</div>
		</div>
		<div class="function__content" id="functions_list">
		
		
		
			
					
					
					
	<!-----------------------список функций------------------------------>
	
	
	


		</div>
	</main>

<!--<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.0/jquery.min.js"></script>-->
<script>
	function tmp_modal() {
		$(".popup1").show();
	}
	function tmp_modal1() {
		///
	}
	$(".select").click(function () {
		$(this).find('.select__posit').show();
		$(this).css({"border":"1px solid #BAD1D7","background-color":"#fff","height":"38px","margin-bottom":"-6px"});
	});
	$(".function__row").click(function () {
		$(this).find(".function__seting").show();
	});
</script>

</body>
</html>
